{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Terraform","url":"/terraform"},{"title":"Terraform CLI","url":"/terraform/cli","isCurrentPage":false},{"title":"commands"},{"title":"test"}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Terraform Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Terraform","fullPath":"/terraform","theme":"terraform"},{"title":"Install","fullPath":"/terraform/install"},{"title":"Tutorials","fullPath":"/terraform/tutorials"},{"title":"Documentation","isOpen":true,"routes":[{"title":"About the Docs","fullPath":"/terraform/docs"},{"title":"Configuration Language","fullPath":"/terraform/language"},{"title":"Terraform CLI","fullPath":"/terraform/cli"},{"title":"HCP Terraform","fullPath":"/terraform/cloud-docs"},{"title":"Terraform Enterprise","fullPath":"/terraform/enterprise"},{"title":"CDK for Terraform","fullPath":"/terraform/cdktf"},{"title":"Provider Use","fullPath":"/terraform/language/providers"},{"title":"Plugin Development","fullPath":"/terraform/plugin"},{"title":"Registry Publishing","fullPath":"/terraform/registry"},{"title":"Integration Program","fullPath":"/terraform/docs/partnerships"}]}],"showFilterInput":false,"title":"Terraform","visuallyHideTitle":true},{"backToLinkProps":{"text":"Terraform Home","href":"/terraform"},"levelButtonProps":{"levelUpButtonText":"Terraform Home"},"menuItems":[{"title":"Terraform CLI","fullPath":"/terraform/cli","theme":"terraform"},{"title":"Basic CLI Features","href":null,"fullPath":"/terraform/cli/commands","id":"sidebar-nav-item-2","path":"/cli/commands"},{"title":"Initializing Working Directories","routes":[{"title":"Overview","path":"init","filePath":"../docs/cli/init/index.mdx","fullPath":"/terraform/cli/init","id":"sidebar-nav-item-4"},{"title":"<code>init</code>","href":null,"fullPath":"/terraform/cli/commands/init","id":"sidebar-nav-item-5","path":"/cli/commands/init"},{"title":"<code>get</code>","href":null,"fullPath":"/terraform/cli/commands/get","id":"sidebar-nav-item-6","path":"/cli/commands/get"}],"id":"sidebar-nav-item-3"},{"title":"Provisioning Infrastructure","routes":[{"title":"Overview","path":"run","filePath":"../docs/cli/run/index.mdx","fullPath":"/terraform/cli/run","id":"sidebar-nav-item-8"},{"title":"<code>plan</code>","href":null,"fullPath":"/terraform/cli/commands/plan","id":"sidebar-nav-item-9","path":"/cli/commands/plan"},{"title":"<code>apply</code>","href":null,"fullPath":"/terraform/cli/commands/apply","id":"sidebar-nav-item-10","path":"/cli/commands/apply"},{"title":"<code>destroy</code>","href":null,"fullPath":"/terraform/cli/commands/destroy","id":"sidebar-nav-item-11","path":"/cli/commands/destroy"}],"id":"sidebar-nav-item-7"},{"title":"Authenticating","routes":[{"title":"Overview","path":"auth","filePath":"../docs/cli/auth/index.mdx","fullPath":"/terraform/cli/auth","id":"sidebar-nav-item-13"},{"title":"<code>login</code>","href":null,"fullPath":"/terraform/cli/commands/login","id":"sidebar-nav-item-14","path":"/cli/commands/login"},{"title":"<code>logout</code>","href":null,"fullPath":"/terraform/cli/commands/logout","id":"sidebar-nav-item-15","path":"/cli/commands/logout"}],"id":"sidebar-nav-item-12"},{"title":"Writing and Modifying Code","routes":[{"title":"Overview","path":"code","filePath":"../docs/cli/code/index.mdx","fullPath":"/terraform/cli/code","id":"sidebar-nav-item-17"},{"title":"<code>console</code>","href":null,"fullPath":"/terraform/cli/commands/console","id":"sidebar-nav-item-18","path":"/cli/commands/console"},{"title":"<code>fmt</code>","href":null,"fullPath":"/terraform/cli/commands/fmt","id":"sidebar-nav-item-19","path":"/cli/commands/fmt"},{"title":"<code>validate</code>","href":null,"fullPath":"/terraform/cli/commands/validate","id":"sidebar-nav-item-20","path":"/cli/commands/validate"},{"title":"<code>0.13upgrade</code>","href":null,"fullPath":"/terraform/cli/commands/0.13upgrade","id":"sidebar-nav-item-21","path":"/cli/commands/0.13upgrade"},{"title":"<code>0.12upgrade</code>","href":null,"fullPath":"/terraform/cli/commands/0.12upgrade","id":"sidebar-nav-item-22","path":"/cli/commands/0.12upgrade"}],"id":"sidebar-nav-item-16"},{"title":"Inspecting Infrastructure","routes":[{"title":"Overview","path":"inspect","filePath":"../docs/cli/inspect/index.mdx","fullPath":"/terraform/cli/inspect","id":"sidebar-nav-item-24"},{"title":"<code>graph</code>","href":null,"fullPath":"/terraform/cli/commands/graph","id":"sidebar-nav-item-25","path":"/cli/commands/graph"},{"title":"<code>output</code>","href":null,"fullPath":"/terraform/cli/commands/output","id":"sidebar-nav-item-26","path":"/cli/commands/output"},{"title":"<code>show</code>","href":null,"fullPath":"/terraform/cli/commands/show","id":"sidebar-nav-item-27","path":"/cli/commands/show"},{"title":"<code>state list</code>","href":null,"fullPath":"/terraform/cli/commands/state/list","id":"sidebar-nav-item-28","path":"/cli/commands/state/list"},{"title":"<code>state show</code>","href":null,"fullPath":"/terraform/cli/commands/state/show","id":"sidebar-nav-item-29","path":"/cli/commands/state/show"}],"id":"sidebar-nav-item-23"},{"title":"Importing Infrastructure","routes":[{"title":"Overview","path":"import","filePath":"../docs/cli/import/index.mdx","fullPath":"/terraform/cli/import","id":"sidebar-nav-item-31"},{"title":"<code>import</code>","href":null,"fullPath":"/terraform/cli/commands/import","id":"sidebar-nav-item-32","path":"/cli/commands/import"},{"title":"Usage Tips","path":"import/usage","filePath":"../docs/cli/import/usage.mdx","fullPath":"/terraform/cli/import/usage","id":"sidebar-nav-item-33"},{"title":"Resource Importability","path":"import/importability","filePath":"../docs/cli/import/importability.mdx","fullPath":"/terraform/cli/import/importability","id":"sidebar-nav-item-34"}],"id":"sidebar-nav-item-30"},{"title":"Manipulating State","routes":[{"title":"Overview","path":"state","filePath":"../docs/cli/state/index.mdx","fullPath":"/terraform/cli/state","id":"sidebar-nav-item-36"},{"title":"Resource Addressing","path":"state/resource-addressing","filePath":"../docs/cli/state/resource-addressing.mdx","fullPath":"/terraform/cli/state/resource-addressing","id":"sidebar-nav-item-37"},{"title":"<code>state</code>","href":null,"fullPath":"/terraform/cli/commands/state","id":"sidebar-nav-item-38","path":"/cli/commands/state"},{"title":"Inspecting State","routes":[{"title":"Overview","path":"state/inspect","filePath":"../docs/cli/state/inspect.mdx","fullPath":"/terraform/cli/state/inspect","id":"sidebar-nav-item-40"},{"title":"<code>state list</code>","href":null,"fullPath":"/terraform/cli/commands/state/list","id":"sidebar-nav-item-41","path":"/cli/commands/state/list"},{"title":"<code>state show</code>","href":null,"fullPath":"/terraform/cli/commands/state/show","id":"sidebar-nav-item-42","path":"/cli/commands/state/show"},{"title":"<code>refresh</code>","href":null,"fullPath":"/terraform/cli/commands/refresh","id":"sidebar-nav-item-43","path":"/cli/commands/refresh"}],"id":"sidebar-nav-item-39"},{"title":"Forcing Re-creation (Tainting)","routes":[{"title":"Overview","path":"state/taint","filePath":"../docs/cli/state/taint.mdx","fullPath":"/terraform/cli/state/taint","id":"sidebar-nav-item-45"},{"title":"<code>taint</code>","href":null,"fullPath":"/terraform/cli/commands/taint","id":"sidebar-nav-item-46","path":"/cli/commands/taint"},{"title":"<code>untaint</code>","href":null,"fullPath":"/terraform/cli/commands/untaint","id":"sidebar-nav-item-47","path":"/cli/commands/untaint"}],"id":"sidebar-nav-item-44"},{"title":"Moving Resources","routes":[{"title":"Overview","path":"state/move","filePath":"../docs/cli/state/move.mdx","fullPath":"/terraform/cli/state/move","id":"sidebar-nav-item-49"},{"title":"<code>state mv</code>","href":null,"fullPath":"/terraform/cli/commands/state/mv","id":"sidebar-nav-item-50","path":"/cli/commands/state/mv"},{"title":"<code>state rm</code>","href":null,"fullPath":"/terraform/cli/commands/state/rm","id":"sidebar-nav-item-51","path":"/cli/commands/state/rm"},{"title":"<code>state replace-provider</code>","href":null,"fullPath":"/terraform/cli/commands/state/replace-provider","id":"sidebar-nav-item-52","path":"/cli/commands/state/replace-provider"}],"id":"sidebar-nav-item-48"},{"title":"Disaster Recovery","routes":[{"title":"Overview","path":"state/recover","filePath":"../docs/cli/state/recover.mdx","fullPath":"/terraform/cli/state/recover","id":"sidebar-nav-item-54"},{"title":"<code>state pull</code>","href":null,"fullPath":"/terraform/cli/commands/state/pull","id":"sidebar-nav-item-55","path":"/cli/commands/state/pull"},{"title":"<code>state push</code>","href":null,"fullPath":"/terraform/cli/commands/state/push","id":"sidebar-nav-item-56","path":"/cli/commands/state/push"},{"title":"<code>force-unlock</code>","href":null,"fullPath":"/terraform/cli/commands/force-unlock","id":"sidebar-nav-item-57","path":"/cli/commands/force-unlock"}],"id":"sidebar-nav-item-53"}],"id":"sidebar-nav-item-35"},{"title":"Managing Workspaces","routes":[{"title":"Overview","path":"workspaces","filePath":"../docs/cli/workspaces/index.mdx","fullPath":"/terraform/cli/workspaces","id":"sidebar-nav-item-59"},{"title":"<code>workspace</code>","routes":[{"title":"Overview","href":null,"fullPath":"/terraform/cli/commands/workspace","id":"sidebar-nav-item-61","path":"/cli/commands/workspace"},{"title":"<code>workspace list</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/list","id":"sidebar-nav-item-62","path":"/cli/commands/workspace/list"},{"title":"<code>workspace select</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/select","id":"sidebar-nav-item-63","path":"/cli/commands/workspace/select"},{"title":"<code>workspace new</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/new","id":"sidebar-nav-item-64","path":"/cli/commands/workspace/new"},{"title":"<code>workspace delete</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/delete","id":"sidebar-nav-item-65","path":"/cli/commands/workspace/delete"},{"title":"<code>workspace show</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/show","id":"sidebar-nav-item-66","path":"/cli/commands/workspace/show"}],"id":"sidebar-nav-item-60"}],"id":"sidebar-nav-item-58"},{"title":"Managing Plugins","routes":[{"title":"Overview","path":"plugins","filePath":"../docs/cli/plugins/index.mdx","fullPath":"/terraform/cli/plugins","id":"sidebar-nav-item-68"},{"title":"Plugin Signing","path":"plugins/signing","filePath":"../docs/cli/plugins/signing.mdx","fullPath":"/terraform/cli/plugins/signing","id":"sidebar-nav-item-69"},{"title":"<code>providers</code>","href":null,"fullPath":"/terraform/cli/commands/providers","id":"sidebar-nav-item-70","path":"/cli/commands/providers"},{"title":"<code>version</code>","href":null,"fullPath":"/terraform/cli/commands/version","id":"sidebar-nav-item-71","path":"/cli/commands/version"},{"title":"<code>providers lock</code>","href":null,"fullPath":"/terraform/cli/commands/providers/lock","id":"sidebar-nav-item-72","path":"/cli/commands/providers/lock"},{"title":"<code>providers mirror</code>","href":null,"fullPath":"/terraform/cli/commands/providers/mirror","id":"sidebar-nav-item-73","path":"/cli/commands/providers/mirror"},{"title":"<code>providers schema</code>","href":null,"fullPath":"/terraform/cli/commands/providers/schema","id":"sidebar-nav-item-74","path":"/cli/commands/providers/schema"}],"id":"sidebar-nav-item-67"},{"title":"CLI Configuration","routes":[{"title":"Overview","path":"config","filePath":"../docs/cli/config/index.mdx","fullPath":"/terraform/cli/config","id":"sidebar-nav-item-76"},{"title":"CLI Configuration","path":"config/config-file","filePath":"../docs/cli/config/config-file.mdx","fullPath":"/terraform/cli/config/config-file","id":"sidebar-nav-item-77"},{"title":"Environment Variables","path":"config/environment-variables","filePath":"../docs/cli/config/environment-variables.mdx","fullPath":"/terraform/cli/config/environment-variables","id":"sidebar-nav-item-78"}],"id":"sidebar-nav-item-75"},{"title":"Using HCP Terraform","routes":[{"title":"Overview","path":"cloud","filePath":"../docs/cli/cloud/index.mdx","fullPath":"/terraform/cli/cloud","id":"sidebar-nav-item-80"},{"title":"HCP Terraform Settings","path":"cloud/settings","filePath":"../docs/cli/cloud/settings.mdx","fullPath":"/terraform/cli/cloud/settings","id":"sidebar-nav-item-81"},{"title":"Initializing and Migrating","path":"cloud/migrating","filePath":"../docs/cli/cloud/migrating.mdx","fullPath":"/terraform/cli/cloud/migrating","id":"sidebar-nav-item-82"},{"title":"Command Line Arguments","path":"cloud/command-line-arguments","filePath":"../docs/cli/cloud/command-line-arguments.mdx","fullPath":"/terraform/cli/cloud/command-line-arguments","id":"sidebar-nav-item-83"}],"id":"sidebar-nav-item-79"},{"title":"Testing Terraform","routes":[{"title":"Overview","path":"test","filePath":"../docs/cli/test/index.mdx","fullPath":"/terraform/cli/test","id":"sidebar-nav-item-85"},{"title":"<code>test<code>","href":null,"fullPath":"/terraform/cli/commands/test","id":"sidebar-nav-item-86","path":"/cli/commands/test"}],"id":"sidebar-nav-item-84"},{"title":"Automating Terraform","routes":[{"title":"Running Terraform in Automation","href":"/terraform/tutorials/automation/automate-terraform?utm_source=WEBSITE&utm_medium=WEB_IO&utm_offer=ARTICLE_PAGE&utm_content=DOCS","id":"sidebar-nav-item-88"},{"title":"GitHub Actions","href":"/terraform/tutorials/automation/github-actions?utm_source=WEBSITE&utm_medium=WEB_IO&utm_offer=ARTICLE_PAGE&utm_content=DOCS","id":"sidebar-nav-item-89"}],"id":"sidebar-nav-item-87"},{"title":"Alphabetical List of Commands","routes":[{"title":"Overview","href":null,"fullPath":"/terraform/cli/commands","id":"sidebar-nav-item-91","path":"/cli/commands"},{"title":"<code>apply</code>","href":null,"fullPath":"/terraform/cli/commands/apply","id":"sidebar-nav-item-92","path":"/cli/commands/apply"},{"title":"<code>console</code>","href":null,"fullPath":"/terraform/cli/commands/console","id":"sidebar-nav-item-93","path":"/cli/commands/console"},{"title":"<code>destroy</code>","href":null,"fullPath":"/terraform/cli/commands/destroy","id":"sidebar-nav-item-94","path":"/cli/commands/destroy"},{"title":"<code>env</code>","href":null,"fullPath":"/terraform/cli/commands/env","id":"sidebar-nav-item-95","path":"/cli/commands/env"},{"title":"<code>fmt</code>","href":null,"fullPath":"/terraform/cli/commands/fmt","id":"sidebar-nav-item-96","path":"/cli/commands/fmt"},{"title":"<code>force-unlock</code>","href":null,"fullPath":"/terraform/cli/commands/force-unlock","id":"sidebar-nav-item-97","path":"/cli/commands/force-unlock"},{"title":"<code>get</code>","href":null,"fullPath":"/terraform/cli/commands/get","id":"sidebar-nav-item-98","path":"/cli/commands/get"},{"title":"<code>graph</code>","href":null,"fullPath":"/terraform/cli/commands/graph","id":"sidebar-nav-item-99","path":"/cli/commands/graph"},{"title":"<code>import</code>","href":null,"fullPath":"/terraform/cli/commands/import","id":"sidebar-nav-item-100","path":"/cli/commands/import"},{"title":"<code>init</code>","href":null,"fullPath":"/terraform/cli/commands/init","id":"sidebar-nav-item-101","path":"/cli/commands/init"},{"title":"<code>login</code>","href":null,"fullPath":"/terraform/cli/commands/login","id":"sidebar-nav-item-102","path":"/cli/commands/login"},{"title":"<code>logout</code>","href":null,"fullPath":"/terraform/cli/commands/logout","id":"sidebar-nav-item-103","path":"/cli/commands/logout"},{"title":"<code>output</code>","href":null,"fullPath":"/terraform/cli/commands/output","id":"sidebar-nav-item-104","path":"/cli/commands/output"},{"title":"<code>plan</code>","href":null,"fullPath":"/terraform/cli/commands/plan","id":"sidebar-nav-item-105","path":"/cli/commands/plan"},{"title":"<code>providers</code>","href":null,"fullPath":"/terraform/cli/commands/providers","id":"sidebar-nav-item-106","path":"/cli/commands/providers"},{"title":"<code>providers lock</code>","href":null,"fullPath":"/terraform/cli/commands/providers/lock","id":"sidebar-nav-item-107","path":"/cli/commands/providers/lock"},{"title":"<code>providers mirror</code>","href":null,"fullPath":"/terraform/cli/commands/providers/mirror","id":"sidebar-nav-item-108","path":"/cli/commands/providers/mirror"},{"title":"<code>providers schema</code>","href":null,"fullPath":"/terraform/cli/commands/providers/schema","id":"sidebar-nav-item-109","path":"/cli/commands/providers/schema"},{"title":"<code>push (deprecated)</code>","href":null,"fullPath":"/terraform/cli/commands/push","id":"sidebar-nav-item-110","path":"/cli/commands/push"},{"title":"<code>refresh</code>","href":null,"fullPath":"/terraform/cli/commands/refresh","id":"sidebar-nav-item-111","path":"/cli/commands/refresh"},{"title":"<code>show</code>","href":null,"fullPath":"/terraform/cli/commands/show","id":"sidebar-nav-item-112","path":"/cli/commands/show"},{"title":"<code>state</code>","href":null,"fullPath":"/terraform/cli/commands/state","id":"sidebar-nav-item-113","path":"/cli/commands/state"},{"title":"<code>state list</code>","href":null,"fullPath":"/terraform/cli/commands/state/list","id":"sidebar-nav-item-114","path":"/cli/commands/state/list"},{"title":"<code>state mv</code>","href":null,"fullPath":"/terraform/cli/commands/state/mv","id":"sidebar-nav-item-115","path":"/cli/commands/state/mv"},{"title":"<code>state pull</code>","href":null,"fullPath":"/terraform/cli/commands/state/pull","id":"sidebar-nav-item-116","path":"/cli/commands/state/pull"},{"title":"<code>state push</code>","href":null,"fullPath":"/terraform/cli/commands/state/push","id":"sidebar-nav-item-117","path":"/cli/commands/state/push"},{"title":"<code>state replace-provider</code>","href":null,"fullPath":"/terraform/cli/commands/state/replace-provider","id":"sidebar-nav-item-118","path":"/cli/commands/state/replace-provider"},{"title":"<code>state rm</code>","href":null,"fullPath":"/terraform/cli/commands/state/rm","id":"sidebar-nav-item-119","path":"/cli/commands/state/rm"},{"title":"<code>state show</code>","href":null,"fullPath":"/terraform/cli/commands/state/show","id":"sidebar-nav-item-120","path":"/cli/commands/state/show"},{"title":"<code>taint</code>","href":null,"fullPath":"/terraform/cli/commands/taint","id":"sidebar-nav-item-121","path":"/cli/commands/taint"},{"title":"<code>test</code>","href":null,"fullPath":"/terraform/cli/commands/test","id":"sidebar-nav-item-122","path":"/cli/commands/test"},{"title":"<code>untaint</code>","href":null,"fullPath":"/terraform/cli/commands/untaint","id":"sidebar-nav-item-123","path":"/cli/commands/untaint"},{"title":"<code>validate</code>","href":null,"fullPath":"/terraform/cli/commands/validate","id":"sidebar-nav-item-124","path":"/cli/commands/validate"},{"title":"<code>version</code>","href":null,"fullPath":"/terraform/cli/commands/version","id":"sidebar-nav-item-125","path":"/cli/commands/version"},{"title":"<code>workspace</code>","href":null,"fullPath":"/terraform/cli/commands/workspace","id":"sidebar-nav-item-126","path":"/cli/commands/workspace"},{"title":"<code>workspace list</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/list","id":"sidebar-nav-item-127","path":"/cli/commands/workspace/list"},{"title":"<code>workspace select</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/select","id":"sidebar-nav-item-128","path":"/cli/commands/workspace/select"},{"title":"<code>workspace new</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/new","id":"sidebar-nav-item-129","path":"/cli/commands/workspace/new"},{"title":"<code>workspace delete</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/delete","id":"sidebar-nav-item-130","path":"/cli/commands/workspace/delete"},{"title":"<code>workspace show</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/show","id":"sidebar-nav-item-131","path":"/cli/commands/workspace/show"},{"title":"<code>0.12upgrade</code>","href":null,"fullPath":"/terraform/cli/commands/0.12upgrade","id":"sidebar-nav-item-132","path":"/cli/commands/0.12upgrade"},{"title":"<code>0.13upgrade</code>","href":null,"fullPath":"/terraform/cli/commands/0.13upgrade","id":"sidebar-nav-item-133","path":"/cli/commands/0.13upgrade"}],"id":"sidebar-nav-item-90"},{"divider":true,"id":"sidebar-nav-item-134"},{"title":"Terraform Internals","href":null,"fullPath":"/terraform/internals","id":"sidebar-nav-item-135","path":"/internals"}],"title":"Terraform CLI","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/terraform/blob/main/website/../docs/cli/commands/test.mdx"},"metadata":{"title":"Command: test","description":"The `terraform test` command loads and executes Terraform testing files.","layout":null},"outlineItems":[{"title":"Command: test","url":"#command-test","dataHeapTrack":"toc-list-item-index-0"},{"title":"Usage","url":"#usage","dataHeapTrack":"toc-list-item-index-1"},{"title":"General Options","url":"#general-options","dataHeapTrack":"toc-list-item-index-2"},{"title":"State Management","url":"#state-management","dataHeapTrack":"toc-list-item-index-3"},{"title":"HCP Terraform execution","url":"#hcp-terraform-execution","dataHeapTrack":"toc-list-item-index-4"},{"title":"Example: Test Directory Structure and Commands","url":"#example-test-directory-structure-and-commands","dataHeapTrack":"toc-list-item-index-5"}],"pageHeading":{"id":"command-test","title":"Command: test"},"mdxSource":{"compiledSource":"const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",null,`The `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform test`),` command reads in Terraform testing files and executes the tests within.`),mdx(\"p\",null,`The `,mdx(\"inlineCode\",{parentName:\"p\"},`test`),` command, and the test file syntax, are particularly helpful for module authors who want to validate and test their shared modules. You can also use the `,mdx(\"inlineCode\",{parentName:\"p\"},`test`),` command to validate root modules.`),mdx(\"h2\",{\"id\":\"usage\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#usage\",\"aria-label\":\"usage permalink\"},`\\xbb`),`Usage`),mdx(\"p\",null,`Usage: `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform test [options]`)),mdx(\"p\",null,`This command searches the current directory and the specified testing directory (`,mdx(\"inlineCode\",{parentName:\"p\"},`tests`),`, by default) for any Terraform testing files, and executes the specified tests. Refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/language/tests\"},`Tests`),` for more details on test files.`),mdx(\"p\",null,`Terraform then executes a series of Terraform plan or apply commands according to the test files' specifications, and also validates the relevant plan and state files according to the test files' specifications.`),mdx(\"div\",{\"className\":\"alert alert-danger g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Warning:`),` The Terraform test command can create real infrastructure than can cost you money. Refer to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#terraform-test-cleanup\"},`Terraform Test Cleanup`),` section for best practices on ensuring created infrastructure is destroyed.`)),mdx(\"h2\",{\"id\":\"general-options\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#general-options\",\"aria-label\":\"general options permalink\"},`\\xbb`),`General Options`),mdx(\"p\",null,`The following options apply to the Terraform `,mdx(\"inlineCode\",{parentName:\"p\"},`test`),` command:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cloud-run\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#cloud-run\",\"aria-label\":\"cloud run permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-cloud-run=<module source>`)),` - This test run executes remotely on HCP Terraform within the specified Terraform `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/language/modules/sources#terraform-registry\"},`private registry`),` module.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"filter-testfile\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#filter-testfile\",\"aria-label\":\"filter testfile permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-filter=testfile`)),` - Limits the `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform test`),` operation to the specified test files.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"json\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#json\",\"aria-label\":\"json permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-json`)),` - Displays machine-readable JSON output for your testing results.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"test-directory\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#test-directory\",\"aria-label\":\"test directory permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-test-directory=<relative directory>`)),` - Overrides the directory that Terraform looks into for test files. Note that Terraform always loads testing files within the main configuration directory. The default testing directory is `,mdx(\"inlineCode\",{parentName:\"p\"},`tests`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verbose\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#verbose\",\"aria-label\":\"verbose permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-verbose`)),` - Prints out the plan or state for each `,mdx(\"inlineCode\",{parentName:\"p\"},`run`),` block within a test file, based on the `,mdx(\"inlineCode\",{parentName:\"p\"},`command`),` attribute of each `,mdx(\"inlineCode\",{parentName:\"p\"},`run`),` block.`))),mdx(\"h2\",{\"id\":\"state-management\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#state-management\",\"aria-label\":\"state management permalink\"},`\\xbb`),`State Management`),mdx(\"p\",null,`Each Terraform test file will maintain all Terraform state it requires within memory as it executes, starting empty. This state is entirely separate from any existing state for the configuration under test, so you can safely execute Terraform test commands without affecting any live infrastructure.`),mdx(\"h3\",{\"id\":\"terraform-test-cleanup\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#terraform-test-cleanup\",\"aria-label\":\"terraform test cleanup permalink\"},`\\xbb`),`Terraform Test Cleanup`),mdx(\"p\",null,`The Terraform `,mdx(\"inlineCode\",{parentName:\"p\"},`test`),` command creates `,mdx(\"em\",{parentName:\"p\"},`real`),` infrastructure. Once Terraform fully executes each test file, Terraform attempts to destroy any remaining infrastructure. If it cannot do this, Terraform reports a list of resources it created but could not destroy.`),mdx(\"p\",null,`You should monitor the output of the test command closely to ensure Terraform removes the infrastructure it created or perform manual cleanup if not. We recommend creating dedicated testing accounts within the target providers that you can routinely and safely purge to ensure any accidental and costly resources aren't left behind.`),mdx(\"p\",null,`Terraform also provides diagnostics explaining why it could not automatically clean up. You should review these diagnostics to ensure that future clean-up operations are successful.`),mdx(\"h2\",{\"id\":\"hcp-terraform-execution\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#hcp-terraform-execution\",\"aria-label\":\"hcp terraform execution permalink\"},`\\xbb`),`HCP Terraform execution`),mdx(\"p\",null,`You can execute tests remotely on HCP Terraform using the `,mdx(\"inlineCode\",{parentName:\"p\"},`-cloud-run`),` option.`),mdx(\"p\",null,`The `,mdx(\"inlineCode\",{parentName:\"p\"},`-cloud-run`),` option accepts a `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/language/modules/sources#terraform-registry\"},`private registry module source`),`. This option associates the test run with your specified private module within the HCP Terraform user interface.`),mdx(\"p\",null,`You must provide a module from a `,mdx(\"em\",{parentName:\"p\"},`private`),` registry, not the public Terraform registry.`),mdx(\"p\",null,`You must execute `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/cli/commands/login\"},mdx(\"inlineCode\",{parentName:\"a\"},`terraform login`)),` before using this option, and ensure that your `,mdx(\"inlineCode\",{parentName:\"p\"},`hostname`),` argument matches the private registry hostname of your target module.`),mdx(\"h2\",{\"id\":\"example-test-directory-structure-and-commands\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#example-test-directory-structure-and-commands\",\"aria-label\":\"example test directory structure and commands permalink\"},`\\xbb`),`Example: Test Directory Structure and Commands`),mdx(\"p\",null,`The following directory structure represents an example directory tree for a Terraform module with tests and a setup module.`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`project/`,`\n`,`|-- main.tf`,`\n`,`|-- outputs.tf`,`\n`,`|-- terraform.tf`,`\n`,`|-- variables.tf`,`\n`,`|-- tests/`,`\n`,`|   |-- validations.tftest.hcl`,`\n`,`|   |-- outputs.tftest.hcl`,`\n`,`|-- testing/`,`\n`,`    |-- setup/`,`\n`,`        |-- main.tf`,`\n`,`        |-- outputs.tf`,`\n`,`        |-- terraform.tf`,`\n`,`        |-- variables.tf`,`\n`)),mdx(\"p\",null,`At the root directory of the project, there are some typical Terraform configuration files: `,mdx(\"inlineCode\",{parentName:\"p\"},`main.tf`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`outputs.tf`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform.tf`),`, and `,mdx(\"inlineCode\",{parentName:\"p\"},`variables.tf`),`. The test files, `,mdx(\"inlineCode\",{parentName:\"p\"},`validations.tftest.hcl`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`outputs.tftest.hcl`),`, are within the default tests directory: `,mdx(\"inlineCode\",{parentName:\"p\"},`tests`),`.`),mdx(\"p\",null,`In addition, a `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/language/tests#modules\"},`setup module`),` for the tests exists within the `,mdx(\"inlineCode\",{parentName:\"p\"},`testing`),` directory.`),mdx(\"p\",null,`In order to execute the tests you should run `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform test`),` from the root configuration directory as if running `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform plan`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform apply`),`. Despite the actual test files being in the nested `,mdx(\"inlineCode\",{parentName:\"p\"},`tests`),` directory, Terraform executes from the main configuration directory.`),mdx(\"p\",null,`Specific test files can be executed using the `,mdx(\"inlineCode\",{parentName:\"p\"},`-filter`),` option.`),mdx(\"p\",null,`Linux, Mac OS, and UNIX:`),mdx(\"pre\",{\"className\":\"language-shell\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shell\"},`terraform `,mdx(\"span\",{parentName:\"code\",\"className\":\"token builtin class-name\"},`test`),` -filter`,mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`=`),`tests/validations.tftest.hcl`,`\n`)),mdx(\"p\",null,`PowerShell:`),mdx(\"pre\",{\"className\":\"language-shell\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shell\"},`terraform `,mdx(\"span\",{parentName:\"code\",\"className\":\"token builtin class-name\"},`test`),` -filter`,mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`=`),mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`'tests\\\\validations.tftest.hcl'`),`\n`)),mdx(\"p\",null,`Windows `,mdx(\"inlineCode\",{parentName:\"p\"},`cmd.exe`),`:`),mdx(\"pre\",{\"className\":\"language-shell\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shell\"},`terraform `,mdx(\"span\",{parentName:\"code\",\"className\":\"token builtin class-name\"},`test`),` -filter`,mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`=`),`tests`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`\\\\`),`validations.tftest.hcl`,`\n`)),mdx(\"h3\",{\"id\":\"alternate-test-directories\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#alternate-test-directories\",\"aria-label\":\"alternate test directories permalink\"},`\\xbb`),`Alternate Test Directories`),mdx(\"p\",null,`In the above example the tests are in the default testing directory of `,mdx(\"inlineCode\",{parentName:\"p\"},`tests`),`. Test files can also be included directly within the main configuration directory:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`project/`,`\n`,`|-- main.tf`,`\n`,`|-- outputs.tf`,`\n`,`|-- terraform.tf`,`\n`,`|-- variables.tf`,`\n`,`|-- validations.tftest.hcl`,`\n`,`|-- outputs.tftest.hcl`,`\n`,`|-- testing/`,`\n`,`    |-- setup/`,`\n`,`        |-- main.tf`,`\n`,`        |-- outputs.tf`,`\n`,`        |-- terraform.tf`,`\n`,`        |-- variables.tf`,`\n`)),mdx(\"p\",null,`The location of the testing files does not affect the operation of `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform test`),`. All references to, and absolute file paths within, the testing files should be relative to the main configuration directory.`),mdx(\"p\",null,`You can also use the `,mdx(\"inlineCode\",{parentName:\"p\"},`-test-directory`),` argument to change the location of the testing files. For example, `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform test -test-directory=testing`),` would instruct Terraform to load tests from the directory `,mdx(\"inlineCode\",{parentName:\"p\"},`testing`),` instead of `,mdx(\"inlineCode\",{parentName:\"p\"},`tests`),`.`),mdx(\"p\",null,`The testing directory must be beneath the main configuration directory, but it can be nested many times.`),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},`Note: Test files within the root configuration directory are always loaded, regardless of the `,mdx(\"inlineCode\",{parentName:\"p\"},`-test-directory`),` value.`)),mdx(\"p\",null,`We do not recommend changing the default test directory. The option for customization is included for configuration authors who may have included a `,mdx(\"inlineCode\",{parentName:\"p\"},`tests`),` submodule in their configuration before the `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform test`),` command was released. In general, the default test directory of `,mdx(\"inlineCode\",{parentName:\"p\"},`tests`),` should always be used.`))};MDXContent.isMDXComponent=true;","scope":{"version":"latest"}},"product":{"slug":"terraform","name":"Terraform","algoliaConfig":{"indexName":"product_TERRAFORM"},"alertBannerActive":true,"alertBanner":{"tag":"New","url":"https://www.hashicorp.com/blog/introducing-the-infrastructure-cloud","text":"Terraform Cloud is now HCP Terraform","linkText":"Read more →","expirationDate":"2024-04-29T00:00:00-08:00"},"basePaths":["cdktf","cli","cloud-docs","cloud-docs/agents","docs","enterprise","internals","intro","language","plugin","plugin/framework","plugin/log","plugin/mux","plugin/sdkv2","plugin/testing","registry","downloads"],"docsNavItems":["docs","language","cli","cloud-docs","enterprise","cdktf",{"icon":"provider","label":"Provider Use","fullPath":"/terraform/language/providers"},"plugin","registry",{"icon":"handshake","label":"Integration Program","fullPath":"/terraform/docs/partnerships"}],"rootDocsPaths":[{"iconName":"code","name":"CDK for Terraform","path":"cdktf","productSlugForLoader":"terraform-cdk"},{"iconName":"terminal-screen","name":"Terraform CLI","path":"cli"},{"iconName":"cloud","name":"HCP Terraform","path":"cloud-docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"cloud","name":"Cloud Docs Agents","navDataPrefix":"cloud-docs-agents","path":"cloud-docs/agents","productSlugForLoader":"terraform-docs-agents"},{"iconName":"docs","name":"About the Docs","path":"docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"org","name":"Terraform Enterprise","path":"enterprise","productSlugForLoader":"ptfe-releases"},{"iconName":"docs","name":"Internals","path":"internals"},{"iconName":"docs","name":"Intro","path":"intro"},{"iconName":"file-source","name":"Configuration Language","path":"language"},{"iconName":"wrench","name":"Plugin Development","path":"plugin","productSlugForLoader":"terraform-docs-common"},{"iconName":"plug","name":"Framework","navDataPrefix":"plugin-framework","path":"plugin/framework","productSlugForLoader":"terraform-plugin-framework"},{"iconName":"plug","name":"Logging","navDataPrefix":"plugin-log","path":"plugin/log","productSlugForLoader":"terraform-plugin-log"},{"iconName":"plug","name":"Combining and Translating","navDataPrefix":"plugin-mux","path":"plugin/mux","productSlugForLoader":"terraform-plugin-mux"},{"iconName":"plug","name":"SDKv2","path":"plugin/sdkv2","productSlugForLoader":"terraform-plugin-sdk","navDataPrefix":"plugin-sdkv2"},{"iconName":"plug","name":"Testing","path":"plugin/testing","productSlugForLoader":"terraform-plugin-testing","navDataPrefix":"plugin-testing"},{"iconName":"plus-circle","name":"Registry Publishing","path":"registry","productSlugForLoader":"terraform-docs-common"}],"currentRootDocsPath":{"iconName":"terminal-screen","name":"Terraform CLI","path":"cli"}},"projectName":null,"versions":null},"__N_SSG":true}