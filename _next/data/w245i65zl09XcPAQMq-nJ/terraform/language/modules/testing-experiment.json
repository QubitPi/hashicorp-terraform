{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Terraform","url":"/terraform"},{"title":"Configuration Language","url":"/terraform/language","isCurrentPage":false},{"title":"Modules","url":"/terraform/language/modules"},{"title":"testing-experiment"}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Terraform Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Terraform","fullPath":"/terraform","theme":"terraform"},{"title":"Documentation","isOpen":true,"routes":[{"title":"About the Docs","fullPath":"/terraform/docs"},{"title":"Configuration Language","fullPath":"/terraform/language"},{"title":"Terraform CLI","fullPath":"/terraform/cli"},{"title":"Terraform Cloud","fullPath":"/terraform/cloud-docs"},{"title":"Terraform Enterprise","fullPath":"/terraform/enterprise"},{"title":"CDK for Terraform","fullPath":"/terraform/cdktf"},{"title":"Provider Use","fullPath":"/terraform/language/providers"},{"title":"Plugin Development","fullPath":"/terraform/plugin"},{"title":"Registry Publishing","fullPath":"/terraform/registry"},{"title":"Integration Program","fullPath":"/terraform/docs/partnerships"}]},{"title":"Tutorials","fullPath":"/terraform/tutorials"},{"title":"Install","fullPath":"/terraform/downloads"}],"showFilterInput":false,"title":"Terraform","visuallyHideTitle":true},{"backToLinkProps":{"text":"Terraform Home","href":"/terraform"},"levelButtonProps":{"levelUpButtonText":"Terraform Home"},"menuItems":[{"title":"Configuration Language","fullPath":"/terraform/language","theme":"terraform"},{"title":"Files and Directories","routes":[{"title":"Overview","path":"files","filePath":"../docs/language/files/index.mdx","fullPath":"/terraform/language/files","id":"sidebar-nav-item-3"},{"title":"Override Files","path":"files/override","filePath":"../docs/language/files/override.mdx","fullPath":"/terraform/language/files/override","id":"sidebar-nav-item-4"},{"title":"Dependency Lock File","path":"files/dependency-lock","filePath":"../docs/language/files/dependency-lock.mdx","fullPath":"/terraform/language/files/dependency-lock","id":"sidebar-nav-item-5"}],"id":"sidebar-nav-item-2"},{"title":"Syntax","routes":[{"title":"Overview","path":"syntax","filePath":"../docs/language/syntax/index.mdx","fullPath":"/terraform/language/syntax","id":"sidebar-nav-item-7"},{"title":"Configuration Syntax","path":"syntax/configuration","filePath":"../docs/language/syntax/configuration.mdx","fullPath":"/terraform/language/syntax/configuration","id":"sidebar-nav-item-8"},{"title":"JSON Configuration Syntax","path":"syntax/json","filePath":"../docs/language/syntax/json.mdx","fullPath":"/terraform/language/syntax/json","id":"sidebar-nav-item-9"},{"title":"Style Conventions","path":"syntax/style","filePath":"../docs/language/syntax/style.mdx","fullPath":"/terraform/language/syntax/style","id":"sidebar-nav-item-10"}],"id":"sidebar-nav-item-6"},{"title":"Resources","routes":[{"title":"Overview","path":"resources","filePath":"../docs/language/resources/index.mdx","fullPath":"/terraform/language/resources","id":"sidebar-nav-item-12"},{"title":"Resource Blocks","path":"resources/syntax","filePath":"../docs/language/resources/syntax.mdx","fullPath":"/terraform/language/resources/syntax","id":"sidebar-nav-item-13"},{"title":"Resource Behavior","path":"resources/behavior","filePath":"../docs/language/resources/behavior.mdx","fullPath":"/terraform/language/resources/behavior","id":"sidebar-nav-item-14"},{"title":"Meta-Arguments","routes":[{"title":"<code>depends_on</code>","href":null,"fullPath":"/terraform/language/meta-arguments/depends_on","id":"sidebar-nav-item-16","path":"/language/meta-arguments/depends_on"},{"title":"<code>count</code>","href":null,"fullPath":"/terraform/language/meta-arguments/count","id":"sidebar-nav-item-17","path":"/language/meta-arguments/count"},{"title":"<code>for_each</code>","href":null,"fullPath":"/terraform/language/meta-arguments/for_each","id":"sidebar-nav-item-18","path":"/language/meta-arguments/for_each"},{"title":"<code>provider</code>","href":null,"fullPath":"/terraform/language/meta-arguments/resource-provider","id":"sidebar-nav-item-19","path":"/language/meta-arguments/resource-provider"},{"title":"<code>lifecycle</code>","href":null,"fullPath":"/terraform/language/meta-arguments/lifecycle","id":"sidebar-nav-item-20","path":"/language/meta-arguments/lifecycle"}],"id":"sidebar-nav-item-15"},{"title":"Provisioners","routes":[{"title":"Declaring Provisioners","path":"resources/provisioners/syntax","filePath":"../docs/language/resources/provisioners/syntax.mdx","fullPath":"/terraform/language/resources/provisioners/syntax","id":"sidebar-nav-item-22"},{"title":"Provisioner Connections","path":"resources/provisioners/connection","filePath":"../docs/language/resources/provisioners/connection.mdx","fullPath":"/terraform/language/resources/provisioners/connection","id":"sidebar-nav-item-23"},{"title":"Provisioners Without a Resource","path":"resources/provisioners/null_resource","filePath":"../docs/language/resources/provisioners/null_resource.mdx","fullPath":"/terraform/language/resources/provisioners/null_resource","id":"sidebar-nav-item-24"},{"title":"file","path":"resources/provisioners/file","filePath":"../docs/language/resources/provisioners/file.mdx","fullPath":"/terraform/language/resources/provisioners/file","id":"sidebar-nav-item-25"},{"title":"local-exec","path":"resources/provisioners/local-exec","filePath":"../docs/language/resources/provisioners/local-exec.mdx","fullPath":"/terraform/language/resources/provisioners/local-exec","id":"sidebar-nav-item-26"},{"title":"remote-exec","path":"resources/provisioners/remote-exec","filePath":"../docs/language/resources/provisioners/remote-exec.mdx","fullPath":"/terraform/language/resources/provisioners/remote-exec","id":"sidebar-nav-item-27"}],"id":"sidebar-nav-item-21"},{"title":"The <code>terraform_data</code> Resource Type","path":"resources/terraform-data","filePath":"../docs/language/resources/terraform-data.mdx","fullPath":"/terraform/language/resources/terraform-data","id":"sidebar-nav-item-28"}],"id":"sidebar-nav-item-11"},{"title":"Data Sources","path":"data-sources","filePath":"../docs/language/data-sources/index.mdx","fullPath":"/terraform/language/data-sources","id":"sidebar-nav-item-29"},{"title":"Providers","routes":[{"title":"Overview","path":"providers","filePath":"../docs/language/providers/index.mdx","fullPath":"/terraform/language/providers","id":"sidebar-nav-item-31"},{"title":"Provider Configuration","path":"providers/configuration","filePath":"../docs/language/providers/configuration.mdx","fullPath":"/terraform/language/providers/configuration","id":"sidebar-nav-item-32"},{"title":"Provider Requirements","path":"providers/requirements","filePath":"../docs/language/providers/requirements.mdx","fullPath":"/terraform/language/providers/requirements","id":"sidebar-nav-item-33"},{"title":"Dependency Lock File","href":null,"fullPath":"/terraform/language/files/dependency-lock","id":"sidebar-nav-item-34","path":"/language/files/dependency-lock"}],"id":"sidebar-nav-item-30"},{"title":"Variables and Outputs","routes":[{"title":"Overview","path":"values","filePath":"../docs/language/values/index.mdx","fullPath":"/terraform/language/values","id":"sidebar-nav-item-36"},{"title":"Input Variables","path":"values/variables","filePath":"../docs/language/values/variables.mdx","fullPath":"/terraform/language/values/variables","id":"sidebar-nav-item-37"},{"title":"Output Values","path":"values/outputs","filePath":"../docs/language/values/outputs.mdx","fullPath":"/terraform/language/values/outputs","id":"sidebar-nav-item-38"},{"title":"Local Values","path":"values/locals","filePath":"../docs/language/values/locals.mdx","fullPath":"/terraform/language/values/locals","id":"sidebar-nav-item-39"}],"id":"sidebar-nav-item-35"},{"title":"Modules","routes":[{"title":"Overview","path":"modules","filePath":"../docs/language/modules/index.mdx","fullPath":"/terraform/language/modules","id":"sidebar-nav-item-41"},{"title":"Module Blocks","path":"modules/syntax","filePath":"../docs/language/modules/syntax.mdx","fullPath":"/terraform/language/modules/syntax","id":"sidebar-nav-item-42"},{"title":"Module Sources","path":"modules/sources","filePath":"../docs/language/modules/sources.mdx","fullPath":"/terraform/language/modules/sources","id":"sidebar-nav-item-43"},{"title":"Meta-Arguments","routes":[{"title":"<code>providers</code>","href":null,"fullPath":"/terraform/language/meta-arguments/module-providers","id":"sidebar-nav-item-45","path":"/language/meta-arguments/module-providers"},{"title":"<code>depends_on</code>","href":null,"fullPath":"/terraform/language/meta-arguments/depends_on","id":"sidebar-nav-item-46","path":"/language/meta-arguments/depends_on"},{"title":"<code>count</code>","href":null,"fullPath":"/terraform/language/meta-arguments/count","id":"sidebar-nav-item-47","path":"/language/meta-arguments/count"},{"title":"<code>for_each</code>","href":null,"fullPath":"/terraform/language/meta-arguments/for_each","id":"sidebar-nav-item-48","path":"/language/meta-arguments/for_each"}],"id":"sidebar-nav-item-44"},{"title":"Module Development","routes":[{"title":"Overview","path":"modules/develop","filePath":"../docs/language/modules/develop/index.mdx","fullPath":"/terraform/language/modules/develop","id":"sidebar-nav-item-50"},{"title":"Standard Module Structure","path":"modules/develop/structure","filePath":"../docs/language/modules/develop/structure.mdx","fullPath":"/terraform/language/modules/develop/structure","id":"sidebar-nav-item-51"},{"title":"Providers Within Modules","path":"modules/develop/providers","filePath":"../docs/language/modules/develop/providers.mdx","fullPath":"/terraform/language/modules/develop/providers","id":"sidebar-nav-item-52"},{"title":"Best Practices: Module Composition","path":"modules/develop/composition","filePath":"../docs/language/modules/develop/composition.mdx","fullPath":"/terraform/language/modules/develop/composition","id":"sidebar-nav-item-53"},{"title":"Publishing Modules","path":"modules/develop/publish","filePath":"../docs/language/modules/develop/publish.mdx","fullPath":"/terraform/language/modules/develop/publish","id":"sidebar-nav-item-54"},{"title":"Refactoring Modules","path":"modules/develop/refactoring","filePath":"../docs/language/modules/develop/refactoring.mdx","fullPath":"/terraform/language/modules/develop/refactoring","id":"sidebar-nav-item-55"}],"id":"sidebar-nav-item-49"}],"id":"sidebar-nav-item-40"},{"title":"Checks","path":"checks","filePath":"../docs/language/checks/index.mdx","fullPath":"/terraform/language/checks","id":"sidebar-nav-item-56"},{"title":"Import","routes":[{"title":"Overview","path":"import","filePath":"../docs/language/import/index.mdx","fullPath":"/terraform/language/import","id":"sidebar-nav-item-58"},{"title":"Generating Configuration","path":"import/generating-configuration","filePath":"../docs/language/import/generating-configuration.mdx","fullPath":"/terraform/language/import/generating-configuration","id":"sidebar-nav-item-59"}],"id":"sidebar-nav-item-57"},{"title":"Expressions","routes":[{"title":"Overview","path":"expressions","filePath":"../docs/language/expressions/index.mdx","fullPath":"/terraform/language/expressions","id":"sidebar-nav-item-61"},{"title":"Types and Values","path":"expressions/types","filePath":"../docs/language/expressions/types.mdx","fullPath":"/terraform/language/expressions/types","id":"sidebar-nav-item-62"},{"title":"Strings and Templates","path":"expressions/strings","filePath":"../docs/language/expressions/strings.mdx","fullPath":"/terraform/language/expressions/strings","id":"sidebar-nav-item-63"},{"title":"References to Values","path":"expressions/references","filePath":"../docs/language/expressions/references.mdx","fullPath":"/terraform/language/expressions/references","id":"sidebar-nav-item-64"},{"title":"Operators","path":"expressions/operators","filePath":"../docs/language/expressions/operators.mdx","fullPath":"/terraform/language/expressions/operators","id":"sidebar-nav-item-65"},{"title":"Function Calls","path":"expressions/function-calls","filePath":"../docs/language/expressions/function-calls.mdx","fullPath":"/terraform/language/expressions/function-calls","id":"sidebar-nav-item-66"},{"title":"Conditional Expressions","path":"expressions/conditionals","filePath":"../docs/language/expressions/conditionals.mdx","fullPath":"/terraform/language/expressions/conditionals","id":"sidebar-nav-item-67"},{"title":"For Expressions","path":"expressions/for","filePath":"../docs/language/expressions/for.mdx","fullPath":"/terraform/language/expressions/for","id":"sidebar-nav-item-68"},{"title":"Splat Expressions","path":"expressions/splat","filePath":"../docs/language/expressions/splat.mdx","fullPath":"/terraform/language/expressions/splat","id":"sidebar-nav-item-69"},{"title":"Dynamic Blocks","path":"expressions/dynamic-blocks","filePath":"../docs/language/expressions/dynamic-blocks.mdx","fullPath":"/terraform/language/expressions/dynamic-blocks","id":"sidebar-nav-item-70"},{"title":"Custom Conditions","path":"expressions/custom-conditions","filePath":"../docs/language/expressions/custom-conditions.mdx","fullPath":"/terraform/language/expressions/custom-conditions","id":"sidebar-nav-item-71"},{"title":"Type Constraints","path":"expressions/type-constraints","filePath":"../docs/language/expressions/type-constraints.mdx","fullPath":"/terraform/language/expressions/type-constraints","id":"sidebar-nav-item-72"},{"title":"Version Constraints","path":"expressions/version-constraints","filePath":"../docs/language/expressions/version-constraints.mdx","fullPath":"/terraform/language/expressions/version-constraints","id":"sidebar-nav-item-73"}],"id":"sidebar-nav-item-60"},{"title":"Functions","routes":[{"title":"Overview","path":"functions","filePath":"../docs/language/functions/index.mdx","fullPath":"/terraform/language/functions","id":"sidebar-nav-item-75"},{"title":"Numeric Functions","routes":[{"title":"<code>abs</code>","href":null,"fullPath":"/terraform/language/functions/abs","id":"sidebar-nav-item-77","path":"/language/functions/abs"},{"title":"<code>ceil</code>","href":null,"fullPath":"/terraform/language/functions/ceil","id":"sidebar-nav-item-78","path":"/language/functions/ceil"},{"title":"<code>floor</code>","href":null,"fullPath":"/terraform/language/functions/floor","id":"sidebar-nav-item-79","path":"/language/functions/floor"},{"title":"<code>log</code>","href":null,"fullPath":"/terraform/language/functions/log","id":"sidebar-nav-item-80","path":"/language/functions/log"},{"title":"<code>max</code>","href":null,"fullPath":"/terraform/language/functions/max","id":"sidebar-nav-item-81","path":"/language/functions/max"},{"title":"<code>min</code>","href":null,"fullPath":"/terraform/language/functions/min","id":"sidebar-nav-item-82","path":"/language/functions/min"},{"title":"<code>parseint</code>","href":null,"fullPath":"/terraform/language/functions/parseint","id":"sidebar-nav-item-83","path":"/language/functions/parseint"},{"title":"<code>pow</code>","href":null,"fullPath":"/terraform/language/functions/pow","id":"sidebar-nav-item-84","path":"/language/functions/pow"},{"title":"<code>signum</code>","href":null,"fullPath":"/terraform/language/functions/signum","id":"sidebar-nav-item-85","path":"/language/functions/signum"}],"id":"sidebar-nav-item-76"},{"title":"String Functions","routes":[{"title":"<code>chomp</code>","href":null,"fullPath":"/terraform/language/functions/chomp","id":"sidebar-nav-item-87","path":"/language/functions/chomp"},{"title":"<code>endswith</code>","href":null,"fullPath":"/terraform/language/functions/endswith","id":"sidebar-nav-item-88","path":"/language/functions/endswith"},{"title":"<code>format</code>","href":null,"fullPath":"/terraform/language/functions/format","id":"sidebar-nav-item-89","path":"/language/functions/format"},{"title":"<code>formatlist</code>","href":null,"fullPath":"/terraform/language/functions/formatlist","id":"sidebar-nav-item-90","path":"/language/functions/formatlist"},{"title":"<code>indent</code>","href":null,"fullPath":"/terraform/language/functions/indent","id":"sidebar-nav-item-91","path":"/language/functions/indent"},{"title":"<code>join</code>","href":null,"fullPath":"/terraform/language/functions/join","id":"sidebar-nav-item-92","path":"/language/functions/join"},{"title":"<code>lower</code>","href":null,"fullPath":"/terraform/language/functions/lower","id":"sidebar-nav-item-93","path":"/language/functions/lower"},{"title":"<code>regex</code>","href":null,"fullPath":"/terraform/language/functions/regex","id":"sidebar-nav-item-94","path":"/language/functions/regex"},{"title":"<code>regexall</code>","href":null,"fullPath":"/terraform/language/functions/regexall","id":"sidebar-nav-item-95","path":"/language/functions/regexall"},{"title":"<code>replace</code>","href":null,"fullPath":"/terraform/language/functions/replace","id":"sidebar-nav-item-96","path":"/language/functions/replace"},{"title":"<code>split</code>","href":null,"fullPath":"/terraform/language/functions/split","id":"sidebar-nav-item-97","path":"/language/functions/split"},{"title":"<code>startswith</code>","href":null,"fullPath":"/terraform/language/functions/startswith","id":"sidebar-nav-item-98","path":"/language/functions/startswith"},{"title":"<code>strcontains</code>","href":null,"fullPath":"/terraform/language/functions/strcontains","id":"sidebar-nav-item-99","path":"/language/functions/strcontains"},{"title":"<code>strrev</code>","href":null,"fullPath":"/terraform/language/functions/strrev","id":"sidebar-nav-item-100","path":"/language/functions/strrev"},{"title":"<code>substr</code>","href":null,"fullPath":"/terraform/language/functions/substr","id":"sidebar-nav-item-101","path":"/language/functions/substr"},{"title":"<code>title</code>","href":null,"fullPath":"/terraform/language/functions/title","id":"sidebar-nav-item-102","path":"/language/functions/title"},{"title":"<code>trim</code>","href":null,"fullPath":"/terraform/language/functions/trim","id":"sidebar-nav-item-103","path":"/language/functions/trim"},{"title":"<code>trimprefix</code>","href":null,"fullPath":"/terraform/language/functions/trimprefix","id":"sidebar-nav-item-104","path":"/language/functions/trimprefix"},{"title":"<code>trimsuffix</code>","href":null,"fullPath":"/terraform/language/functions/trimsuffix","id":"sidebar-nav-item-105","path":"/language/functions/trimsuffix"},{"title":"<code>trimspace</code>","href":null,"fullPath":"/terraform/language/functions/trimspace","id":"sidebar-nav-item-106","path":"/language/functions/trimspace"},{"title":"<code>upper</code>","href":null,"fullPath":"/terraform/language/functions/upper","id":"sidebar-nav-item-107","path":"/language/functions/upper"}],"id":"sidebar-nav-item-86"},{"title":"Collection Functions","routes":[{"title":"<code>alltrue</code>","href":null,"fullPath":"/terraform/language/functions/alltrue","id":"sidebar-nav-item-109","path":"/language/functions/alltrue"},{"title":"<code>anytrue</code>","href":null,"fullPath":"/terraform/language/functions/anytrue","id":"sidebar-nav-item-110","path":"/language/functions/anytrue"},{"title":"<code>chunklist</code>","href":null,"fullPath":"/terraform/language/functions/chunklist","id":"sidebar-nav-item-111","path":"/language/functions/chunklist"},{"title":"<code>coalesce</code>","href":null,"fullPath":"/terraform/language/functions/coalesce","id":"sidebar-nav-item-112","path":"/language/functions/coalesce"},{"title":"<code>coalescelist</code>","href":null,"fullPath":"/terraform/language/functions/coalescelist","id":"sidebar-nav-item-113","path":"/language/functions/coalescelist"},{"title":"<code>compact</code>","href":null,"fullPath":"/terraform/language/functions/compact","id":"sidebar-nav-item-114","path":"/language/functions/compact"},{"title":"<code>concat</code>","href":null,"fullPath":"/terraform/language/functions/concat","id":"sidebar-nav-item-115","path":"/language/functions/concat"},{"title":"<code>contains</code>","href":null,"fullPath":"/terraform/language/functions/contains","id":"sidebar-nav-item-116","path":"/language/functions/contains"},{"title":"<code>distinct</code>","href":null,"fullPath":"/terraform/language/functions/distinct","id":"sidebar-nav-item-117","path":"/language/functions/distinct"},{"title":"<code>element</code>","href":null,"fullPath":"/terraform/language/functions/element","id":"sidebar-nav-item-118","path":"/language/functions/element"},{"title":"<code>flatten</code>","href":null,"fullPath":"/terraform/language/functions/flatten","id":"sidebar-nav-item-119","path":"/language/functions/flatten"},{"title":"<code>index</code>","href":null,"fullPath":"/terraform/language/functions/index_function","id":"sidebar-nav-item-120","path":"/language/functions/index_function"},{"title":"<code>keys</code>","href":null,"fullPath":"/terraform/language/functions/keys","id":"sidebar-nav-item-121","path":"/language/functions/keys"},{"title":"<code>length</code>","href":null,"fullPath":"/terraform/language/functions/length","id":"sidebar-nav-item-122","path":"/language/functions/length"},{"title":"<code>list</code>","href":null,"fullPath":"/terraform/language/functions/list","id":"sidebar-nav-item-123","path":"/language/functions/list"},{"title":"<code>lookup</code>","href":null,"fullPath":"/terraform/language/functions/lookup","id":"sidebar-nav-item-124","path":"/language/functions/lookup"},{"title":"<code>map</code>","href":null,"fullPath":"/terraform/language/functions/map","id":"sidebar-nav-item-125","path":"/language/functions/map"},{"title":"<code>matchkeys</code>","href":null,"fullPath":"/terraform/language/functions/matchkeys","id":"sidebar-nav-item-126","path":"/language/functions/matchkeys"},{"title":"<code>merge</code>","href":null,"fullPath":"/terraform/language/functions/merge","id":"sidebar-nav-item-127","path":"/language/functions/merge"},{"title":"<code>one</code>","href":null,"fullPath":"/terraform/language/functions/one","id":"sidebar-nav-item-128","path":"/language/functions/one"},{"title":"<code>range</code>","href":null,"fullPath":"/terraform/language/functions/range","id":"sidebar-nav-item-129","path":"/language/functions/range"},{"title":"<code>reverse</code>","href":null,"fullPath":"/terraform/language/functions/reverse","id":"sidebar-nav-item-130","path":"/language/functions/reverse"},{"title":"<code>setintersection</code>","href":null,"fullPath":"/terraform/language/functions/setintersection","id":"sidebar-nav-item-131","path":"/language/functions/setintersection"},{"title":"<code>setproduct</code>","href":null,"fullPath":"/terraform/language/functions/setproduct","id":"sidebar-nav-item-132","path":"/language/functions/setproduct"},{"title":"<code>setsubtract</code>","href":null,"fullPath":"/terraform/language/functions/setsubtract","id":"sidebar-nav-item-133","path":"/language/functions/setsubtract"},{"title":"<code>setunion</code>","href":null,"fullPath":"/terraform/language/functions/setunion","id":"sidebar-nav-item-134","path":"/language/functions/setunion"},{"title":"<code>slice</code>","href":null,"fullPath":"/terraform/language/functions/slice","id":"sidebar-nav-item-135","path":"/language/functions/slice"},{"title":"<code>sort</code>","href":null,"fullPath":"/terraform/language/functions/sort","id":"sidebar-nav-item-136","path":"/language/functions/sort"},{"title":"<code>sum</code>","href":null,"fullPath":"/terraform/language/functions/sum","id":"sidebar-nav-item-137","path":"/language/functions/sum"},{"title":"<code>transpose</code>","href":null,"fullPath":"/terraform/language/functions/transpose","id":"sidebar-nav-item-138","path":"/language/functions/transpose"},{"title":"<code>values</code>","href":null,"fullPath":"/terraform/language/functions/values","id":"sidebar-nav-item-139","path":"/language/functions/values"},{"title":"<code>zipmap</code>","href":null,"fullPath":"/terraform/language/functions/zipmap","id":"sidebar-nav-item-140","path":"/language/functions/zipmap"}],"id":"sidebar-nav-item-108"},{"title":"Encoding Functions","routes":[{"title":"<code>base64decode</code>","href":null,"fullPath":"/terraform/language/functions/base64decode","id":"sidebar-nav-item-142","path":"/language/functions/base64decode"},{"title":"<code>base64encode</code>","href":null,"fullPath":"/terraform/language/functions/base64encode","id":"sidebar-nav-item-143","path":"/language/functions/base64encode"},{"title":"<code>base64gzip</code>","href":null,"fullPath":"/terraform/language/functions/base64gzip","id":"sidebar-nav-item-144","path":"/language/functions/base64gzip"},{"title":"<code>csvdecode</code>","href":null,"fullPath":"/terraform/language/functions/csvdecode","id":"sidebar-nav-item-145","path":"/language/functions/csvdecode"},{"title":"<code>jsondecode</code>","href":null,"fullPath":"/terraform/language/functions/jsondecode","id":"sidebar-nav-item-146","path":"/language/functions/jsondecode"},{"title":"<code>jsonencode</code>","href":null,"fullPath":"/terraform/language/functions/jsonencode","id":"sidebar-nav-item-147","path":"/language/functions/jsonencode"},{"title":"<code>textdecodebase64</code>","href":null,"fullPath":"/terraform/language/functions/textdecodebase64","id":"sidebar-nav-item-148","path":"/language/functions/textdecodebase64"},{"title":"<code>textencodebase64</code>","href":null,"fullPath":"/terraform/language/functions/textencodebase64","id":"sidebar-nav-item-149","path":"/language/functions/textencodebase64"},{"title":"<code>urlencode</code>","href":null,"fullPath":"/terraform/language/functions/urlencode","id":"sidebar-nav-item-150","path":"/language/functions/urlencode"},{"title":"<code>yamldecode</code>","href":null,"fullPath":"/terraform/language/functions/yamldecode","id":"sidebar-nav-item-151","path":"/language/functions/yamldecode"},{"title":"<code>yamlencode</code>","href":null,"fullPath":"/terraform/language/functions/yamlencode","id":"sidebar-nav-item-152","path":"/language/functions/yamlencode"}],"id":"sidebar-nav-item-141"},{"title":"Filesystem Functions","routes":[{"title":"<code>abspath</code>","href":null,"fullPath":"/terraform/language/functions/abspath","id":"sidebar-nav-item-154","path":"/language/functions/abspath"},{"title":"<code>dirname</code>","href":null,"fullPath":"/terraform/language/functions/dirname","id":"sidebar-nav-item-155","path":"/language/functions/dirname"},{"title":"<code>pathexpand</code>","href":null,"fullPath":"/terraform/language/functions/pathexpand","id":"sidebar-nav-item-156","path":"/language/functions/pathexpand"},{"title":"<code>basename</code>","href":null,"fullPath":"/terraform/language/functions/basename","id":"sidebar-nav-item-157","path":"/language/functions/basename"},{"title":"<code>file</code>","href":null,"fullPath":"/terraform/language/functions/file","id":"sidebar-nav-item-158","path":"/language/functions/file"},{"title":"<code>fileexists</code>","href":null,"fullPath":"/terraform/language/functions/fileexists","id":"sidebar-nav-item-159","path":"/language/functions/fileexists"},{"title":"<code>fileset</code>","href":null,"fullPath":"/terraform/language/functions/fileset","id":"sidebar-nav-item-160","path":"/language/functions/fileset"},{"title":"<code>filebase64</code>","href":null,"fullPath":"/terraform/language/functions/filebase64","id":"sidebar-nav-item-161","path":"/language/functions/filebase64"},{"title":"<code>templatefile</code>","href":null,"fullPath":"/terraform/language/functions/templatefile","id":"sidebar-nav-item-162","path":"/language/functions/templatefile"}],"id":"sidebar-nav-item-153"},{"title":"Date and Time Functions","routes":[{"title":"<code>formatdate</code>","href":null,"fullPath":"/terraform/language/functions/formatdate","id":"sidebar-nav-item-164","path":"/language/functions/formatdate"},{"title":"<code>plantimestamp</code>","href":null,"fullPath":"/terraform/language/functions/plantimestamp","id":"sidebar-nav-item-165","path":"/language/functions/plantimestamp"},{"title":"<code>timeadd</code>","href":null,"fullPath":"/terraform/language/functions/timeadd","id":"sidebar-nav-item-166","path":"/language/functions/timeadd"},{"title":"<code>timecmp</code>","href":null,"fullPath":"/terraform/language/functions/timecmp","id":"sidebar-nav-item-167","path":"/language/functions/timecmp"},{"title":"<code>timestamp</code>","href":null,"fullPath":"/terraform/language/functions/timestamp","id":"sidebar-nav-item-168","path":"/language/functions/timestamp"}],"id":"sidebar-nav-item-163"},{"title":"Hash and Crypto Functions","routes":[{"title":"<code>base64sha256</code>","href":null,"fullPath":"/terraform/language/functions/base64sha256","id":"sidebar-nav-item-170","path":"/language/functions/base64sha256"},{"title":"<code>base64sha512</code>","href":null,"fullPath":"/terraform/language/functions/base64sha512","id":"sidebar-nav-item-171","path":"/language/functions/base64sha512"},{"title":"<code>bcrypt</code>","href":null,"fullPath":"/terraform/language/functions/bcrypt","id":"sidebar-nav-item-172","path":"/language/functions/bcrypt"},{"title":"<code>filebase64sha256</code>","href":null,"fullPath":"/terraform/language/functions/filebase64sha256","id":"sidebar-nav-item-173","path":"/language/functions/filebase64sha256"},{"title":"<code>filebase64sha512</code>","href":null,"fullPath":"/terraform/language/functions/filebase64sha512","id":"sidebar-nav-item-174","path":"/language/functions/filebase64sha512"},{"title":"<code>filemd5</code>","href":null,"fullPath":"/terraform/language/functions/filemd5","id":"sidebar-nav-item-175","path":"/language/functions/filemd5"},{"title":"<code>filesha1</code>","href":null,"fullPath":"/terraform/language/functions/filesha1","id":"sidebar-nav-item-176","path":"/language/functions/filesha1"},{"title":"<code>filesha256</code>","href":null,"fullPath":"/terraform/language/functions/filesha256","id":"sidebar-nav-item-177","path":"/language/functions/filesha256"},{"title":"<code>filesha512</code>","href":null,"fullPath":"/terraform/language/functions/filesha512","id":"sidebar-nav-item-178","path":"/language/functions/filesha512"},{"title":"<code>md5</code>","href":null,"fullPath":"/terraform/language/functions/md5","id":"sidebar-nav-item-179","path":"/language/functions/md5"},{"title":"<code>rsadecrypt</code>","href":null,"fullPath":"/terraform/language/functions/rsadecrypt","id":"sidebar-nav-item-180","path":"/language/functions/rsadecrypt"},{"title":"<code>sha1</code>","href":null,"fullPath":"/terraform/language/functions/sha1","id":"sidebar-nav-item-181","path":"/language/functions/sha1"},{"title":"<code>sha256</code>","href":null,"fullPath":"/terraform/language/functions/sha256","id":"sidebar-nav-item-182","path":"/language/functions/sha256"},{"title":"<code>sha512</code>","href":null,"fullPath":"/terraform/language/functions/sha512","id":"sidebar-nav-item-183","path":"/language/functions/sha512"},{"title":"<code>uuid</code>","href":null,"fullPath":"/terraform/language/functions/uuid","id":"sidebar-nav-item-184","path":"/language/functions/uuid"},{"title":"<code>uuidv5</code>","href":null,"fullPath":"/terraform/language/functions/uuidv5","id":"sidebar-nav-item-185","path":"/language/functions/uuidv5"}],"id":"sidebar-nav-item-169"},{"title":"IP Network Functions","routes":[{"title":"<code>cidrhost</code>","href":null,"fullPath":"/terraform/language/functions/cidrhost","id":"sidebar-nav-item-187","path":"/language/functions/cidrhost"},{"title":"<code>cidrnetmask</code>","href":null,"fullPath":"/terraform/language/functions/cidrnetmask","id":"sidebar-nav-item-188","path":"/language/functions/cidrnetmask"},{"title":"<code>cidrsubnet</code>","href":null,"fullPath":"/terraform/language/functions/cidrsubnet","id":"sidebar-nav-item-189","path":"/language/functions/cidrsubnet"},{"title":"<code>cidrsubnets</code>","href":null,"fullPath":"/terraform/language/functions/cidrsubnets","id":"sidebar-nav-item-190","path":"/language/functions/cidrsubnets"}],"id":"sidebar-nav-item-186"},{"title":"Type Conversion Functions","routes":[{"title":"<code>can</code>","href":null,"fullPath":"/terraform/language/functions/can","id":"sidebar-nav-item-192","path":"/language/functions/can"},{"title":"<code>nonsensitive</code>","href":null,"fullPath":"/terraform/language/functions/nonsensitive","id":"sidebar-nav-item-193","path":"/language/functions/nonsensitive"},{"title":"<code>sensitive</code>","href":null,"fullPath":"/terraform/language/functions/sensitive","id":"sidebar-nav-item-194","path":"/language/functions/sensitive"},{"title":"<code>tobool</code>","href":null,"fullPath":"/terraform/language/functions/tobool","id":"sidebar-nav-item-195","path":"/language/functions/tobool"},{"title":"<code>tolist</code>","href":null,"fullPath":"/terraform/language/functions/tolist","id":"sidebar-nav-item-196","path":"/language/functions/tolist"},{"title":"<code>tomap</code>","href":null,"fullPath":"/terraform/language/functions/tomap","id":"sidebar-nav-item-197","path":"/language/functions/tomap"},{"title":"<code>tonumber</code>","href":null,"fullPath":"/terraform/language/functions/tonumber","id":"sidebar-nav-item-198","path":"/language/functions/tonumber"},{"title":"<code>toset</code>","href":null,"fullPath":"/terraform/language/functions/toset","id":"sidebar-nav-item-199","path":"/language/functions/toset"},{"title":"<code>tostring</code>","href":null,"fullPath":"/terraform/language/functions/tostring","id":"sidebar-nav-item-200","path":"/language/functions/tostring"},{"title":"<code>try</code>","href":null,"fullPath":"/terraform/language/functions/try","id":"sidebar-nav-item-201","path":"/language/functions/try"},{"title":"<code>type</code>","href":null,"fullPath":"/terraform/language/functions/type","id":"sidebar-nav-item-202","path":"/language/functions/type"}],"id":"sidebar-nav-item-191"}],"id":"sidebar-nav-item-74"},{"title":"Terraform Settings","routes":[{"title":"Overview","path":"settings","filePath":"../docs/language/settings/index.mdx","fullPath":"/terraform/language/settings","id":"sidebar-nav-item-204"},{"title":"Terraform Cloud","path":"settings/terraform-cloud","filePath":"../docs/language/settings/terraform-cloud.mdx","fullPath":"/terraform/language/settings/terraform-cloud","id":"sidebar-nav-item-205"},{"title":"Backends","routes":[{"title":"Backend Configuration","path":"settings/backends/configuration","filePath":"../docs/language/settings/backends/configuration.mdx","fullPath":"/terraform/language/settings/backends/configuration","id":"sidebar-nav-item-207"},{"title":"Available Backends","routes":[{"title":"local","href":null,"fullPath":"/terraform/language/settings/backends/local","id":"sidebar-nav-item-209","path":"/language/settings/backends/local"},{"title":"remote","href":null,"fullPath":"/terraform/language/settings/backends/remote","id":"sidebar-nav-item-210","path":"/language/settings/backends/remote"},{"title":"azurerm","href":null,"fullPath":"/terraform/language/settings/backends/azurerm","id":"sidebar-nav-item-211","path":"/language/settings/backends/azurerm"},{"title":"consul","href":null,"fullPath":"/terraform/language/settings/backends/consul","id":"sidebar-nav-item-212","path":"/language/settings/backends/consul"},{"title":"cos","href":null,"fullPath":"/terraform/language/settings/backends/cos","id":"sidebar-nav-item-213","path":"/language/settings/backends/cos"},{"title":"gcs","href":null,"fullPath":"/terraform/language/settings/backends/gcs","id":"sidebar-nav-item-214","path":"/language/settings/backends/gcs"},{"title":"http","href":null,"fullPath":"/terraform/language/settings/backends/http","id":"sidebar-nav-item-215","path":"/language/settings/backends/http"},{"title":"Kubernetes","href":null,"fullPath":"/terraform/language/settings/backends/kubernetes","id":"sidebar-nav-item-216","path":"/language/settings/backends/kubernetes"},{"title":"oss","href":null,"fullPath":"/terraform/language/settings/backends/oss","id":"sidebar-nav-item-217","path":"/language/settings/backends/oss"},{"title":"pg","href":null,"fullPath":"/terraform/language/settings/backends/pg","id":"sidebar-nav-item-218","path":"/language/settings/backends/pg"},{"title":"s3","href":null,"fullPath":"/terraform/language/settings/backends/s3","id":"sidebar-nav-item-219","path":"/language/settings/backends/s3"}],"id":"sidebar-nav-item-208"}],"id":"sidebar-nav-item-206"}],"id":"sidebar-nav-item-203"},{"title":"State","routes":[{"title":"Overview","path":"state","filePath":"../docs/language/state/index.mdx","fullPath":"/terraform/language/state","id":"sidebar-nav-item-221"},{"title":"Purpose","path":"state/purpose","filePath":"../docs/language/state/purpose.mdx","fullPath":"/terraform/language/state/purpose","id":"sidebar-nav-item-222"},{"title":"The <code>terraform_remote_state</code> Data Source","path":"state/remote-state-data","filePath":"../docs/language/state/remote-state-data.mdx","fullPath":"/terraform/language/state/remote-state-data","id":"sidebar-nav-item-223"},{"title":"Backends: State Storage and Locking","path":"state/backends","filePath":"../docs/language/state/backends.mdx","fullPath":"/terraform/language/state/backends","id":"sidebar-nav-item-224"},{"title":"Import Existing Resources","path":"state/import","filePath":"../docs/language/state/import.mdx","fullPath":"/terraform/language/state/import","id":"sidebar-nav-item-225"},{"title":"Locking","path":"state/locking","filePath":"../docs/language/state/locking.mdx","fullPath":"/terraform/language/state/locking","id":"sidebar-nav-item-226"},{"title":"Workspaces","path":"state/workspaces","filePath":"../docs/language/state/workspaces.mdx","fullPath":"/terraform/language/state/workspaces","id":"sidebar-nav-item-227"},{"title":"Remote State","path":"state/remote","filePath":"../docs/language/state/remote.mdx","fullPath":"/terraform/language/state/remote","id":"sidebar-nav-item-228"},{"title":"Sensitive Data","path":"state/sensitive-data","filePath":"../docs/language/state/sensitive-data.mdx","fullPath":"/terraform/language/state/sensitive-data","id":"sidebar-nav-item-229"}],"id":"sidebar-nav-item-220"},{"title":"Upgrading to Terraform v1.5","path":"upgrade-guides","filePath":"../docs/language/upgrade-guides/index.mdx","fullPath":"/terraform/language/upgrade-guides","id":"sidebar-nav-item-230"},{"title":"v1.x Compatibility Promises","path":"v1-compatibility-promises","filePath":"../docs/language/v1-compatibility-promises.mdx","fullPath":"/terraform/language/v1-compatibility-promises","id":"sidebar-nav-item-231"},{"divider":true,"id":"sidebar-nav-item-232"},{"title":"Terraform Internals","href":null,"fullPath":"/terraform/internals","id":"sidebar-nav-item-233","path":"/internals"}],"title":"Configuration Language","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/terraform/blob/main/website/../docs/language/modules/testing-experiment.mdx"},"metadata":{"title":"Module Testing Experiment - Configuration Language","description":"Part of the ongoing design research for module integration testing.","layout":null},"outlineItems":[{"title":"Module Testing Experiment","url":"#module-testing-experiment","dataHeapTrack":"toc-list-item-index-0"},{"title":"Current Research Goals","url":"#current-research-goals","dataHeapTrack":"toc-list-item-index-1"},{"title":"Current Experimental Features","url":"#current-experimental-features","dataHeapTrack":"toc-list-item-index-2"},{"title":"Known Limitations","url":"#known-limitations","dataHeapTrack":"toc-list-item-index-3"},{"title":"Sending Feedback","url":"#sending-feedback","dataHeapTrack":"toc-list-item-index-4"}],"pageHeading":{"id":"module-testing-experiment","title":"Module Testing Experiment"},"mdxSource":{"compiledSource":"var c=Object.defineProperty,d=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var p=(a,t,n)=>t in a?c(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,e=(a,t)=>{for(var n in t||(t={}))r.call(t,n)&&p(a,n,t[n]);if(o)for(var n of o(t))i.call(t,n)&&p(a,n,t[n]);return a},l=(a,t)=>d(a,u(t));var m=(a,t)=>{var n={};for(var s in a)r.call(a,s)&&t.indexOf(s)<0&&(n[s]=a[s]);if(a!=null&&o)for(var s of o(a))t.indexOf(s)<0&&i.call(a,s)&&(n[s]=a[s]);return n};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var s=n,{components:a}=s,t=m(s,[\"components\"]);return mdx(MDXLayout,l(e(e({},layoutProps),t),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,`This page is about some experimental features available in recent versions of\nTerraform CLI related to integration testing of shared modules.`),mdx(\"p\",null,`The Terraform team is aiming to use these features to gather feedback as part\nof ongoing research into different strategies for testing Terraform modules.\nThese features are likely to change significantly in future releases based on\nfeedback.`),mdx(\"h2\",e({},{id:\"current-research-goals\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#current-research-goals\",\"aria-label\":\"current research goals permalink\"}),\"\\xBB\"),\"Current Research Goals\"),mdx(\"p\",null,`Our initial area of research is into the question of whether it's helpful and\nproductive to write module integration tests in the Terraform language itself,\nor whether it's better to handle that as a separate concern orchestrated by\ncode written in other languages.`),mdx(\"p\",null,\"Some existing efforts have piloted both approaches:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"https://terratest.gruntwork.io/\"}),\"Terratest\"),` and\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/newcontext-oss/kitchen-terraform\"}),\"kitchen-terraform\"),`\nboth pioneered the idea of writing tests for Terraform modules with explicit\norchestration written in the Go and Ruby programming languages, respectively.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`The Terraform provider\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://registry.terraform.io/providers/apparentlymart/testing/latest\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"apparentlymart/testing\")),`\nintroduced the idea of writing Terraform module tests in the Terraform\nlanguage itself, using a special provider that can evaluate assertions\nand fail `,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform apply\"),\" if they don't pass.\"))),mdx(\"p\",null,`Both of these approaches have both advantages and disadvantages, and so it's\nlikely that both will coexist for different situations, but the community\nefforts have already explored the external-language testing model quite deeply\nwhile the Terraform-integrated testing model has not yet been widely trialled.\nFor that reason, the current iteration of the module testing experiment is\naimed at trying to make the Terraform-integrated approach more accessible so\nthat more module authors can hopefully try it and share their experiences.`),mdx(\"h2\",e({},{id:\"current-experimental-features\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#current-experimental-features\",\"aria-label\":\"current experimental features permalink\"}),\"\\xBB\"),\"Current Experimental Features\"),mdx(\"div\",e({},{className:\"alert alert-info g-type-body\"}),mdx(\"p\",{parentName:\"div\"},`This page describes the incarnation of the experimental features introduced\nin `,mdx(\"strong\",{parentName:\"p\"},\"Terraform CLI v0.15.0\"),`. If you are using an earlier version of Terraform\nthen you'll need to upgrade to v0.15.0 or later to use the experimental features\ndescribed here, though you only need to use v0.15.0 or later for running tests;\nyour module itself can remain compatible with earlier Terraform versions, if\nneeded.`)),mdx(\"p\",null,`Our current area of interest is in what sorts of tests can and cannot be\nwritten using features integrated into the Terraform language itself. As a\nmeans to investigate that without invasive, cross-cutting changes to Terraform\nCore we're using a special built-in Terraform provider as a placeholder for\npotential new features.`),mdx(\"p\",null,`If this experiment is successful then we expect to run a second round of\nresearch and design about exactly what syntax is most ergonomic for writing\ntests, but for the moment we're interested less in the specific syntax and more\nin the capabilities of this approach.`),mdx(\"p\",null,`The temporary extensions to Terraform for this experiment consist of the\nfollowing parts:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"A temporary experimental provider \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform.io/builtin/test\"),`, which acts as\na placeholder for potential new language features related to test assertions.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"A \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform test\"),` command for more conveniently running multiple tests in\na single action.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`An experimental convention of placing test configurations in subdirectories\nof a `,mdx(\"inlineCode\",{parentName:\"p\"},\"tests\"),\" directory within your module, which \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform test\"),` will then\ndiscover and run.`))),mdx(\"p\",null,`We would like to invite adventurous module authors to try writing integration\ntests for their modules using these mechanisms, and ideally also share the\ntests you write (in a temporary VCS branch, if necessary) so we can see what\nyou were able to test, along with anything you felt unable to test in this way.`),mdx(\"p\",null,`If you're interested in giving this a try, see the following sections for\nusage details. Because these features are temporary experimental extensions,\nthere's some boilerplate required to activate and make use of it which would\nlikely not be required in a final design.`),mdx(\"h3\",e({},{id:\"writing-tests-for-a-module\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#writing-tests-for-a-module\",\"aria-label\":\"writing tests for a module permalink\"}),\"\\xBB\"),\"Writing Tests for a Module\"),mdx(\"p\",null,`For the purposes of the current experiment, module tests are arranged into\n`,mdx(\"em\",{parentName:\"p\"},\"test suites\"),`, each of which is a root Terraform module which includes a\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"module\"),` block calling the module under test, and ideally also a number of\ntest assertions to verify that the module outputs match expectations.`),mdx(\"p\",null,\"In the same directory where you keep your module's \",mdx(\"inlineCode\",{parentName:\"p\"},\".tf\"),\" and/or \",mdx(\"inlineCode\",{parentName:\"p\"},\".tf.json\"),`\nsource files, create a subdirectory called `,mdx(\"inlineCode\",{parentName:\"p\"},\"tests\"),`. Under that directory,\nmake another directory which will serve as your first test suite, with a\ndirectory name that concisely describes what the suite is aiming to test.`),mdx(\"p\",null,`Here's an example directory structure of a typical module directory layout\nwith the addition of a test suite called `,mdx(\"inlineCode\",{parentName:\"p\"},\"defaults\"),\":\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),\"main.tf\",`\n`,\"outputs.tf\",`\n`,\"providers.tf\",`\n`,\"variables.tf\",`\n`,\"versions.tf\",`\n`,\"tests/\",`\n`,\"  defaults/\",`\n`,\"    test_defaults.tf\",`\n`)),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"tests/defaults/test_defaults.tf\"),` file will contain a call to the\nmain module with a suitable set of arguments and hopefully also one or more\nresources that will, for the sake of the experiment, serve as the temporary\nsyntax for defining test assertions. For example:`),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"terraform\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"required_providers\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# Because we're currently using a built-in provider as\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# a substitute for dedicated Terraform language syntax\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# for now, test suite modules must always declare a\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# dependency on this provider. This provider is only\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# available when running tests, so you shouldn't use it\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# in non-test modules.\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"test\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"source\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"terraform.io/builtin/test\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# This example also uses the \"http\" data source to'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# verify the behavior of the hypothetical running\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# service, so we should declare that too.\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"http\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"source\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"hashicorp/http\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"module\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"main\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# source is always ../.. for test suite configurations,\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# because they are placed two subdirectories deep under\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# the main module directory.\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"source\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"../..\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# This test suite is aiming to test the \"defaults\" for'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# this module, so it doesn't set any input variables\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# and just lets their default values be selected instead.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# As with all Terraform modules, we can use local values\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# to do any necessary post-processing of the results from\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# the module in preparation for writing test assertions.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"locals\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# This expression also serves as an implicit assertion\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# that the base URL uses URL syntax; the test suite\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# will fail if this function fails.\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"api_url_parts\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" regex(\",`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"^(?:(?P<scheme>[^:/?#]+):)?(?://(?P<authority>[^/?#]*))?\"'),\",\",`\n`,\"    module.main.api_url,\",`\n`,\"  )\",`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# The special test_assertions resource type, which belongs\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# to the test provider we required above, is a temporary\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# syntax for writing out explicit test assertions.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"resource \",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),'\"test_assertions\"')),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"api_url\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# \"component\" serves as a unique identifier for this'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# particular set of assertions in the test results.\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"component\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"api_url\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# equal and check blocks serve as the test assertions.\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# the labels on these blocks are unique identifiers for\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# the assertions, to allow more easily tracking changes\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# in success between runs.\"),`\n`,\"  equal \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"scheme\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"description\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"default scheme is https\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"got\"),\"         \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" local.api_url_parts.scheme\",`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"want\"),\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"https\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  check \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"port_number\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"description\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"default port number is 8080\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"condition\"),\"   \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" can(regex(\",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\":8080$\"'),\", local.api_url_parts.authority))\",`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# We can also use data resources to respond to the\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# behavior of the real remote system, rather than\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# just to values within the Terraform configuration.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"data \",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),'\"http\"')),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"api_response\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"depends_on\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# make sure the syntax assertions run first, so\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# we'll be sure to see if it was URL syntax errors\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# that let to this data resource also failing.\"),`\n`,\"    test_assertions.api_url,\",`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"url\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" module.main.api_url\",`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"resource \",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),'\"test_assertions\"')),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"api_response\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"component\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"api_response\"'),`\n`,\"  check \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"valid_json\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"description\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"base URL responds with valid JSON\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"condition\"),\"   \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" can(jsondecode(data.http.api_response.body))\",`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",null,`If you like, you can create additional directories alongside\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},\"default\"),` directory to define additional test suites that\npass different variable values into the main module, and\nthen include assertions that verify that the result has changed\nin the expected way.`),mdx(\"h3\",e({},{id:\"running-your-tests\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#running-your-tests\",\"aria-label\":\"running your tests permalink\"}),\"\\xBB\"),\"Running Your Tests\"),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform test\"),` command aims to make it easier to exercise all of your\ndefined test suites at once, and see only the output related to any test\nfailures or errors.`),mdx(\"p\",null,`The current experimental incarnation of this command expects to be run from\nyour main module directory. In our example directory structure above,\nthat was the directory containing `,mdx(\"inlineCode\",{parentName:\"p\"},\"main.tf\"),\" etc, and \",mdx(\"em\",{parentName:\"p\"},\"not\"),` the specific test\nsuite directory containing `,mdx(\"inlineCode\",{parentName:\"p\"},\"test_defaults.tf\"),\".\"),mdx(\"p\",null,`Because these test suites are integration tests rather than unit tests, you'll\nneed to set up any credentials files or environment variables needed by the\nproviders your module uses before running `,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform test\"),`. The test command\nwill, for each suite:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`Install the providers and any external modules the test configuration depends\non.`),mdx(\"li\",{parentName:\"ul\"},\"Create an execution plan to create the objects declared in the module.\"),mdx(\"li\",{parentName:\"ul\"},\"Apply that execution plan to create the objects in the real remote system.\"),mdx(\"li\",{parentName:\"ul\"},`Collect all of the test results from the apply step, which would also have\n\"created\" the `,mdx(\"inlineCode\",{parentName:\"li\"},\"test_assertions\"),\" resources.\"),mdx(\"li\",{parentName:\"ul\"},`Destroy all of the objects recorded in the temporary test state, as if running\n`,mdx(\"inlineCode\",{parentName:\"li\"},\"terraform destroy\"),\" against the test configuration.\")),mdx(\"pre\",e({},{className:\"language-shellsession\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shellsession\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),\"terraform \",mdx(\"span\",e({parentName:\"span\"},{className:\"token builtin class-name\"}),\"test\"))),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"\\u2500\\u2500\\u2500 Failed: defaults.api_url.scheme (default scheme is https) \\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"wrong value\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),'    got:  \"http\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),'    want: \"https\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\"),`\n`)),mdx(\"p\",null,\"In this case, it seems like the module returned an \",mdx(\"inlineCode\",{parentName:\"p\"},\"http\"),` rather than an\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"https\"),\" URL in the default case, and so the \",mdx(\"inlineCode\",{parentName:\"p\"},\"defaults.api_url.scheme\"),`\nassertion failed, and the `,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform test\"),\" command detected and reported it.\"),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"test_assertions\"),` resource captures any assertion failures but does not\nreturn an error, because that can then potentially allow downstream\nassertions to also run and thus capture as much context as possible.\nHowever, if Terraform encounters any `,mdx(\"em\",{parentName:\"p\"},\"errors\"),` while processing the test\nconfiguration it will halt processing, which may cause some of the test\nassertions to be skipped.`),mdx(\"h2\",e({},{id:\"known-limitations\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#known-limitations\",\"aria-label\":\"known limitations permalink\"}),\"\\xBB\"),\"Known Limitations\"),mdx(\"p\",null,`The design above is very much a prototype aimed at gathering more experience\nwith the possibilities of testing inside the Terraform language. We know it's\ncurrently somewhat non-ergonomic, and hope to improve on that in later phases\nof research and design, but the main focus of this iteration is on available\nfunctionality and so with that in mind there are some specific possibilities\nthat we know the current prototype doesn't support well:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Testing of subsequent updates to an existing deployment of a module.\nTests written in this way can only exercise the create and destroy\nbehaviors.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Assertions about expected errors. For a module that includes variable\nvalidation rules and data resources that function as assertion checks,\nthe current prototype doesn't have any way to express that a particular\nset of inputs is `,mdx(\"em\",{parentName:\"p\"},\"expected\"),` to produce an error, and thus report a test\nfailure if it doesn't. We'll hopefully be able to improve on this in a future\niteration with the test assertions better integrated into the language.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Capturing context about failures. Due to this prototype using a provider as\nan approximation for new assertion syntax, the `,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform test\"),` command is\nlimited in how much context it's able to gather about failures. A design\nmore integrated into the language could potentially capture the source\nexpressions and input values to give better feedback about what went wrong,\nsimilar to what Terraform typically returns from expression evaluation errors\nin the main language.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Unit testing without creating real objects. Although we do hope to spend more\ntime researching possibilities for unit testing against fake test doubles in\nthe future, we've decided to focus on integration testing to start because\nit feels like the better-defined problem.`))),mdx(\"h2\",e({},{id:\"sending-feedback\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#sending-feedback\",\"aria-label\":\"sending feedback permalink\"}),\"\\xBB\"),\"Sending Feedback\"),mdx(\"p\",null,`The sort of feedback we'd most like to see at this stage of the experiment is\nto see the source code of any tests you've written against real modules using\nthe features described above, along with notes about anything that you\nattempted to test but were blocked from doing so by limitations of the above\nfeatures. The most ideal way to share that would be to share a link to a\nversion control branch where you've added such tests, if your module is open\nsource.`),mdx(\"p\",null,`If you've previously written or attempted to write tests in an external\nlanguage, using a system like Terratest or kitchen-terraform, we'd also be\ninterested to hear about comparative differences between the two: what worked\nwell in each and what didn't work so well.`),mdx(\"p\",null,`Our ultimate goal is to work towards an integration testing methodology which\nstrikes the best compromise between the capabilities of these different\napproaches, ideally avoiding a hard requirement on any particular external\nlanguage and fitting well into the Terraform workflow.`),mdx(\"p\",null,`Since this is still early work and likely to lead to unstructured discussion,\nwe'd like to gather feedback primarily via new topics in\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://discuss.hashicorp.com/c/terraform-core/27\"}),\"the community forum\"),`. That\nway we can have some more freedom to explore different ideas and approaches\nwithout the structural requirements we typically impose on GitHub issues.`),mdx(\"p\",null,\"Any feedback you'd like to share would be very welcome!\"))}MDXContent.isMDXComponent=!0;\n","scope":{"version":"latest"}},"product":{"slug":"terraform","name":"Terraform","algoliaConfig":{"indexName":"product_TERRAFORM"},"basePaths":["cdktf","cli","cloud-docs","cloud-docs/agents","docs","enterprise","internals","intro","language","plugin","plugin/framework","plugin/log","plugin/mux","plugin/sdkv2","plugin/testing","registry","downloads"],"docsNavItems":["docs","language","cli","cloud-docs","enterprise","cdktf",{"icon":"provider","label":"Provider Use","fullPath":"/terraform/language/providers"},"plugin","registry",{"icon":"handshake","label":"Integration Program","fullPath":"/terraform/docs/partnerships"}],"rootDocsPaths":[{"iconName":"code","name":"CDK for Terraform","path":"cdktf","productSlugForLoader":"terraform-cdk"},{"iconName":"terminal-screen","name":"Terraform CLI","path":"cli"},{"iconName":"cloud","name":"Terraform Cloud","path":"cloud-docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"cloud","name":"Cloud Docs Agents","navDataPrefix":"cloud-docs-agents","path":"cloud-docs/agents","productSlugForLoader":"terraform-docs-agents"},{"iconName":"docs","name":"About the Docs","path":"docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"org","name":"Terraform Enterprise","path":"enterprise","productSlugForLoader":"ptfe-releases"},{"iconName":"docs","name":"Internals","path":"internals"},{"iconName":"docs","name":"Intro","path":"intro"},{"iconName":"file-source","name":"Configuration Language","path":"language"},{"iconName":"wrench","name":"Plugin Development","path":"plugin","productSlugForLoader":"terraform-docs-common"},{"iconName":"plug","name":"Framework","navDataPrefix":"plugin-framework","path":"plugin/framework","productSlugForLoader":"terraform-plugin-framework"},{"iconName":"plug","name":"Logging","navDataPrefix":"plugin-log","path":"plugin/log","productSlugForLoader":"terraform-plugin-log"},{"iconName":"plug","name":"Combining and Translating","navDataPrefix":"plugin-mux","path":"plugin/mux","productSlugForLoader":"terraform-plugin-mux"},{"iconName":"plug","name":"SDKv2","path":"plugin/sdkv2","productSlugForLoader":"terraform-plugin-sdk","navDataPrefix":"plugin-sdkv2"},{"iconName":"plug","name":"Testing","path":"plugin/testing","productSlugForLoader":"terraform-plugin-testing","navDataPrefix":"plugin-testing"},{"iconName":"plus-circle","name":"Registry Publishing","path":"registry","productSlugForLoader":"terraform-docs-common"}],"currentRootDocsPath":{"iconName":"file-source","name":"Configuration Language","path":"language"}},"projectName":null,"versions":null},"__N_SSG":true}