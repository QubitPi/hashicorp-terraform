{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Terraform","url":"/terraform"},{"title":"Configuration Language","url":"/terraform/language","isCurrentPage":false},{"title":"Terraform Settings","url":"/terraform/language/settings"},{"title":"Backends"},{"title":"s3"}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Terraform Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Terraform","fullPath":"/terraform","theme":"terraform"},{"title":"Install","fullPath":"/terraform/downloads"},{"title":"Tutorials","fullPath":"/terraform/tutorials"},{"title":"Documentation","isOpen":true,"routes":[{"title":"About the Docs","fullPath":"/terraform/docs"},{"title":"Configuration Language","fullPath":"/terraform/language"},{"title":"Terraform CLI","fullPath":"/terraform/cli"},{"title":"Terraform Cloud","fullPath":"/terraform/cloud-docs"},{"title":"Terraform Enterprise","fullPath":"/terraform/enterprise"},{"title":"CDK for Terraform","fullPath":"/terraform/cdktf"},{"title":"Provider Use","fullPath":"/terraform/language/providers"},{"title":"Plugin Development","fullPath":"/terraform/plugin"},{"title":"Registry Publishing","fullPath":"/terraform/registry"},{"title":"Integration Program","fullPath":"/terraform/docs/partnerships"}]}],"showFilterInput":false,"title":"Terraform","visuallyHideTitle":true},{"backToLinkProps":{"text":"Terraform Home","href":"/terraform"},"levelButtonProps":{"levelUpButtonText":"Terraform Home"},"menuItems":[{"title":"Configuration Language","fullPath":"/terraform/language","theme":"terraform"},{"title":"Files and Directories","routes":[{"title":"Overview","path":"files","filePath":"../docs/language/files/index.mdx","fullPath":"/terraform/language/files","id":"sidebar-nav-item-3"},{"title":"Override Files","path":"files/override","filePath":"../docs/language/files/override.mdx","fullPath":"/terraform/language/files/override","id":"sidebar-nav-item-4"},{"title":"Dependency Lock File","path":"files/dependency-lock","filePath":"../docs/language/files/dependency-lock.mdx","fullPath":"/terraform/language/files/dependency-lock","id":"sidebar-nav-item-5"},{"title":"Test Files","path":"files/tests","filePath":"../docs/language/files/tests.mdx","fullPath":"/terraform/language/files/tests","id":"sidebar-nav-item-6"}],"id":"sidebar-nav-item-2"},{"title":"Syntax","routes":[{"title":"Overview","path":"syntax","filePath":"../docs/language/syntax/index.mdx","fullPath":"/terraform/language/syntax","id":"sidebar-nav-item-8"},{"title":"Configuration Syntax","path":"syntax/configuration","filePath":"../docs/language/syntax/configuration.mdx","fullPath":"/terraform/language/syntax/configuration","id":"sidebar-nav-item-9"},{"title":"JSON Configuration Syntax","path":"syntax/json","filePath":"../docs/language/syntax/json.mdx","fullPath":"/terraform/language/syntax/json","id":"sidebar-nav-item-10"},{"title":"Style Conventions","path":"syntax/style","filePath":"../docs/language/syntax/style.mdx","fullPath":"/terraform/language/syntax/style","id":"sidebar-nav-item-11"}],"id":"sidebar-nav-item-7"},{"title":"Resources","routes":[{"title":"Overview","path":"resources","filePath":"../docs/language/resources/index.mdx","fullPath":"/terraform/language/resources","id":"sidebar-nav-item-13"},{"title":"Resource Blocks","path":"resources/syntax","filePath":"../docs/language/resources/syntax.mdx","fullPath":"/terraform/language/resources/syntax","id":"sidebar-nav-item-14"},{"title":"Resource Behavior","path":"resources/behavior","filePath":"../docs/language/resources/behavior.mdx","fullPath":"/terraform/language/resources/behavior","id":"sidebar-nav-item-15"},{"title":"Meta-Arguments","routes":[{"title":"<code>depends_on</code>","href":null,"fullPath":"/terraform/language/meta-arguments/depends_on","id":"sidebar-nav-item-17","path":"/language/meta-arguments/depends_on"},{"title":"<code>count</code>","href":null,"fullPath":"/terraform/language/meta-arguments/count","id":"sidebar-nav-item-18","path":"/language/meta-arguments/count"},{"title":"<code>for_each</code>","href":null,"fullPath":"/terraform/language/meta-arguments/for_each","id":"sidebar-nav-item-19","path":"/language/meta-arguments/for_each"},{"title":"<code>provider</code>","href":null,"fullPath":"/terraform/language/meta-arguments/resource-provider","id":"sidebar-nav-item-20","path":"/language/meta-arguments/resource-provider"},{"title":"<code>lifecycle</code>","href":null,"fullPath":"/terraform/language/meta-arguments/lifecycle","id":"sidebar-nav-item-21","path":"/language/meta-arguments/lifecycle"}],"id":"sidebar-nav-item-16"},{"title":"Provisioners","routes":[{"title":"Declaring Provisioners","path":"resources/provisioners/syntax","filePath":"../docs/language/resources/provisioners/syntax.mdx","fullPath":"/terraform/language/resources/provisioners/syntax","id":"sidebar-nav-item-23"},{"title":"Provisioner Connections","path":"resources/provisioners/connection","filePath":"../docs/language/resources/provisioners/connection.mdx","fullPath":"/terraform/language/resources/provisioners/connection","id":"sidebar-nav-item-24"},{"title":"Provisioners Without a Resource","path":"resources/provisioners/null_resource","filePath":"../docs/language/resources/provisioners/null_resource.mdx","fullPath":"/terraform/language/resources/provisioners/null_resource","id":"sidebar-nav-item-25"},{"title":"file","path":"resources/provisioners/file","filePath":"../docs/language/resources/provisioners/file.mdx","fullPath":"/terraform/language/resources/provisioners/file","id":"sidebar-nav-item-26"},{"title":"local-exec","path":"resources/provisioners/local-exec","filePath":"../docs/language/resources/provisioners/local-exec.mdx","fullPath":"/terraform/language/resources/provisioners/local-exec","id":"sidebar-nav-item-27"},{"title":"remote-exec","path":"resources/provisioners/remote-exec","filePath":"../docs/language/resources/provisioners/remote-exec.mdx","fullPath":"/terraform/language/resources/provisioners/remote-exec","id":"sidebar-nav-item-28"}],"id":"sidebar-nav-item-22"},{"title":"The <code>terraform_data</code> Resource Type","path":"resources/terraform-data","filePath":"../docs/language/resources/terraform-data.mdx","fullPath":"/terraform/language/resources/terraform-data","id":"sidebar-nav-item-29"}],"id":"sidebar-nav-item-12"},{"title":"Data Sources","path":"data-sources","filePath":"../docs/language/data-sources/index.mdx","fullPath":"/terraform/language/data-sources","id":"sidebar-nav-item-30"},{"title":"Providers","routes":[{"title":"Overview","path":"providers","filePath":"../docs/language/providers/index.mdx","fullPath":"/terraform/language/providers","id":"sidebar-nav-item-32"},{"title":"Provider Configuration","path":"providers/configuration","filePath":"../docs/language/providers/configuration.mdx","fullPath":"/terraform/language/providers/configuration","id":"sidebar-nav-item-33"},{"title":"Provider Requirements","path":"providers/requirements","filePath":"../docs/language/providers/requirements.mdx","fullPath":"/terraform/language/providers/requirements","id":"sidebar-nav-item-34"},{"title":"Dependency Lock File","href":null,"fullPath":"/terraform/language/files/dependency-lock","id":"sidebar-nav-item-35","path":"/language/files/dependency-lock"}],"id":"sidebar-nav-item-31"},{"title":"Variables and Outputs","routes":[{"title":"Overview","path":"values","filePath":"../docs/language/values/index.mdx","fullPath":"/terraform/language/values","id":"sidebar-nav-item-37"},{"title":"Input Variables","path":"values/variables","filePath":"../docs/language/values/variables.mdx","fullPath":"/terraform/language/values/variables","id":"sidebar-nav-item-38"},{"title":"Output Values","path":"values/outputs","filePath":"../docs/language/values/outputs.mdx","fullPath":"/terraform/language/values/outputs","id":"sidebar-nav-item-39"},{"title":"Local Values","path":"values/locals","filePath":"../docs/language/values/locals.mdx","fullPath":"/terraform/language/values/locals","id":"sidebar-nav-item-40"}],"id":"sidebar-nav-item-36"},{"title":"Modules","routes":[{"title":"Overview","path":"modules","filePath":"../docs/language/modules/index.mdx","fullPath":"/terraform/language/modules","id":"sidebar-nav-item-42"},{"title":"Module Blocks","path":"modules/syntax","filePath":"../docs/language/modules/syntax.mdx","fullPath":"/terraform/language/modules/syntax","id":"sidebar-nav-item-43"},{"title":"Module Sources","path":"modules/sources","filePath":"../docs/language/modules/sources.mdx","fullPath":"/terraform/language/modules/sources","id":"sidebar-nav-item-44"},{"title":"Meta-Arguments","routes":[{"title":"<code>providers</code>","href":null,"fullPath":"/terraform/language/meta-arguments/module-providers","id":"sidebar-nav-item-46","path":"/language/meta-arguments/module-providers"},{"title":"<code>depends_on</code>","href":null,"fullPath":"/terraform/language/meta-arguments/depends_on","id":"sidebar-nav-item-47","path":"/language/meta-arguments/depends_on"},{"title":"<code>count</code>","href":null,"fullPath":"/terraform/language/meta-arguments/count","id":"sidebar-nav-item-48","path":"/language/meta-arguments/count"},{"title":"<code>for_each</code>","href":null,"fullPath":"/terraform/language/meta-arguments/for_each","id":"sidebar-nav-item-49","path":"/language/meta-arguments/for_each"}],"id":"sidebar-nav-item-45"},{"title":"Module Development","routes":[{"title":"Overview","path":"modules/develop","filePath":"../docs/language/modules/develop/index.mdx","fullPath":"/terraform/language/modules/develop","id":"sidebar-nav-item-51"},{"title":"Standard Module Structure","path":"modules/develop/structure","filePath":"../docs/language/modules/develop/structure.mdx","fullPath":"/terraform/language/modules/develop/structure","id":"sidebar-nav-item-52"},{"title":"Providers Within Modules","path":"modules/develop/providers","filePath":"../docs/language/modules/develop/providers.mdx","fullPath":"/terraform/language/modules/develop/providers","id":"sidebar-nav-item-53"},{"title":"Best Practices: Module Composition","path":"modules/develop/composition","filePath":"../docs/language/modules/develop/composition.mdx","fullPath":"/terraform/language/modules/develop/composition","id":"sidebar-nav-item-54"},{"title":"Publishing Modules","path":"modules/develop/publish","filePath":"../docs/language/modules/develop/publish.mdx","fullPath":"/terraform/language/modules/develop/publish","id":"sidebar-nav-item-55"},{"title":"Refactoring Modules","path":"modules/develop/refactoring","filePath":"../docs/language/modules/develop/refactoring.mdx","fullPath":"/terraform/language/modules/develop/refactoring","id":"sidebar-nav-item-56"}],"id":"sidebar-nav-item-50"}],"id":"sidebar-nav-item-41"},{"title":"Checks","path":"checks","filePath":"../docs/language/checks/index.mdx","fullPath":"/terraform/language/checks","id":"sidebar-nav-item-57"},{"title":"Import","routes":[{"title":"Overview","path":"import","filePath":"../docs/language/import/index.mdx","fullPath":"/terraform/language/import","id":"sidebar-nav-item-59"},{"title":"Generating Configuration","path":"import/generating-configuration","filePath":"../docs/language/import/generating-configuration.mdx","fullPath":"/terraform/language/import/generating-configuration","id":"sidebar-nav-item-60"}],"id":"sidebar-nav-item-58"},{"title":"Expressions","routes":[{"title":"Overview","path":"expressions","filePath":"../docs/language/expressions/index.mdx","fullPath":"/terraform/language/expressions","id":"sidebar-nav-item-62"},{"title":"Types and Values","path":"expressions/types","filePath":"../docs/language/expressions/types.mdx","fullPath":"/terraform/language/expressions/types","id":"sidebar-nav-item-63"},{"title":"Strings and Templates","path":"expressions/strings","filePath":"../docs/language/expressions/strings.mdx","fullPath":"/terraform/language/expressions/strings","id":"sidebar-nav-item-64"},{"title":"References to Values","path":"expressions/references","filePath":"../docs/language/expressions/references.mdx","fullPath":"/terraform/language/expressions/references","id":"sidebar-nav-item-65"},{"title":"Operators","path":"expressions/operators","filePath":"../docs/language/expressions/operators.mdx","fullPath":"/terraform/language/expressions/operators","id":"sidebar-nav-item-66"},{"title":"Function Calls","path":"expressions/function-calls","filePath":"../docs/language/expressions/function-calls.mdx","fullPath":"/terraform/language/expressions/function-calls","id":"sidebar-nav-item-67"},{"title":"Conditional Expressions","path":"expressions/conditionals","filePath":"../docs/language/expressions/conditionals.mdx","fullPath":"/terraform/language/expressions/conditionals","id":"sidebar-nav-item-68"},{"title":"For Expressions","path":"expressions/for","filePath":"../docs/language/expressions/for.mdx","fullPath":"/terraform/language/expressions/for","id":"sidebar-nav-item-69"},{"title":"Splat Expressions","path":"expressions/splat","filePath":"../docs/language/expressions/splat.mdx","fullPath":"/terraform/language/expressions/splat","id":"sidebar-nav-item-70"},{"title":"Dynamic Blocks","path":"expressions/dynamic-blocks","filePath":"../docs/language/expressions/dynamic-blocks.mdx","fullPath":"/terraform/language/expressions/dynamic-blocks","id":"sidebar-nav-item-71"},{"title":"Custom Conditions","path":"expressions/custom-conditions","filePath":"../docs/language/expressions/custom-conditions.mdx","fullPath":"/terraform/language/expressions/custom-conditions","id":"sidebar-nav-item-72"},{"title":"Type Constraints","path":"expressions/type-constraints","filePath":"../docs/language/expressions/type-constraints.mdx","fullPath":"/terraform/language/expressions/type-constraints","id":"sidebar-nav-item-73"},{"title":"Version Constraints","path":"expressions/version-constraints","filePath":"../docs/language/expressions/version-constraints.mdx","fullPath":"/terraform/language/expressions/version-constraints","id":"sidebar-nav-item-74"}],"id":"sidebar-nav-item-61"},{"title":"Functions","routes":[{"title":"Overview","path":"functions","filePath":"../docs/language/functions/index.mdx","fullPath":"/terraform/language/functions","id":"sidebar-nav-item-76"},{"title":"Numeric Functions","routes":[{"title":"<code>abs</code>","href":null,"fullPath":"/terraform/language/functions/abs","id":"sidebar-nav-item-78","path":"/language/functions/abs"},{"title":"<code>ceil</code>","href":null,"fullPath":"/terraform/language/functions/ceil","id":"sidebar-nav-item-79","path":"/language/functions/ceil"},{"title":"<code>floor</code>","href":null,"fullPath":"/terraform/language/functions/floor","id":"sidebar-nav-item-80","path":"/language/functions/floor"},{"title":"<code>log</code>","href":null,"fullPath":"/terraform/language/functions/log","id":"sidebar-nav-item-81","path":"/language/functions/log"},{"title":"<code>max</code>","href":null,"fullPath":"/terraform/language/functions/max","id":"sidebar-nav-item-82","path":"/language/functions/max"},{"title":"<code>min</code>","href":null,"fullPath":"/terraform/language/functions/min","id":"sidebar-nav-item-83","path":"/language/functions/min"},{"title":"<code>parseint</code>","href":null,"fullPath":"/terraform/language/functions/parseint","id":"sidebar-nav-item-84","path":"/language/functions/parseint"},{"title":"<code>pow</code>","href":null,"fullPath":"/terraform/language/functions/pow","id":"sidebar-nav-item-85","path":"/language/functions/pow"},{"title":"<code>signum</code>","href":null,"fullPath":"/terraform/language/functions/signum","id":"sidebar-nav-item-86","path":"/language/functions/signum"}],"id":"sidebar-nav-item-77"},{"title":"String Functions","routes":[{"title":"<code>chomp</code>","href":null,"fullPath":"/terraform/language/functions/chomp","id":"sidebar-nav-item-88","path":"/language/functions/chomp"},{"title":"<code>endswith</code>","href":null,"fullPath":"/terraform/language/functions/endswith","id":"sidebar-nav-item-89","path":"/language/functions/endswith"},{"title":"<code>format</code>","href":null,"fullPath":"/terraform/language/functions/format","id":"sidebar-nav-item-90","path":"/language/functions/format"},{"title":"<code>formatlist</code>","href":null,"fullPath":"/terraform/language/functions/formatlist","id":"sidebar-nav-item-91","path":"/language/functions/formatlist"},{"title":"<code>indent</code>","href":null,"fullPath":"/terraform/language/functions/indent","id":"sidebar-nav-item-92","path":"/language/functions/indent"},{"title":"<code>join</code>","href":null,"fullPath":"/terraform/language/functions/join","id":"sidebar-nav-item-93","path":"/language/functions/join"},{"title":"<code>lower</code>","href":null,"fullPath":"/terraform/language/functions/lower","id":"sidebar-nav-item-94","path":"/language/functions/lower"},{"title":"<code>regex</code>","href":null,"fullPath":"/terraform/language/functions/regex","id":"sidebar-nav-item-95","path":"/language/functions/regex"},{"title":"<code>regexall</code>","href":null,"fullPath":"/terraform/language/functions/regexall","id":"sidebar-nav-item-96","path":"/language/functions/regexall"},{"title":"<code>replace</code>","href":null,"fullPath":"/terraform/language/functions/replace","id":"sidebar-nav-item-97","path":"/language/functions/replace"},{"title":"<code>split</code>","href":null,"fullPath":"/terraform/language/functions/split","id":"sidebar-nav-item-98","path":"/language/functions/split"},{"title":"<code>startswith</code>","href":null,"fullPath":"/terraform/language/functions/startswith","id":"sidebar-nav-item-99","path":"/language/functions/startswith"},{"title":"<code>strcontains</code>","href":null,"fullPath":"/terraform/language/functions/strcontains","id":"sidebar-nav-item-100","path":"/language/functions/strcontains"},{"title":"<code>strrev</code>","href":null,"fullPath":"/terraform/language/functions/strrev","id":"sidebar-nav-item-101","path":"/language/functions/strrev"},{"title":"<code>substr</code>","href":null,"fullPath":"/terraform/language/functions/substr","id":"sidebar-nav-item-102","path":"/language/functions/substr"},{"title":"<code>title</code>","href":null,"fullPath":"/terraform/language/functions/title","id":"sidebar-nav-item-103","path":"/language/functions/title"},{"title":"<code>trim</code>","href":null,"fullPath":"/terraform/language/functions/trim","id":"sidebar-nav-item-104","path":"/language/functions/trim"},{"title":"<code>trimprefix</code>","href":null,"fullPath":"/terraform/language/functions/trimprefix","id":"sidebar-nav-item-105","path":"/language/functions/trimprefix"},{"title":"<code>trimsuffix</code>","href":null,"fullPath":"/terraform/language/functions/trimsuffix","id":"sidebar-nav-item-106","path":"/language/functions/trimsuffix"},{"title":"<code>trimspace</code>","href":null,"fullPath":"/terraform/language/functions/trimspace","id":"sidebar-nav-item-107","path":"/language/functions/trimspace"},{"title":"<code>upper</code>","href":null,"fullPath":"/terraform/language/functions/upper","id":"sidebar-nav-item-108","path":"/language/functions/upper"}],"id":"sidebar-nav-item-87"},{"title":"Collection Functions","routes":[{"title":"<code>alltrue</code>","href":null,"fullPath":"/terraform/language/functions/alltrue","id":"sidebar-nav-item-110","path":"/language/functions/alltrue"},{"title":"<code>anytrue</code>","href":null,"fullPath":"/terraform/language/functions/anytrue","id":"sidebar-nav-item-111","path":"/language/functions/anytrue"},{"title":"<code>chunklist</code>","href":null,"fullPath":"/terraform/language/functions/chunklist","id":"sidebar-nav-item-112","path":"/language/functions/chunklist"},{"title":"<code>coalesce</code>","href":null,"fullPath":"/terraform/language/functions/coalesce","id":"sidebar-nav-item-113","path":"/language/functions/coalesce"},{"title":"<code>coalescelist</code>","href":null,"fullPath":"/terraform/language/functions/coalescelist","id":"sidebar-nav-item-114","path":"/language/functions/coalescelist"},{"title":"<code>compact</code>","href":null,"fullPath":"/terraform/language/functions/compact","id":"sidebar-nav-item-115","path":"/language/functions/compact"},{"title":"<code>concat</code>","href":null,"fullPath":"/terraform/language/functions/concat","id":"sidebar-nav-item-116","path":"/language/functions/concat"},{"title":"<code>contains</code>","href":null,"fullPath":"/terraform/language/functions/contains","id":"sidebar-nav-item-117","path":"/language/functions/contains"},{"title":"<code>distinct</code>","href":null,"fullPath":"/terraform/language/functions/distinct","id":"sidebar-nav-item-118","path":"/language/functions/distinct"},{"title":"<code>element</code>","href":null,"fullPath":"/terraform/language/functions/element","id":"sidebar-nav-item-119","path":"/language/functions/element"},{"title":"<code>flatten</code>","href":null,"fullPath":"/terraform/language/functions/flatten","id":"sidebar-nav-item-120","path":"/language/functions/flatten"},{"title":"<code>index</code>","href":null,"fullPath":"/terraform/language/functions/index_function","id":"sidebar-nav-item-121","path":"/language/functions/index_function"},{"title":"<code>keys</code>","href":null,"fullPath":"/terraform/language/functions/keys","id":"sidebar-nav-item-122","path":"/language/functions/keys"},{"title":"<code>length</code>","href":null,"fullPath":"/terraform/language/functions/length","id":"sidebar-nav-item-123","path":"/language/functions/length"},{"title":"<code>list</code>","href":null,"fullPath":"/terraform/language/functions/list","id":"sidebar-nav-item-124","path":"/language/functions/list"},{"title":"<code>lookup</code>","href":null,"fullPath":"/terraform/language/functions/lookup","id":"sidebar-nav-item-125","path":"/language/functions/lookup"},{"title":"<code>map</code>","href":null,"fullPath":"/terraform/language/functions/map","id":"sidebar-nav-item-126","path":"/language/functions/map"},{"title":"<code>matchkeys</code>","href":null,"fullPath":"/terraform/language/functions/matchkeys","id":"sidebar-nav-item-127","path":"/language/functions/matchkeys"},{"title":"<code>merge</code>","href":null,"fullPath":"/terraform/language/functions/merge","id":"sidebar-nav-item-128","path":"/language/functions/merge"},{"title":"<code>one</code>","href":null,"fullPath":"/terraform/language/functions/one","id":"sidebar-nav-item-129","path":"/language/functions/one"},{"title":"<code>range</code>","href":null,"fullPath":"/terraform/language/functions/range","id":"sidebar-nav-item-130","path":"/language/functions/range"},{"title":"<code>reverse</code>","href":null,"fullPath":"/terraform/language/functions/reverse","id":"sidebar-nav-item-131","path":"/language/functions/reverse"},{"title":"<code>setintersection</code>","href":null,"fullPath":"/terraform/language/functions/setintersection","id":"sidebar-nav-item-132","path":"/language/functions/setintersection"},{"title":"<code>setproduct</code>","href":null,"fullPath":"/terraform/language/functions/setproduct","id":"sidebar-nav-item-133","path":"/language/functions/setproduct"},{"title":"<code>setsubtract</code>","href":null,"fullPath":"/terraform/language/functions/setsubtract","id":"sidebar-nav-item-134","path":"/language/functions/setsubtract"},{"title":"<code>setunion</code>","href":null,"fullPath":"/terraform/language/functions/setunion","id":"sidebar-nav-item-135","path":"/language/functions/setunion"},{"title":"<code>slice</code>","href":null,"fullPath":"/terraform/language/functions/slice","id":"sidebar-nav-item-136","path":"/language/functions/slice"},{"title":"<code>sort</code>","href":null,"fullPath":"/terraform/language/functions/sort","id":"sidebar-nav-item-137","path":"/language/functions/sort"},{"title":"<code>sum</code>","href":null,"fullPath":"/terraform/language/functions/sum","id":"sidebar-nav-item-138","path":"/language/functions/sum"},{"title":"<code>transpose</code>","href":null,"fullPath":"/terraform/language/functions/transpose","id":"sidebar-nav-item-139","path":"/language/functions/transpose"},{"title":"<code>values</code>","href":null,"fullPath":"/terraform/language/functions/values","id":"sidebar-nav-item-140","path":"/language/functions/values"},{"title":"<code>zipmap</code>","href":null,"fullPath":"/terraform/language/functions/zipmap","id":"sidebar-nav-item-141","path":"/language/functions/zipmap"}],"id":"sidebar-nav-item-109"},{"title":"Encoding Functions","routes":[{"title":"<code>base64decode</code>","href":null,"fullPath":"/terraform/language/functions/base64decode","id":"sidebar-nav-item-143","path":"/language/functions/base64decode"},{"title":"<code>base64encode</code>","href":null,"fullPath":"/terraform/language/functions/base64encode","id":"sidebar-nav-item-144","path":"/language/functions/base64encode"},{"title":"<code>base64gzip</code>","href":null,"fullPath":"/terraform/language/functions/base64gzip","id":"sidebar-nav-item-145","path":"/language/functions/base64gzip"},{"title":"<code>csvdecode</code>","href":null,"fullPath":"/terraform/language/functions/csvdecode","id":"sidebar-nav-item-146","path":"/language/functions/csvdecode"},{"title":"<code>jsondecode</code>","href":null,"fullPath":"/terraform/language/functions/jsondecode","id":"sidebar-nav-item-147","path":"/language/functions/jsondecode"},{"title":"<code>jsonencode</code>","href":null,"fullPath":"/terraform/language/functions/jsonencode","id":"sidebar-nav-item-148","path":"/language/functions/jsonencode"},{"title":"<code>textdecodebase64</code>","href":null,"fullPath":"/terraform/language/functions/textdecodebase64","id":"sidebar-nav-item-149","path":"/language/functions/textdecodebase64"},{"title":"<code>textencodebase64</code>","href":null,"fullPath":"/terraform/language/functions/textencodebase64","id":"sidebar-nav-item-150","path":"/language/functions/textencodebase64"},{"title":"<code>urlencode</code>","href":null,"fullPath":"/terraform/language/functions/urlencode","id":"sidebar-nav-item-151","path":"/language/functions/urlencode"},{"title":"<code>yamldecode</code>","href":null,"fullPath":"/terraform/language/functions/yamldecode","id":"sidebar-nav-item-152","path":"/language/functions/yamldecode"},{"title":"<code>yamlencode</code>","href":null,"fullPath":"/terraform/language/functions/yamlencode","id":"sidebar-nav-item-153","path":"/language/functions/yamlencode"}],"id":"sidebar-nav-item-142"},{"title":"Filesystem Functions","routes":[{"title":"<code>abspath</code>","href":null,"fullPath":"/terraform/language/functions/abspath","id":"sidebar-nav-item-155","path":"/language/functions/abspath"},{"title":"<code>dirname</code>","href":null,"fullPath":"/terraform/language/functions/dirname","id":"sidebar-nav-item-156","path":"/language/functions/dirname"},{"title":"<code>pathexpand</code>","href":null,"fullPath":"/terraform/language/functions/pathexpand","id":"sidebar-nav-item-157","path":"/language/functions/pathexpand"},{"title":"<code>basename</code>","href":null,"fullPath":"/terraform/language/functions/basename","id":"sidebar-nav-item-158","path":"/language/functions/basename"},{"title":"<code>file</code>","href":null,"fullPath":"/terraform/language/functions/file","id":"sidebar-nav-item-159","path":"/language/functions/file"},{"title":"<code>fileexists</code>","href":null,"fullPath":"/terraform/language/functions/fileexists","id":"sidebar-nav-item-160","path":"/language/functions/fileexists"},{"title":"<code>fileset</code>","href":null,"fullPath":"/terraform/language/functions/fileset","id":"sidebar-nav-item-161","path":"/language/functions/fileset"},{"title":"<code>filebase64</code>","href":null,"fullPath":"/terraform/language/functions/filebase64","id":"sidebar-nav-item-162","path":"/language/functions/filebase64"},{"title":"<code>templatefile</code>","href":null,"fullPath":"/terraform/language/functions/templatefile","id":"sidebar-nav-item-163","path":"/language/functions/templatefile"}],"id":"sidebar-nav-item-154"},{"title":"Date and Time Functions","routes":[{"title":"<code>formatdate</code>","href":null,"fullPath":"/terraform/language/functions/formatdate","id":"sidebar-nav-item-165","path":"/language/functions/formatdate"},{"title":"<code>plantimestamp</code>","href":null,"fullPath":"/terraform/language/functions/plantimestamp","id":"sidebar-nav-item-166","path":"/language/functions/plantimestamp"},{"title":"<code>timeadd</code>","href":null,"fullPath":"/terraform/language/functions/timeadd","id":"sidebar-nav-item-167","path":"/language/functions/timeadd"},{"title":"<code>timecmp</code>","href":null,"fullPath":"/terraform/language/functions/timecmp","id":"sidebar-nav-item-168","path":"/language/functions/timecmp"},{"title":"<code>timestamp</code>","href":null,"fullPath":"/terraform/language/functions/timestamp","id":"sidebar-nav-item-169","path":"/language/functions/timestamp"}],"id":"sidebar-nav-item-164"},{"title":"Hash and Crypto Functions","routes":[{"title":"<code>base64sha256</code>","href":null,"fullPath":"/terraform/language/functions/base64sha256","id":"sidebar-nav-item-171","path":"/language/functions/base64sha256"},{"title":"<code>base64sha512</code>","href":null,"fullPath":"/terraform/language/functions/base64sha512","id":"sidebar-nav-item-172","path":"/language/functions/base64sha512"},{"title":"<code>bcrypt</code>","href":null,"fullPath":"/terraform/language/functions/bcrypt","id":"sidebar-nav-item-173","path":"/language/functions/bcrypt"},{"title":"<code>filebase64sha256</code>","href":null,"fullPath":"/terraform/language/functions/filebase64sha256","id":"sidebar-nav-item-174","path":"/language/functions/filebase64sha256"},{"title":"<code>filebase64sha512</code>","href":null,"fullPath":"/terraform/language/functions/filebase64sha512","id":"sidebar-nav-item-175","path":"/language/functions/filebase64sha512"},{"title":"<code>filemd5</code>","href":null,"fullPath":"/terraform/language/functions/filemd5","id":"sidebar-nav-item-176","path":"/language/functions/filemd5"},{"title":"<code>filesha1</code>","href":null,"fullPath":"/terraform/language/functions/filesha1","id":"sidebar-nav-item-177","path":"/language/functions/filesha1"},{"title":"<code>filesha256</code>","href":null,"fullPath":"/terraform/language/functions/filesha256","id":"sidebar-nav-item-178","path":"/language/functions/filesha256"},{"title":"<code>filesha512</code>","href":null,"fullPath":"/terraform/language/functions/filesha512","id":"sidebar-nav-item-179","path":"/language/functions/filesha512"},{"title":"<code>md5</code>","href":null,"fullPath":"/terraform/language/functions/md5","id":"sidebar-nav-item-180","path":"/language/functions/md5"},{"title":"<code>rsadecrypt</code>","href":null,"fullPath":"/terraform/language/functions/rsadecrypt","id":"sidebar-nav-item-181","path":"/language/functions/rsadecrypt"},{"title":"<code>sha1</code>","href":null,"fullPath":"/terraform/language/functions/sha1","id":"sidebar-nav-item-182","path":"/language/functions/sha1"},{"title":"<code>sha256</code>","href":null,"fullPath":"/terraform/language/functions/sha256","id":"sidebar-nav-item-183","path":"/language/functions/sha256"},{"title":"<code>sha512</code>","href":null,"fullPath":"/terraform/language/functions/sha512","id":"sidebar-nav-item-184","path":"/language/functions/sha512"},{"title":"<code>uuid</code>","href":null,"fullPath":"/terraform/language/functions/uuid","id":"sidebar-nav-item-185","path":"/language/functions/uuid"},{"title":"<code>uuidv5</code>","href":null,"fullPath":"/terraform/language/functions/uuidv5","id":"sidebar-nav-item-186","path":"/language/functions/uuidv5"}],"id":"sidebar-nav-item-170"},{"title":"IP Network Functions","routes":[{"title":"<code>cidrhost</code>","href":null,"fullPath":"/terraform/language/functions/cidrhost","id":"sidebar-nav-item-188","path":"/language/functions/cidrhost"},{"title":"<code>cidrnetmask</code>","href":null,"fullPath":"/terraform/language/functions/cidrnetmask","id":"sidebar-nav-item-189","path":"/language/functions/cidrnetmask"},{"title":"<code>cidrsubnet</code>","href":null,"fullPath":"/terraform/language/functions/cidrsubnet","id":"sidebar-nav-item-190","path":"/language/functions/cidrsubnet"},{"title":"<code>cidrsubnets</code>","href":null,"fullPath":"/terraform/language/functions/cidrsubnets","id":"sidebar-nav-item-191","path":"/language/functions/cidrsubnets"}],"id":"sidebar-nav-item-187"},{"title":"Type Conversion Functions","routes":[{"title":"<code>can</code>","href":null,"fullPath":"/terraform/language/functions/can","id":"sidebar-nav-item-193","path":"/language/functions/can"},{"title":"<code>nonsensitive</code>","href":null,"fullPath":"/terraform/language/functions/nonsensitive","id":"sidebar-nav-item-194","path":"/language/functions/nonsensitive"},{"title":"<code>sensitive</code>","href":null,"fullPath":"/terraform/language/functions/sensitive","id":"sidebar-nav-item-195","path":"/language/functions/sensitive"},{"title":"<code>tobool</code>","href":null,"fullPath":"/terraform/language/functions/tobool","id":"sidebar-nav-item-196","path":"/language/functions/tobool"},{"title":"<code>tolist</code>","href":null,"fullPath":"/terraform/language/functions/tolist","id":"sidebar-nav-item-197","path":"/language/functions/tolist"},{"title":"<code>tomap</code>","href":null,"fullPath":"/terraform/language/functions/tomap","id":"sidebar-nav-item-198","path":"/language/functions/tomap"},{"title":"<code>tonumber</code>","href":null,"fullPath":"/terraform/language/functions/tonumber","id":"sidebar-nav-item-199","path":"/language/functions/tonumber"},{"title":"<code>toset</code>","href":null,"fullPath":"/terraform/language/functions/toset","id":"sidebar-nav-item-200","path":"/language/functions/toset"},{"title":"<code>tostring</code>","href":null,"fullPath":"/terraform/language/functions/tostring","id":"sidebar-nav-item-201","path":"/language/functions/tostring"},{"title":"<code>try</code>","href":null,"fullPath":"/terraform/language/functions/try","id":"sidebar-nav-item-202","path":"/language/functions/try"},{"title":"<code>type</code>","href":null,"fullPath":"/terraform/language/functions/type","id":"sidebar-nav-item-203","path":"/language/functions/type"}],"id":"sidebar-nav-item-192"}],"id":"sidebar-nav-item-75"},{"title":"Terraform Settings","routes":[{"title":"Overview","path":"settings","filePath":"../docs/language/settings/index.mdx","fullPath":"/terraform/language/settings","id":"sidebar-nav-item-205"},{"title":"Terraform Cloud","path":"settings/terraform-cloud","filePath":"../docs/language/settings/terraform-cloud.mdx","fullPath":"/terraform/language/settings/terraform-cloud","id":"sidebar-nav-item-206"},{"title":"Backends","routes":[{"title":"Backend Configuration","path":"settings/backends/configuration","filePath":"../docs/language/settings/backends/configuration.mdx","fullPath":"/terraform/language/settings/backends/configuration","id":"sidebar-nav-item-208"},{"title":"Available Backends","routes":[{"title":"local","href":null,"fullPath":"/terraform/language/settings/backends/local","id":"sidebar-nav-item-210","path":"/language/settings/backends/local"},{"title":"remote","href":null,"fullPath":"/terraform/language/settings/backends/remote","id":"sidebar-nav-item-211","path":"/language/settings/backends/remote"},{"title":"azurerm","href":null,"fullPath":"/terraform/language/settings/backends/azurerm","id":"sidebar-nav-item-212","path":"/language/settings/backends/azurerm"},{"title":"consul","href":null,"fullPath":"/terraform/language/settings/backends/consul","id":"sidebar-nav-item-213","path":"/language/settings/backends/consul"},{"title":"cos","href":null,"fullPath":"/terraform/language/settings/backends/cos","id":"sidebar-nav-item-214","path":"/language/settings/backends/cos"},{"title":"gcs","href":null,"fullPath":"/terraform/language/settings/backends/gcs","id":"sidebar-nav-item-215","path":"/language/settings/backends/gcs"},{"title":"http","href":null,"fullPath":"/terraform/language/settings/backends/http","id":"sidebar-nav-item-216","path":"/language/settings/backends/http"},{"title":"Kubernetes","href":null,"fullPath":"/terraform/language/settings/backends/kubernetes","id":"sidebar-nav-item-217","path":"/language/settings/backends/kubernetes"},{"title":"oss","href":null,"fullPath":"/terraform/language/settings/backends/oss","id":"sidebar-nav-item-218","path":"/language/settings/backends/oss"},{"title":"pg","href":null,"fullPath":"/terraform/language/settings/backends/pg","id":"sidebar-nav-item-219","path":"/language/settings/backends/pg"},{"title":"s3","href":null,"fullPath":"/terraform/language/settings/backends/s3","id":"sidebar-nav-item-220","path":"/language/settings/backends/s3"}],"id":"sidebar-nav-item-209"}],"id":"sidebar-nav-item-207"}],"id":"sidebar-nav-item-204"},{"title":"State","routes":[{"title":"Overview","path":"state","filePath":"../docs/language/state/index.mdx","fullPath":"/terraform/language/state","id":"sidebar-nav-item-222"},{"title":"Purpose","path":"state/purpose","filePath":"../docs/language/state/purpose.mdx","fullPath":"/terraform/language/state/purpose","id":"sidebar-nav-item-223"},{"title":"The <code>terraform_remote_state</code> Data Source","path":"state/remote-state-data","filePath":"../docs/language/state/remote-state-data.mdx","fullPath":"/terraform/language/state/remote-state-data","id":"sidebar-nav-item-224"},{"title":"Backends: State Storage and Locking","path":"state/backends","filePath":"../docs/language/state/backends.mdx","fullPath":"/terraform/language/state/backends","id":"sidebar-nav-item-225"},{"title":"Import Existing Resources","path":"state/import","filePath":"../docs/language/state/import.mdx","fullPath":"/terraform/language/state/import","id":"sidebar-nav-item-226"},{"title":"Locking","path":"state/locking","filePath":"../docs/language/state/locking.mdx","fullPath":"/terraform/language/state/locking","id":"sidebar-nav-item-227"},{"title":"Workspaces","path":"state/workspaces","filePath":"../docs/language/state/workspaces.mdx","fullPath":"/terraform/language/state/workspaces","id":"sidebar-nav-item-228"},{"title":"Remote State","path":"state/remote","filePath":"../docs/language/state/remote.mdx","fullPath":"/terraform/language/state/remote","id":"sidebar-nav-item-229"},{"title":"Sensitive Data","path":"state/sensitive-data","filePath":"../docs/language/state/sensitive-data.mdx","fullPath":"/terraform/language/state/sensitive-data","id":"sidebar-nav-item-230"}],"id":"sidebar-nav-item-221"},{"title":"Tests","path":"tests","filePath":"../docs/language/tests/index.mdx","fullPath":"/terraform/language/tests","id":"sidebar-nav-item-231"},{"title":"Upgrading to Terraform v1.6","path":"upgrade-guides","filePath":"../docs/language/upgrade-guides/index.mdx","fullPath":"/terraform/language/upgrade-guides","id":"sidebar-nav-item-232"},{"title":"v1.x Compatibility Promises","path":"v1-compatibility-promises","filePath":"../docs/language/v1-compatibility-promises.mdx","fullPath":"/terraform/language/v1-compatibility-promises","id":"sidebar-nav-item-233"},{"divider":true,"id":"sidebar-nav-item-234"},{"title":"Terraform Internals","href":null,"fullPath":"/terraform/internals","id":"sidebar-nav-item-235","path":"/internals"}],"title":"Configuration Language","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/terraform/blob/main/website/../docs/language/settings/backends/s3.mdx"},"metadata":{"title":"Backend Type: s3","description":"Terraform can store state remotely in S3 and lock that state with DynamoDB.","layout":null},"outlineItems":[{"title":"S3","url":"#s3","dataHeapTrack":"toc-list-item-index-0"},{"title":"Example Configuration","url":"#example-configuration","dataHeapTrack":"toc-list-item-index-1"},{"title":"Data Source Configuration","url":"#data-source-configuration","dataHeapTrack":"toc-list-item-index-2"},{"title":"Configuration","url":"#configuration","dataHeapTrack":"toc-list-item-index-3"},{"title":"Multi-account AWS Architecture","url":"#multi-account-aws-architecture","dataHeapTrack":"toc-list-item-index-4"}],"pageHeading":{"id":"s3","title":"S3"},"mdxSource":{"compiledSource":"var c=Object.defineProperty,d=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var s=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var l=(a,n,t)=>n in a?c(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,e=(a,n)=>{for(var t in n||(n={}))r.call(n,t)&&l(a,t,n[t]);if(s)for(var t of s(n))o.call(n,t)&&l(a,t,n[t]);return a},p=(a,n)=>d(a,N(n));var m=(a,n)=>{var t={};for(var i in a)r.call(a,i)&&n.indexOf(i)<0&&(t[i]=a[i]);if(a!=null&&s)for(var i of s(a))n.indexOf(i)<0&&o.call(a,i)&&(t[i]=a[i]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var i=t,{components:a}=i,n=m(i,[\"components\"]);return mdx(MDXLayout,p(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,`Stores the state as a given key in a given bucket on\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://aws.amazon.com/s3/\"}),\"Amazon S3\"),`.\nThis backend also supports state locking and consistency checking via\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://aws.amazon.com/dynamodb/\"}),\"Dynamo DB\"),`, which can be enabled by setting\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},\"dynamodb_table\"),` field to an existing DynamoDB table name.\nA single DynamoDB table can be used to lock multiple remote state files. Terraform generates key names that include the values of the `,mdx(\"inlineCode\",{parentName:\"p\"},\"bucket\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"key\"),\" variables.\"),mdx(\"div\",e({},{className:\"alert alert-warning g-type-body\"}),mdx(\"p\",{parentName:\"div\"},\"\",mdx(\"strong\",{parentName:\"p\"},\"Warning!\"),` It is highly recommended that you enable\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/manage-versioning-examples.html\"}),\"Bucket Versioning\"),`\non the S3 bucket to allow for state recovery in the case of accidental deletions and human error.`)),mdx(\"h2\",e({},{id:\"example-configuration\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#example-configuration\",\"aria-label\":\"example configuration permalink\"}),\"\\xBB\"),\"Example Configuration\"),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"terraform\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"backend\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"s3\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"bucket\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"mybucket\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"key\"),\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"path/to/my/key\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"region\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"us-east-1\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",null,\"This assumes we have a bucket created called \",mdx(\"inlineCode\",{parentName:\"p\"},\"mybucket\"),`. The\nTerraform state is written to the key `,mdx(\"inlineCode\",{parentName:\"p\"},\"path/to/my/key\"),\".\"),mdx(\"p\",null,`Note that for the access credentials we recommend using a\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/settings/backends/configuration#partial-configuration\"}),\"partial configuration\"),\".\"),mdx(\"h3\",e({},{id:\"s3-bucket-permissions\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#s3-bucket-permissions\",\"aria-label\":\"s3 bucket permissions permalink\"}),\"\\xBB\"),\"S3 Bucket Permissions\"),mdx(\"p\",null,`Terraform will need the following AWS IAM permissions on\nthe target backend bucket:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"s3-listbucket\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#s3-listbucket\",\"aria-label\":\"s3 listbucket permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"s3:ListBucket\")),\" on \",mdx(\"inlineCode\",{parentName:\"li\"},\"arn:aws:s3:::mybucket\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"s3-getobject\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#s3-getobject\",\"aria-label\":\"s3 getobject permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"s3:GetObject\")),\" on \",mdx(\"inlineCode\",{parentName:\"li\"},\"arn:aws:s3:::mybucket/path/to/my/key\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"s3-putobject\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#s3-putobject\",\"aria-label\":\"s3 putobject permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"s3:PutObject\")),\" on \",mdx(\"inlineCode\",{parentName:\"li\"},\"arn:aws:s3:::mybucket/path/to/my/key\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"s3-deleteobject\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#s3-deleteobject\",\"aria-label\":\"s3 deleteobject permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"s3:DeleteObject\")),\" on \",mdx(\"inlineCode\",{parentName:\"li\"},\"arn:aws:s3:::mybucket/path/to/my/key\"))),mdx(\"p\",null,\"This is seen in the following AWS IAM Statement:\"),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Version\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"2012-10-17\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Statement\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Effect\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Allow\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Action\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"s3:ListBucket\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Resource\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"arn:aws:s3:::mybucket\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Effect\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Allow\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Action\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"s3:GetObject\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"s3:PutObject\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"s3:DeleteObject\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Resource\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"arn:aws:s3:::mybucket/path/to/my/key\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"div\",e({},{className:\"alert alert-info g-type-body\"}),mdx(\"p\",{parentName:\"div\"},\"\",mdx(\"strong\",{parentName:\"p\"},\"Note:\"),` AWS can control access to S3 buckets with either IAM policies\nattached to users/groups/roles (like the example above) or resource policies\nattached to bucket objects (which look similar but also require a `,mdx(\"inlineCode\",{parentName:\"p\"},\"Principal\"),` to\nindicate which entity has those permissions). For more details, see Amazon's\ndocumentation about\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-access-control.html\"}),\"S3 access control\"),\".\")),mdx(\"h3\",e({},{id:\"dynamodb-table-permissions\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#dynamodb-table-permissions\",\"aria-label\":\"dynamodb table permissions permalink\"}),\"\\xBB\"),\"DynamoDB Table Permissions\"),mdx(\"p\",null,`If you are using state locking, Terraform will need the following AWS IAM\npermissions on the DynamoDB table (`,mdx(\"inlineCode\",{parentName:\"p\"},\"arn:aws:dynamodb:::table/mytable\"),\"):\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"dynamodb-describetable\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#dynamodb-describetable\",\"aria-label\":\"dynamodb describetable permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"dynamodb:DescribeTable\"))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"dynamodb-getitem\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#dynamodb-getitem\",\"aria-label\":\"dynamodb getitem permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"dynamodb:GetItem\"))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"dynamodb-putitem\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#dynamodb-putitem\",\"aria-label\":\"dynamodb putitem permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"dynamodb:PutItem\"))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"dynamodb-deleteitem\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#dynamodb-deleteitem\",\"aria-label\":\"dynamodb deleteitem permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"dynamodb:DeleteItem\")))),mdx(\"p\",null,\"This is seen in the following AWS IAM Statement:\"),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Version\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"2012-10-17\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Statement\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Effect\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Allow\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Action\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"dynamodb:DescribeTable\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"dynamodb:GetItem\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"dynamodb:PutItem\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"dynamodb:DeleteItem\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Resource\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"arn:aws:dynamodb:*:*:table/mytable\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h2\",e({},{id:\"data-source-configuration\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#data-source-configuration\",\"aria-label\":\"data source configuration permalink\"}),\"\\xBB\"),\"Data Source Configuration\"),mdx(\"p\",null,`To make use of the S3 remote state in another configuration, use the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/state/remote-state-data\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"terraform_remote_state\"),` data\nsource`),\".\"),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"data \",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),'\"terraform_remote_state\"')),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"network\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"backend\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"s3\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"config\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"bucket\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"terraform-state-prod\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"key\"),\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"network/terraform.tfstate\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"region\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"us-east-1\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform_remote_state\"),` data source will return all of the root module\noutputs defined in the referenced remote state (but not any outputs from\nnested modules unless they are explicitly output again in the root). An\nexample output might look like:`),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),\"data.terraform_remote_state.network:\",`\n`,\"  id = 2016-10-29 01:57:59.780010914 +0000 UTC\",`\n`,\"  addresses.# = 2\",`\n`,\"  addresses.0 = 52.207.220.222\",`\n`,\"  addresses.1 = 54.196.78.166\",`\n`,\"  backend = s3\",`\n`,\"  config.% = 3\",`\n`,\"  config.bucket = terraform-state-prod\",`\n`,\"  config.key = network/terraform.tfstate\",`\n`,\"  config.region = us-east-1\",`\n`,\"  elb_address = web-elb-790251200.us-east-1.elb.amazonaws.com\",`\n`,\"  public_subnet_id = subnet-1e05dd33\",`\n`)),mdx(\"h2\",e({},{id:\"configuration\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#configuration\",\"aria-label\":\"configuration permalink\"}),\"\\xBB\"),\"Configuration\"),mdx(\"p\",null,\"This backend requires the configuration of the AWS Region and S3 state storage. Other configuration, such as enabling DynamoDB state locking, is optional.\"),mdx(\"h3\",e({},{id:\"credentials-and-shared-configuration\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#credentials-and-shared-configuration\",\"aria-label\":\"credentials and shared configuration permalink\"}),\"\\xBB\"),\"Credentials and Shared Configuration\"),mdx(\"div\",e({},{className:\"alert alert-danger g-type-body\"}),mdx(\"p\",{parentName:\"div\"},\"\",mdx(\"strong\",{parentName:\"p\"},\"Warning:\"),\"  We recommend using environment variables to supply credentials and other sensitive data. If you use \",mdx(\"inlineCode\",{parentName:\"p\"},\"-backend-config\"),\" or hardcode these values directly in your configuration, Terraform will include these values in both the \",mdx(\"inlineCode\",{parentName:\"p\"},\".terraform\"),\" subdirectory and in plan files. Refer to \",mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/settings/backends/configuration#credentials-and-sensitive-data\"}),\"Credentials and Sensitive Data\"),\" for details.\")),mdx(\"p\",null,\"The following configuration is required:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"region\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#region\",\"aria-label\":\"region permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"region\")),\" - (Required) AWS Region of the S3 Bucket and DynamoDB Table (if used). This can also be sourced from the \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_DEFAULT_REGION\"),\" and \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_REGION\"),\" environment variables.\")),mdx(\"p\",null,\"The following configuration is optional:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"access_key\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#access_key\",\"aria-label\":\"access_key permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"access_key\")),\" - (Optional) AWS access key. If configured, must also configure \",mdx(\"inlineCode\",{parentName:\"li\"},\"secret_key\"),\". This can also be sourced from the \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_ACCESS_KEY_ID\"),\" environment variable, AWS shared credentials file (e.g. \",mdx(\"inlineCode\",{parentName:\"li\"},\"~/.aws/credentials\"),\"), or AWS shared configuration file (e.g. \",mdx(\"inlineCode\",{parentName:\"li\"},\"~/.aws/config\"),\").\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"allowed_account_ids\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#allowed_account_ids\",\"aria-label\":\"allowed_account_ids permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"allowed_account_ids\")),\" - (Optional) List of allowed AWS account IDs to prevent potential destruction of a live environment. Conflicts with \",mdx(\"inlineCode\",{parentName:\"li\"},\"forbidden_account_ids\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"custom_ca_bundle\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#custom_ca_bundle\",\"aria-label\":\"custom_ca_bundle permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"custom_ca_bundle\")),\" - (Optional) File containing custom root and intermediate certificates. Can also be set using the \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_CA_BUNDLE\"),\" environment variable. Setting ca_bundle in the shared config file is not supported.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"ec2_metadata_service_endpoint\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#ec2_metadata_service_endpoint\",\"aria-label\":\"ec2_metadata_service_endpoint permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ec2_metadata_service_endpoint\")),` - (Optional) Custom endpoint URL for the EC2 Instance Metadata Service (IMDS) API.\nCan also be set with the `,mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_EC2_METADATA_SERVICE_ENDPOINT\"),\" environment variable.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"ec2_metadata_service_endpoint_mode\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#ec2_metadata_service_endpoint_mode\",\"aria-label\":\"ec2_metadata_service_endpoint_mode permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ec2_metadata_service_endpoint_mode\")),` - (Optional) Mode to use in communicating with the metadata service.\nValid values are `,mdx(\"inlineCode\",{parentName:\"li\"},\"IPv4\"),\" and \",mdx(\"inlineCode\",{parentName:\"li\"},\"IPv6\"),`.\nCan also be set with the `,mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE\"),\" environment variable.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"forbidden_account_ids\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#forbidden_account_ids\",\"aria-label\":\"forbidden_account_ids permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"forbidden_account_ids\")),\" - (Optional) List of forbidden AWS account IDs to prevent potential destruction of a live environment. Conflicts with \",mdx(\"inlineCode\",{parentName:\"li\"},\"allowed_account_ids\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"http_proxy\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#http_proxy\",\"aria-label\":\"http_proxy permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"http_proxy\")),\" - (Optional) Address of an HTTP proxy to use when accessing the AWS API. Can also be set using the \",mdx(\"inlineCode\",{parentName:\"li\"},\"HTTP_PROXY\"),\" or \",mdx(\"inlineCode\",{parentName:\"li\"},\"HTTPS_PROXY\"),\" environment variables.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"iam_endpoint\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#iam_endpoint\",\"aria-label\":\"iam_endpoint permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"iam_endpoint\")),\" - (Optional, \",mdx(\"strong\",{parentName:\"li\"},\"Deprecated\"),`) Custom endpoint URL for the AWS Identity and Access Management (IAM) API.\nUse `,mdx(\"inlineCode\",{parentName:\"li\"},\"endpoints.iam\"),\" instead.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"insecure\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#insecure\",\"aria-label\":\"insecure permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"insecure\")),' - (Optional) Whether to explicitly allow the backend to perform \"insecure\" SSL requests. If omitted, the default value is ',mdx(\"inlineCode\",{parentName:\"li\"},\"false\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"max_retries\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#max_retries\",\"aria-label\":\"max_retries permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"max_retries\")),\" - (Optional) The maximum number of times an AWS API request is retried on retryable failure. Defaults to 5.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"profile\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#profile\",\"aria-label\":\"profile permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"profile\")),\" - (Optional) Name of AWS profile in AWS shared credentials file (e.g. \",mdx(\"inlineCode\",{parentName:\"li\"},\"~/.aws/credentials\"),\") or AWS shared configuration file (e.g. \",mdx(\"inlineCode\",{parentName:\"li\"},\"~/.aws/config\"),\") to use for credentials and/or configuration. This can also be sourced from the \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_PROFILE\"),\" environment variable.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"retry_mode\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#retry_mode\",\"aria-label\":\"retry_mode permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"retry_mode\")),\" - (Optional) Specifies how retries are attempted. Valid values are \",mdx(\"inlineCode\",{parentName:\"li\"},\"standard\"),\" and \",mdx(\"inlineCode\",{parentName:\"li\"},\"adaptive\"),\". Can also be configured using the \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_RETRY_MODE\"),\" environment variable or the shared config file parameter \",mdx(\"inlineCode\",{parentName:\"li\"},\"retry_mode\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"secret_key\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#secret_key\",\"aria-label\":\"secret_key permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"secret_key\")),\" - (Optional) AWS access key. If configured, must also configure \",mdx(\"inlineCode\",{parentName:\"li\"},\"access_key\"),\". This can also be sourced from the \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_SECRET_ACCESS_KEY\"),\" environment variable, AWS shared credentials file (e.g. \",mdx(\"inlineCode\",{parentName:\"li\"},\"~/.aws/credentials\"),\"), or AWS shared configuration file (e.g. \",mdx(\"inlineCode\",{parentName:\"li\"},\"~/.aws/config\"),\").\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"shared_config_files\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#shared_config_files\",\"aria-label\":\"shared_config_files permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"shared_config_files\")),\"  - (Optional) List of paths to AWS shared configuration files. Defaults to \",mdx(\"inlineCode\",{parentName:\"li\"},\"~/.aws/config\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"shared_credentials_file\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#shared_credentials_file\",\"aria-label\":\"shared_credentials_file permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"shared_credentials_file\")),\"  - (Optional, \",mdx(\"strong\",{parentName:\"li\"},\"Deprecated\"),\", use \",mdx(\"inlineCode\",{parentName:\"li\"},\"shared_credentials_files\"),\" instead) Path to the AWS shared credentials file. Defaults to \",mdx(\"inlineCode\",{parentName:\"li\"},\"~/.aws/credentials\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"shared_credentials_files\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#shared_credentials_files\",\"aria-label\":\"shared_credentials_files permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"shared_credentials_files\")),\"  - (Optional) List of paths to AWS shared credentials files. Defaults to \",mdx(\"inlineCode\",{parentName:\"li\"},\"~/.aws/credentials\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"skip_credentials_validation\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#skip_credentials_validation\",\"aria-label\":\"skip_credentials_validation permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"skip_credentials_validation\")),\" - (Optional) Skip credentials validation via the STS API.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"skip_region_validation\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#skip_region_validation\",\"aria-label\":\"skip_region_validation permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"skip_region_validation\")),\" - (Optional) Skip validation of provided region name.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"skip_requesting_account_id\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#skip_requesting_account_id\",\"aria-label\":\"skip_requesting_account_id permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"skip_requesting_account_id\")),\" - (Optional) Whether to skip requesting the account ID. Useful for AWS API implementations that do not have the IAM, STS API, or metadata API.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"skip_metadata_api_check\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#skip_metadata_api_check\",\"aria-label\":\"skip_metadata_api_check permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"skip_metadata_api_check\")),\" - (Optional) Skip usage of EC2 Metadata API.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"sts_endpoint\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#sts_endpoint\",\"aria-label\":\"sts_endpoint permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"sts_endpoint\")),\" - (Optional, \",mdx(\"strong\",{parentName:\"li\"},\"Deprecated\"),`) Custom endpoint URL for the AWS Security Token Service (STS) API.\nUse `,mdx(\"inlineCode\",{parentName:\"li\"},\"endpoints.sts\"),\" instead.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"sts_region\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#sts_region\",\"aria-label\":\"sts_region permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"sts_region\")),\" - (Optional) AWS region for STS. If unset, AWS will use the same region for STS as other non-STS operations.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"token\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#token\",\"aria-label\":\"token permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"token\")),\" - (Optional) Multi-Factor Authentication (MFA) token. This can also be sourced from the \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_SESSION_TOKEN\"),\" environment variable.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"use_dualstack_endpoint\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#use_dualstack_endpoint\",\"aria-label\":\"use_dualstack_endpoint permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"use_dualstack_endpoint\")),\" - (Optional) Force the backend to resolve endpoints with DualStack capability. Can also be set with the \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_USE_DUALSTACK_ENDPOINT\"),\" environment variable or in a shared config file (\",mdx(\"inlineCode\",{parentName:\"li\"},\"use_dualstack_endpoint\"),\").\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"use_fips_endpoint\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#use_fips_endpoint\",\"aria-label\":\"use_fips_endpoint permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"use_fips_endpoint\")),\" - (Optional) Force the backend to resolve endpoints with FIPS capability. Can also be set with the \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_USE_FIPS_ENDPOINT\"),\" environment variable or in a shared config file (\",mdx(\"inlineCode\",{parentName:\"li\"},\"use_fips_endpoint\"),\").\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"use_legacy_workflow\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#use_legacy_workflow\",\"aria-label\":\"use_legacy_workflow permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"use_legacy_workflow\")),\" - (Optional) Use the legacy authentication workflow, preferring environment variables over backend configuration. Defaults to \",mdx(\"inlineCode\",{parentName:\"li\"},\"true\"),\". This behavior does not align with the authentication flow of the AWS CLI or SDK's, and will be removed in the future.\")),mdx(\"h4\",e({},{id:\"overriding-aws-api-endpoints\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#overriding-aws-api-endpoints\",\"aria-label\":\"overriding aws api endpoints permalink\"}),\"\\xBB\"),\"Overriding AWS API endpoints\"),mdx(\"p\",null,\"The optional argument \",mdx(\"inlineCode\",{parentName:\"p\"},\"endpoints\"),\" contains the following arguments:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"dynamodb\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#dynamodb\",\"aria-label\":\"dynamodb permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"dynamodb\")),` - (Optional) Custom endpoint URL for the AWS DynamoDB API.\nThis can also be sourced from the environment variable `,mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_ENDPOINT_URL_DYNAMODB\"),\" or the deprecated environment variable \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_DYNAMODB_ENDPOINT\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"iam\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#iam\",\"aria-label\":\"iam permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"iam\")),` - (Optional) Custom endpoint URL for the AWS IAM API.\nThis can also be sourced from the environment variable `,mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_ENDPOINT_URL_IAM\"),\" or the deprecated environment variable \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_IAM_ENDPOINT\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"s3-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#s3-1\",\"aria-label\":\"s3 permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"s3\")),` - (Optional) Custom endpoint URL for the AWS S3 API.\nThis can also be sourced from the environment variable `,mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_ENDPOINT_URL_S3\"),\" or the deprecated environment variable \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_S3_ENDPOINT\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"sts\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#sts\",\"aria-label\":\"sts permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"sts\")),` - (Optional) Custom endpoint URL for the AWS STS API.\nThis can also be sourced from the environment variable `,mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_ENDPOINT_URL_STS\"),\" or the deprecated environment variable \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_STS_ENDPOINT\"),\".\")),mdx(\"h4\",e({},{id:\"assume-role-configuration\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#assume-role-configuration\",\"aria-label\":\"assume role configuration permalink\"}),\"\\xBB\"),\"Assume Role Configuration\"),mdx(\"p\",null,`Assuming an IAM Role can be configured in two ways.\nThe preferred way is to use the argument `,mdx(\"inlineCode\",{parentName:\"p\"},\"assume_role\"),\", the other, which is deprecated, is with arguments at the top level.\"),mdx(\"p\",null,\"The argument \",mdx(\"inlineCode\",{parentName:\"p\"},\"assume_role\"),\" contains the following arguments:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"role_arn\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#role_arn\",\"aria-label\":\"role_arn permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"role_arn\")),\" - (Required) Amazon Resource Name (ARN) of the IAM Role to assume.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"duration\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#duration\",\"aria-label\":\"duration permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"duration\")),` - (Optional) The duration individual credentials will be valid.\nCredentials are automatically renewed up to the maximum defined by the AWS account.\nSpecified using the format `,mdx(\"inlineCode\",{parentName:\"li\"},\"<hours>h<minutes>m<seconds>s\"),` with any unit being optional.\nFor example, an hour and a half can be specified as `,mdx(\"inlineCode\",{parentName:\"li\"},\"1h30m\"),\" or \",mdx(\"inlineCode\",{parentName:\"li\"},\"90m\"),`.\nMust be between 15 minutes (15m) and 12 hours (12h).`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"external_id\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#external_id\",\"aria-label\":\"external_id permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"external_id\")),\" - (Optional) External identifier to use when assuming the role.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"policy\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#policy\",\"aria-label\":\"policy permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"policy\")),\" - (Optional) IAM Policy JSON describing further restricting permissions for the IAM Role being assumed.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"policy_arns\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#policy_arns\",\"aria-label\":\"policy_arns permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"policy_arns\")),\" - (Optional) Set of Amazon Resource Names (ARNs) of IAM Policies describing further restricting permissions for the IAM Role being assumed.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"session_name\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#session_name\",\"aria-label\":\"session_name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"session_name\")),\" - (Optional) Session name to use when assuming the role.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"source_identity\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#source_identity\",\"aria-label\":\"source_identity permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"source_identity\")),\" - (Optional) Source identity specified by the principal assuming the role.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"tags\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#tags\",\"aria-label\":\"tags permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"tags\")),\" - (Optional) Map of assume role session tags.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"transitive_tag_keys\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#transitive_tag_keys\",\"aria-label\":\"transitive_tag_keys permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"transitive_tag_keys\")),\" - (Optional) Set of assume role session tag keys to pass to any subsequent sessions.\")),mdx(\"p\",null,\"The following arguments on the top level are deprecated:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"assume_role_duration_seconds\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#assume_role_duration_seconds\",\"aria-label\":\"assume_role_duration_seconds permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"assume_role_duration_seconds\")),` - (Optional) Number of seconds to restrict the assume role session duration.\nUse `,mdx(\"inlineCode\",{parentName:\"li\"},\"assume_role.duration\"),\" instead.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"assume_role_policy\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#assume_role_policy\",\"aria-label\":\"assume_role_policy permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"assume_role_policy\")),` - (Optional) IAM Policy JSON describing further restricting permissions for the IAM Role being assumed.\nUse `,mdx(\"inlineCode\",{parentName:\"li\"},\"assume_role.policy\"),\" instead.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"assume_role_policy_arns\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#assume_role_policy_arns\",\"aria-label\":\"assume_role_policy_arns permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"assume_role_policy_arns\")),` - (Optional) Set of Amazon Resource Names (ARNs) of IAM Policies describing further restricting permissions for the IAM Role being assumed.\nUse `,mdx(\"inlineCode\",{parentName:\"li\"},\"assume_role.policy_arns\"),\" instead.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"assume_role_tags\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#assume_role_tags\",\"aria-label\":\"assume_role_tags permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"assume_role_tags\")),` - (Optional) Map of assume role session tags.\nUse `,mdx(\"inlineCode\",{parentName:\"li\"},\"assume_role.tags\"),\" instead.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"assume_role_transitive_tag_keys\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#assume_role_transitive_tag_keys\",\"aria-label\":\"assume_role_transitive_tag_keys permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"assume_role_transitive_tag_keys\")),` - (Optional) Set of assume role session tag keys to pass to any subsequent sessions.\nUse `,mdx(\"inlineCode\",{parentName:\"li\"},\"assume_role.transitive_tag_keys\"),\" instead.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"external_id-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#external_id-1\",\"aria-label\":\"external_id permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"external_id\")),` - (Optional) External identifier to use when assuming the role.\nUse `,mdx(\"inlineCode\",{parentName:\"li\"},\"assume_role.external_id\"),\" instead.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"role_arn-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#role_arn-1\",\"aria-label\":\"role_arn permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"role_arn\")),` - (Optional) Amazon Resource Name (ARN) of the IAM Role to assume.\nUse `,mdx(\"inlineCode\",{parentName:\"li\"},\"assume_role.role_arn\"),\" instead.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"session_name-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#session_name-1\",\"aria-label\":\"session_name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"session_name\")),` - (Optional) Session name to use when assuming the role.\nUse `,mdx(\"inlineCode\",{parentName:\"li\"},\"assume_role.session_name\"),\" instead.\")),mdx(\"pre\",e({},{className:\"language-terraform\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-terraform\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"terraform\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"backend\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"s3\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"bucket\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"terraform-state-prod\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"key\"),\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"network/terraform.tfstate\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"region\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"us-east-1\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"assume_role\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"role_arn\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"arn:aws:iam::PRODUCTION-ACCOUNT-ID:role/Terraform\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h4\",e({},{id:\"assume-role-with-web-identity-configuration\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#assume-role-with-web-identity-configuration\",\"aria-label\":\"assume role with web identity configuration permalink\"}),\"\\xBB\"),\"Assume Role With Web Identity Configuration\"),mdx(\"p\",null,\"The following \",mdx(\"inlineCode\",{parentName:\"p\"},\"assume_role_with_web_identity\"),\" configuration block is optional:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"role_arn-2\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#role_arn-2\",\"aria-label\":\"role_arn permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"role_arn\")),` - (Required) Amazon Resource Name (ARN) of the IAM Role to assume.\nCan also be set with the `,mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_ROLE_ARN\"),\" environment variable.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"duration-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#duration-1\",\"aria-label\":\"duration permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"duration\")),` - (Optional) The duration individual credentials will be valid.\nCredentials are automatically renewed up to the maximum defined by the AWS account.\nSpecified using the format `,mdx(\"inlineCode\",{parentName:\"li\"},\"<hours>h<minutes>m<seconds>s\"),` with any unit being optional.\nFor example, an hour and a half can be specified as `,mdx(\"inlineCode\",{parentName:\"li\"},\"1h30m\"),\" or \",mdx(\"inlineCode\",{parentName:\"li\"},\"90m\"),`.\nMust be between 15 minutes (15m) and 12 hours (12h).`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"policy-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#policy-1\",\"aria-label\":\"policy permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"policy\")),\" - (Optional) IAM Policy JSON describing further restricting permissions for the IAM Role being assumed.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"policy_arns-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#policy_arns-1\",\"aria-label\":\"policy_arns permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"policy_arns\")),\" - (Optional) Set of Amazon Resource Names (ARNs) of IAM Policies describing further restricting permissions for the IAM Role being assumed.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"session_name-2\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#session_name-2\",\"aria-label\":\"session_name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"session_name\")),` - (Optional) Session name to use when assuming the role.\nCan also be set with the `,mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_ROLE_SESSION_NAME\"),\" environment variable.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"web_identity_token\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#web_identity_token\",\"aria-label\":\"web_identity_token permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"web_identity_token\")),` - (Optional) The value of a web identity token from an OpenID Connect (OIDC) or OAuth provider.\nOne of `,mdx(\"inlineCode\",{parentName:\"li\"},\"web_identity_token\"),\" or \",mdx(\"inlineCode\",{parentName:\"li\"},\"web_identity_token_file\"),\" is required.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"web_identity_token_file\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#web_identity_token_file\",\"aria-label\":\"web_identity_token_file permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"web_identity_token_file\")),` - (Optional) File containing a web identity token from an OpenID Connect (OIDC) or OAuth provider.\nOne of `,mdx(\"inlineCode\",{parentName:\"li\"},\"web_identity_token_file\"),\" or \",mdx(\"inlineCode\",{parentName:\"li\"},\"web_identity_token\"),` is required.\nCan also be set with the `,mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_WEB_IDENTITY_TOKEN_FILE\"),\" environment variable.\")),mdx(\"pre\",e({},{className:\"language-terraform\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-terraform\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"terraform\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"backend\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"s3\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"bucket\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"terraform-state-prod\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"key\"),\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"network/terraform.tfstate\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"region\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"us-east-1\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"assume_role_with_web_identity\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"role_arn\"),\"           \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"arn:aws:iam::PRODUCTION-ACCOUNT-ID:role/Terraform\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"web_identity_token\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"<token value>\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h3\",e({},{id:\"s3-state-storage\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#s3-state-storage\",\"aria-label\":\"s3 state storage permalink\"}),\"\\xBB\"),\"S3 State Storage\"),mdx(\"p\",null,\"The following configuration is required:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"bucket\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#bucket\",\"aria-label\":\"bucket permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"bucket\")),\" - (Required) Name of the S3 Bucket.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"key\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#key\",\"aria-label\":\"key permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"key\")),\" - (Required) Path to the state file inside the S3 Bucket. When using a non-default \",mdx(\"a\",e({parentName:\"li\"},{href:\"/terraform/language/state/workspaces\"}),\"workspace\"),\", the state path will be \",mdx(\"inlineCode\",{parentName:\"li\"},\"/workspace_key_prefix/workspace_name/key\"),\" (see also the \",mdx(\"inlineCode\",{parentName:\"li\"},\"workspace_key_prefix\"),\" configuration).\")),mdx(\"p\",null,\"The following configuration is optional:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"acl\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#acl\",\"aria-label\":\"acl permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"acl\")),\" - (Optional) \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/acl-overview.html#canned-acl\"}),\"Canned ACL\"),\" to be applied to the state file.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"encrypt\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#encrypt\",\"aria-label\":\"encrypt permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"encrypt\")),\" - (Optional) Enable \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingServerSideEncryption.html\"}),\"server side encryption\"),\" of the state file.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"endpoint\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#endpoint\",\"aria-label\":\"endpoint permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"endpoint\")),\" - (Optional, \",mdx(\"strong\",{parentName:\"li\"},\"Deprecated\"),`) Custom endpoint URL for the AWS S3 API.\nUse `,mdx(\"inlineCode\",{parentName:\"li\"},\"endpoints.s3\"),\" instead.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"force_path_style\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#force_path_style\",\"aria-label\":\"force_path_style permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"force_path_style\")),\" - (Optional, \",mdx(\"strong\",{parentName:\"li\"},\"Deprecated\"),\") Enable path-style S3 URLs (\",mdx(\"inlineCode\",{parentName:\"li\"},\"https://<HOST>/<BUCKET>\"),\" instead of \",mdx(\"inlineCode\",{parentName:\"li\"},\"https://<BUCKET>.<HOST>\"),\").\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"kms_key_id\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#kms_key_id\",\"aria-label\":\"kms_key_id permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"kms_key_id\")),\" - (Optional) Amazon Resource Name (ARN) of a Key Management Service (KMS) Key to use for encrypting the state. Note that if this value is specified, Terraform will need \",mdx(\"inlineCode\",{parentName:\"li\"},\"kms:Encrypt\"),\", \",mdx(\"inlineCode\",{parentName:\"li\"},\"kms:Decrypt\"),\" and \",mdx(\"inlineCode\",{parentName:\"li\"},\"kms:GenerateDataKey\"),\" permissions on this KMS key.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"sse_customer_key\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#sse_customer_key\",\"aria-label\":\"sse_customer_key permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"sse_customer_key\")),\" - (Optional) The key to use for encrypting state with \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/ServerSideEncryptionCustomerKeys.html\"}),\"Server-Side Encryption with Customer-Provided Keys (SSE-C)\"),\". This is the base64-encoded value of the key, which must decode to 256 bits. This can also be sourced from the \",mdx(\"inlineCode\",{parentName:\"li\"},\"AWS_SSE_CUSTOMER_KEY\"),\" environment variable, which is recommended due to the sensitivity of the value. Setting it inside a terraform file will cause it to be persisted to disk in \",mdx(\"inlineCode\",{parentName:\"li\"},\"terraform.tfstate\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"use_path_style\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#use_path_style\",\"aria-label\":\"use_path_style permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"use_path_style\")),\" - (Optional) Enable path-style S3 URLs (\",mdx(\"inlineCode\",{parentName:\"li\"},\"https://<HOST>/<BUCKET>\"),\" instead of \",mdx(\"inlineCode\",{parentName:\"li\"},\"https://<BUCKET>.<HOST>\"),\").\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"workspace_key_prefix\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#workspace_key_prefix\",\"aria-label\":\"workspace_key_prefix permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"workspace_key_prefix\")),\" - (Optional) Prefix applied to the state path inside the bucket. This is only relevant when using a non-default workspace. Defaults to \",mdx(\"inlineCode\",{parentName:\"li\"},\"env:\"),\".\")),mdx(\"h3\",e({},{id:\"dynamodb-state-locking\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#dynamodb-state-locking\",\"aria-label\":\"dynamodb state locking permalink\"}),\"\\xBB\"),\"DynamoDB State Locking\"),mdx(\"p\",null,\"The following configuration is optional:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"dynamodb_endpoint\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#dynamodb_endpoint\",\"aria-label\":\"dynamodb_endpoint permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"dynamodb_endpoint\")),\" - (Optional, \",mdx(\"strong\",{parentName:\"li\"},\"Deprecated\"),`) Custom endpoint URL for the AWS DynamoDB API.\nUse `,mdx(\"inlineCode\",{parentName:\"li\"},\"endpoints.dynamodb\"),\" instead.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"dynamodb_table\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#dynamodb_table\",\"aria-label\":\"dynamodb_table permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"dynamodb_table\")),\" - (Optional) Name of DynamoDB Table to use for state locking and consistency. The table must have a partition key named \",mdx(\"inlineCode\",{parentName:\"li\"},\"LockID\"),\" with type of \",mdx(\"inlineCode\",{parentName:\"li\"},\"String\"),\". If not configured, state locking will be disabled.\")),mdx(\"h2\",e({},{id:\"multi-account-aws-architecture\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#multi-account-aws-architecture\",\"aria-label\":\"multi account aws architecture permalink\"}),\"\\xBB\"),\"Multi-account AWS Architecture\"),mdx(\"p\",null,`A common architectural pattern is for an organization to use a number of\nseparate AWS accounts to isolate different teams and environments. For example,\na \"staging\" system will often be deployed into a separate AWS account than\nits corresponding \"production\" system, to minimize the risk of the staging\nenvironment affecting production infrastructure, whether via rate limiting,\nmisconfigured access controls, or other unintended interactions.`),mdx(\"p\",null,`The S3 backend can be used in a number of different ways that make different\ntradeoffs between convenience, security, and isolation in such an organization.\nThis section describes one such approach that aims to find a good compromise\nbetween these tradeoffs, allowing use of\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/state/workspaces\"}),\"Terraform's workspaces feature\"),` to switch\nconveniently between multiple isolated deployments of the same configuration.`),mdx(\"p\",null,`Use this section as a starting-point for your approach, but note that\nyou will probably need to make adjustments for the unique standards and\nregulations that apply to your organization. You will also need to make some\nadjustments to this approach to account for `,mdx(\"em\",{parentName:\"p\"},\"existing\"),` practices within your\norganization, if for example other tools have previously been used to manage\ninfrastructure.`),mdx(\"p\",null,`Terraform is an administrative tool that manages your infrastructure, and so\nideally the infrastructure that is used by Terraform should exist outside of\nthe infrastructure that Terraform manages. This can be achieved by creating a\nseparate `,mdx(\"em\",{parentName:\"p\"},\"administrative\"),` AWS account which contains the user accounts used by\nhuman operators and any infrastructure and tools used to manage the other\naccounts. Isolating shared administrative tools from your main environments\nhas a number of advantages, such as avoiding accidentally damaging the\nadministrative infrastructure while changing the target infrastructure, and\nreducing the risk that an attacker might abuse production infrastructure to\ngain access to the (usually more privileged) administrative infrastructure.`),mdx(\"h3\",e({},{id:\"administrative-account-setup\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#administrative-account-setup\",\"aria-label\":\"administrative account setup permalink\"}),\"\\xBB\"),\"Administrative Account Setup\"),mdx(\"p\",null,\"Your administrative AWS account will contain at least the following items:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"One or more \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html\"}),\"IAM user\"),`\nfor system administrators that will log in to maintain infrastructure in\nthe other accounts.`),mdx(\"li\",{parentName:\"ul\"},\"Optionally, one or more \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_groups.html\"}),\"IAM groups\"),`\nto differentiate between different groups of users that have different\nlevels of access to the other AWS accounts.`),mdx(\"li\",{parentName:\"ul\"},\"An \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingBucket.html\"}),\"S3 bucket\"),`\nthat will contain the Terraform state files for each workspace.`),mdx(\"li\",{parentName:\"ul\"},\"A \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.CoreComponents.html#HowItWorks.CoreComponents.TablesItemsAttributes\"}),\"DynamoDB table\"),`\nthat will be used for locking to prevent concurrent operations on a single\nworkspace.`)),mdx(\"p\",null,`Provide the S3 bucket name and DynamoDB table name to Terraform within the\nS3 backend configuration using the `,mdx(\"inlineCode\",{parentName:\"p\"},\"bucket\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"dynamodb_table\"),` arguments\nrespectively, and configure a suitable `,mdx(\"inlineCode\",{parentName:\"p\"},\"workspace_key_prefix\"),` to contain\nthe states of the various workspaces that will subsequently be created for\nthis configuration.`),mdx(\"h3\",e({},{id:\"environment-account-setup\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#environment-account-setup\",\"aria-label\":\"environment account setup permalink\"}),\"\\xBB\"),\"Environment Account Setup\"),mdx(\"p\",null,`For the sake of this section, the term \"environment account\" refers to one\nof the accounts whose contents are managed by Terraform, separate from the\nadministrative account described above.`),mdx(\"p\",null,`Your environment accounts will eventually contain your own product-specific\ninfrastructure. Along with this it must contain one or more\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html\"}),\"IAM roles\"),`\nthat grant sufficient access for Terraform to perform the desired management\ntasks.`),mdx(\"h3\",e({},{id:\"delegating-access\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#delegating-access\",\"aria-label\":\"delegating access permalink\"}),\"\\xBB\"),\"Delegating Access\"),mdx(\"p\",null,`Each Administrator will run Terraform using credentials for their IAM user\nin the administrative account.\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.aws.amazon.com/IAM/latest/UserGuide/tutorial_cross-account-with-roles.html\"}),\"IAM Role Delegation\"),`\nis used to grant these users access to the roles created in each environment\naccount.`),mdx(\"p\",null,`Full details on role delegation are covered in the AWS documentation linked\nabove. The most important details are:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Each role's \",mdx(\"em\",{parentName:\"li\"},\"Assume Role Policy\"),` must grant access to the administrative AWS\naccount, which creates a trust relationship with the administrative AWS\naccount so that its users may assume the role.`),mdx(\"li\",{parentName:\"ul\"},`The users or groups within the administrative account must also have a\npolicy that creates the converse relationship, allowing these users or groups\nto assume that role.`)),mdx(\"p\",null,`Since the purpose of the administrative account is only to host tools for\nmanaging other accounts, it is useful to give the administrative accounts\nrestricted access only to the specific operations needed to assume the\nenvironment account role and access the Terraform state. By blocking all\nother access, you remove the risk that user error will lead to staging or\nproduction resources being created in the administrative account by mistake.`),mdx(\"p\",null,`When configuring Terraform, use either environment variables or the standard\ncredentials file `,mdx(\"inlineCode\",{parentName:\"p\"},\"~/.aws/credentials\"),` to provide the administrator user's\nIAM credentials within the administrative account to both the S3 backend `,mdx(\"em\",{parentName:\"p\"},\"and\"),`\nto Terraform's AWS provider.`),mdx(\"p\",null,\"Use conditional configuration to pass a different \",mdx(\"inlineCode\",{parentName:\"p\"},\"assume_role\"),` value to\nthe AWS provider depending on the selected workspace. For example:`),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"variable\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"workspace_iam_roles\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"default\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"staging\"),\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"arn:aws:iam::STAGING-ACCOUNT-ID:role/Terraform\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"production\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"arn:aws:iam::PRODUCTION-ACCOUNT-ID:role/Terraform\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"provider\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"aws\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# No credentials explicitly set here because they come from either the\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# environment or the global credentials file.\"),`\n`,`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"assume_role\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"role_arn\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"',mdx(\"span\",e({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token keyword\"}),\"var\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),\"workspace_iam_roles\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token keyword\"}),\"terraform\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),\"workspace\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),'\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",null,`If workspace IAM roles are centrally managed and shared across many separate\nTerraform configurations, the role ARNs could also be obtained via a data\nsource such as `,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/state/remote-state-data\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"terraform_remote_state\")),`\nto avoid repeating these values.`),mdx(\"h3\",e({},{id:\"creating-and-selecting-workspaces\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#creating-and-selecting-workspaces\",\"aria-label\":\"creating and selecting workspaces permalink\"}),\"\\xBB\"),\"Creating and Selecting Workspaces\"),mdx(\"p\",null,`With the necessary objects created and the backend configured, run\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform init\"),` to initialize the backend and establish an initial workspace\ncalled \"default\". This workspace will not be used, but is created automatically\nby Terraform as a convenience for users who are not using the workspaces\nfeature.`),mdx(\"p\",null,\"Create a workspace corresponding to each key given in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"workspace_iam_roles\"),`\nvariable value above:`),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),\"$ terraform workspace new staging\",`\n`,'Created and switched to workspace \"staging\"!',`\n`,`\n`,\"...\",`\n`,`\n`,\"$ terraform workspace new production\",`\n`,'Created and switched to workspace \"production\"!',`\n`,`\n`,\"...\",`\n`)),mdx(\"p\",null,\"Due to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"assume_role\"),` setting in the AWS provider configuration, any\nmanagement operations for AWS resources will be performed via the configured\nrole in the appropriate environment AWS account. The backend operations, such\nas reading and writing the state from S3, will be performed directly as the\nadministrator's own user within the administrative account.`),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),\"$ terraform workspace select staging\",`\n`,\"$ terraform apply\",`\n`,\"...\",`\n`)),mdx(\"h3\",e({},{id:\"running-terraform-in-amazon-ec2\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#running-terraform-in-amazon-ec2\",\"aria-label\":\"running terraform in amazon ec2 permalink\"}),\"\\xBB\"),\"Running Terraform in Amazon EC2\"),mdx(\"p\",null,`Teams that make extensive use of Terraform for infrastructure management\noften `,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/tutorials/automation/automate-terraform?utm_source=WEBSITE&utm_medium=WEB_IO&utm_offer=ARTICLE_PAGE&utm_content=DOCS\"}),\"run Terraform in automation\"),`\nto ensure a consistent operating environment and to limit access to the\nvarious secrets and other sensitive information that Terraform configurations\ntend to require.`),mdx(\"p\",null,`When running Terraform in an automation tool running on an Amazon EC2 instance,\nconsider running this instance in the administrative account and using an\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2_instance-profiles.html\"}),\"instance profile\"),`\nin place of the various administrator IAM users suggested above. An IAM\ninstance profile can also be granted cross-account delegation access via\nan IAM policy, giving this instance the access it needs to run Terraform.`),mdx(\"p\",null,`To isolate access to different environment accounts, use a separate EC2\ninstance for each target account so that its access can be limited only to\nthe single account.`),mdx(\"p\",null,`Similar approaches can be taken with equivalent features in other AWS compute\nservices, such as ECS.`),mdx(\"h3\",e({},{id:\"protecting-access-to-workspace-state\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#protecting-access-to-workspace-state\",\"aria-label\":\"protecting access to workspace state permalink\"}),\"\\xBB\"),\"Protecting Access to Workspace State\"),mdx(\"p\",null,`In a simple implementation of the pattern described in the prior sections,\nall users have access to read and write states for all workspaces. In many\ncases it is desirable to apply more precise access constraints to the\nTerraform state objects in S3, so that for example only trusted administrators\nare allowed to modify the production state, or to control `,mdx(\"em\",{parentName:\"p\"},\"reading\"),` of a state\nthat contains sensitive information.`),mdx(\"p\",null,`Amazon S3 supports fine-grained access control on a per-object-path basis\nusing IAM policy. A full description of S3's access control mechanism is\nbeyond the scope of this guide, but an example IAM policy granting access\nto only a single state object within an S3 bucket is shown below:`),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Version\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"2012-10-17\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Statement\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Effect\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Allow\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Action\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"s3:ListBucket\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Resource\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"arn:aws:s3:::myorg-terraform-states\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Effect\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Allow\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Action\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"s3:GetObject\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"s3:PutObject\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Resource\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"arn:aws:s3:::myorg-terraform-states/myapp/production/tfstate\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",null,\"The example backend configuration below documents the corresponding \",mdx(\"inlineCode\",{parentName:\"p\"},\"bucket\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"key\"),\" arguments:\"),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"terraform\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"backend\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"s3\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"bucket\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"myorg-terraform-states\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"key\"),\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"myapp/production/tfstate\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"region\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"us-east-1\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",null,\"Refer to the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-access-control.html\"}),\"AWS documentation on S3 access control\"),\" for more details.\"),mdx(\"p\",null,\"DynamoDB does not assign a separate resource ARN to each key in a table, but you can write more precise policies for a DynamoDB table \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/specifying-conditions.html\"}),\"using an IAM \",mdx(\"inlineCode\",{parentName:\"a\"},\"Condition\"),\" element\"),`.\nFor example, you can use the `,mdx(\"inlineCode\",{parentName:\"p\"},\"dynamodb:LeadingKeys\"),\" condition key to match on the partition key values that the S3 backend will use:\"),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Version\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"2012-10-17\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Statement\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Effect\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Allow\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Action\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"dynamodb:DeleteItem\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"dynamodb:GetItem\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"dynamodb:PutItem\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Resource\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"arn:aws:dynamodb:us-east-1:12341234:table/TableName\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Condition\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ForAllValues:StringEquals\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"          \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"dynamodb:LeadingKeys\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"            \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"TableName/myapp/production/tfstate\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"            \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"TableName/myapp/production/tfstate-md5\"'),`\n`,\"          \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",null,\"Note that DynamoDB ARNs are regional and account-specific, unlike S3 bucket ARNs, so you must also specify the correct region and AWS account ID for your DynamoDB table in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"Resource\"),\" element.\"),mdx(\"p\",null,\"The example backend configuration below documents the corresponding arguments:\"),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"terraform\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"backend\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"s3\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"bucket\"),\"         \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"myorg-terraform-states\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"key\"),\"            \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"myapp/production/tfstate\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"region\"),\"         \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"us-east-1\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"dynamodb_table\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),' \"TableName',`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",null,\"Refer to the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/specifying-conditions.html\"}),\"AWS documentation on DynamoDB fine-grained locking\"),\" for more details.\"),mdx(\"h3\",e({},{id:\"configuring-custom-user-agent-information\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#configuring-custom-user-agent-information\",\"aria-label\":\"configuring custom user agent information permalink\"}),\"\\xBB\"),\"Configuring Custom User-Agent Information\"),mdx(\"p\",null,\"Note this feature is optional and only available in Terraform v0.13.1+.\"),mdx(\"p\",null,\"By default, the underlying AWS client used by the Terraform AWS Provider creates requests with User-Agent headers including information about Terraform and AWS Go SDK versions. To provide additional information in the User-Agent headers, the \",mdx(\"inlineCode\",{parentName:\"p\"},\"TF_APPEND_USER_AGENT\"),\" environment variable can be set and its value will be directly added to HTTP requests. e.g.\"),mdx(\"pre\",e({},{className:\"language-sh\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-sh\"}),'$ export TF_APPEND_USER_AGENT=\"JenkinsAgent/i-12345678 BuildID/1234 (Optional Extra Information)\"',`\n`)))}MDXContent.isMDXComponent=!0;\n","scope":{"version":"latest"}},"product":{"slug":"terraform","name":"Terraform","algoliaConfig":{"indexName":"product_TERRAFORM"},"basePaths":["cdktf","cli","cloud-docs","cloud-docs/agents","docs","enterprise","internals","intro","language","plugin","plugin/framework","plugin/log","plugin/mux","plugin/sdkv2","plugin/testing","registry","downloads"],"docsNavItems":["docs","language","cli","cloud-docs","enterprise","cdktf",{"icon":"provider","label":"Provider Use","fullPath":"/terraform/language/providers"},"plugin","registry",{"icon":"handshake","label":"Integration Program","fullPath":"/terraform/docs/partnerships"}],"rootDocsPaths":[{"iconName":"code","name":"CDK for Terraform","path":"cdktf","productSlugForLoader":"terraform-cdk"},{"iconName":"terminal-screen","name":"Terraform CLI","path":"cli"},{"iconName":"cloud","name":"Terraform Cloud","path":"cloud-docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"cloud","name":"Cloud Docs Agents","navDataPrefix":"cloud-docs-agents","path":"cloud-docs/agents","productSlugForLoader":"terraform-docs-agents"},{"iconName":"docs","name":"About the Docs","path":"docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"org","name":"Terraform Enterprise","path":"enterprise","productSlugForLoader":"ptfe-releases"},{"iconName":"docs","name":"Internals","path":"internals"},{"iconName":"docs","name":"Intro","path":"intro"},{"iconName":"file-source","name":"Configuration Language","path":"language"},{"iconName":"wrench","name":"Plugin Development","path":"plugin","productSlugForLoader":"terraform-docs-common"},{"iconName":"plug","name":"Framework","navDataPrefix":"plugin-framework","path":"plugin/framework","productSlugForLoader":"terraform-plugin-framework"},{"iconName":"plug","name":"Logging","navDataPrefix":"plugin-log","path":"plugin/log","productSlugForLoader":"terraform-plugin-log"},{"iconName":"plug","name":"Combining and Translating","navDataPrefix":"plugin-mux","path":"plugin/mux","productSlugForLoader":"terraform-plugin-mux"},{"iconName":"plug","name":"SDKv2","path":"plugin/sdkv2","productSlugForLoader":"terraform-plugin-sdk","navDataPrefix":"plugin-sdkv2"},{"iconName":"plug","name":"Testing","path":"plugin/testing","productSlugForLoader":"terraform-plugin-testing","navDataPrefix":"plugin-testing"},{"iconName":"plus-circle","name":"Registry Publishing","path":"registry","productSlugForLoader":"terraform-docs-common"}],"currentRootDocsPath":{"iconName":"file-source","name":"Configuration Language","path":"language"}},"projectName":null,"versions":null},"__N_SSG":true}