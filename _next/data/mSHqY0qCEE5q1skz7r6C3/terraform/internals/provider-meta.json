{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Terraform","url":"/terraform"},{"title":"Internals","url":"/terraform/internals","isCurrentPage":false},{"title":"Provider Metadata","url":"/terraform/internals/provider-meta","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Terraform Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Terraform","fullPath":"/terraform","theme":"terraform"},{"title":"Install","fullPath":"/terraform/downloads"},{"title":"Tutorials","fullPath":"/terraform/tutorials"},{"title":"Documentation","isOpen":true,"routes":[{"title":"About the Docs","fullPath":"/terraform/docs"},{"title":"Configuration Language","fullPath":"/terraform/language"},{"title":"Terraform CLI","fullPath":"/terraform/cli"},{"title":"Terraform Cloud","fullPath":"/terraform/cloud-docs"},{"title":"Terraform Enterprise","fullPath":"/terraform/enterprise"},{"title":"CDK for Terraform","fullPath":"/terraform/cdktf"},{"title":"Provider Use","fullPath":"/terraform/language/providers"},{"title":"Plugin Development","fullPath":"/terraform/plugin"},{"title":"Registry Publishing","fullPath":"/terraform/registry"},{"title":"Integration Program","fullPath":"/terraform/docs/partnerships"}]}],"showFilterInput":false,"title":"Terraform","visuallyHideTitle":true},{"backToLinkProps":{"text":"Terraform Home","href":"/terraform"},"levelButtonProps":{"levelUpButtonText":"Terraform Home"},"menuItems":[{"title":"Internals","fullPath":"/terraform/internals","theme":"terraform"},{"title":"Credentials Helpers","path":"credentials-helpers","filePath":"../docs/internals/credentials-helpers.mdx","fullPath":"/terraform/internals/credentials-helpers","id":"sidebar-nav-item-2"},{"title":"Debugging Terraform","path":"debugging","filePath":"../docs/internals/debugging.mdx","fullPath":"/terraform/internals/debugging","id":"sidebar-nav-item-3"},{"title":"Module Registry Protocol","path":"module-registry-protocol","filePath":"../docs/internals/module-registry-protocol.mdx","fullPath":"/terraform/internals/module-registry-protocol","id":"sidebar-nav-item-4"},{"title":"Provider Network Mirror Protocol","path":"provider-network-mirror-protocol","filePath":"../docs/internals/provider-network-mirror-protocol.mdx","fullPath":"/terraform/internals/provider-network-mirror-protocol","id":"sidebar-nav-item-5"},{"title":"Provider Registry Protocol","path":"provider-registry-protocol","filePath":"../docs/internals/provider-registry-protocol.mdx","fullPath":"/terraform/internals/provider-registry-protocol","id":"sidebar-nav-item-6"},{"title":"Resource Graph","path":"graph","filePath":"../docs/internals/graph.mdx","fullPath":"/terraform/internals/graph","id":"sidebar-nav-item-7"},{"title":"Login Protocol","path":"login-protocol","filePath":"../docs/internals/login-protocol.mdx","fullPath":"/terraform/internals/login-protocol","id":"sidebar-nav-item-8"},{"title":"JSON Output Format","path":"json-format","filePath":"../docs/internals/json-format.mdx","fullPath":"/terraform/internals/json-format","id":"sidebar-nav-item-9"},{"title":"Remote Service Discovery","path":"remote-service-discovery","filePath":"../docs/internals/remote-service-discovery.mdx","fullPath":"/terraform/internals/remote-service-discovery","id":"sidebar-nav-item-10"},{"title":"Provider Metadata","path":"provider-meta","filePath":"../docs/internals/provider-meta.mdx","fullPath":"/terraform/internals/provider-meta","id":"sidebar-nav-item-11"},{"title":"Functions Metadata","path":"functions-meta","filePath":"../docs/internals/functions-meta.mdx","fullPath":"/terraform/internals/functions-meta","id":"sidebar-nav-item-12"},{"divider":true,"id":"sidebar-nav-item-13"},{"title":"Terraform CLI","href":null,"fullPath":"/terraform/cli","id":"sidebar-nav-item-14","path":"/cli"},{"divider":true,"id":"sidebar-nav-item-15"},{"title":"Configuration Language","href":null,"fullPath":"/terraform/language","id":"sidebar-nav-item-16","path":"/language"}],"title":"Internals","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/terraform/blob/main/website/../docs/internals/provider-meta.mdx"},"metadata":{"title":"Provider Metadata","description":"For advanced use cases, modules can provide some pre-defined metadata for providers.","layout":null},"outlineItems":[{"title":"Provider Metadata","url":"#provider-metadata","dataHeapTrack":"toc-list-item-index-0"},{"title":"Defining the Schema","url":"#defining-the-schema","dataHeapTrack":"toc-list-item-index-1"},{"title":"Using the Data","url":"#using-the-data","dataHeapTrack":"toc-list-item-index-2"},{"title":"Specifying Data in Modules","url":"#specifying-data-in-modules","dataHeapTrack":"toc-list-item-index-3"},{"title":"Versioning Your Modules","url":"#versioning-your-modules","dataHeapTrack":"toc-list-item-index-4"}],"pageHeading":{"id":"provider-metadata","title":"Provider Metadata"},"mdxSource":{"compiledSource":"var m=Object.defineProperty,h=Object.defineProperties;var c=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;var d=(a,t,n)=>t in a?m(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,e=(a,t)=>{for(var n in t||(t={}))r.call(t,n)&&d(a,n,t[n]);if(o)for(var n of o(t))s.call(t,n)&&d(a,n,t[n]);return a},p=(a,t)=>h(a,c(t));var l=(a,t)=>{var n={};for(var i in a)r.call(a,i)&&t.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&o)for(var i of o(a))t.indexOf(i)<0&&s.call(a,i)&&(n[i]=a[i]);return n};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var i=n,{components:a}=i,t=l(i,[\"components\"]);return mdx(MDXLayout,p(e(e({},layoutProps),t),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,`In some situations it's beneficial for a provider to offer an interface\nthrough which modules can pass it information unrelated to the resources\nin the module, but scoped on a per-module basis.`),mdx(\"p\",null,`Provider Metadata allows a provider to declare metadata fields it expects,\nwhich individual modules can then populate independently of any provider\nconfiguration. While provider configurations are often shared between modules,\nprovider metadata is always module-specific.`),mdx(\"p\",null,`Provider Metadata is intended primarily for the situation where an official\nmodule is developed by the same vendor that produced the provider it is\nintended to work with, to allow the vendor to indirectly obtain usage\nstatistics for each module via the provider. For that reason, this\ndocumentation is presented from the perspective of the provider developer\nrather than the module developer.`),mdx(\"div\",e({},{className:\"alert alert-warning g-type-body\"}),mdx(\"p\",{parentName:\"div\"},\"\",mdx(\"strong\",{parentName:\"p\"},\"Advanced Topic!\"),` This page covers technical details\nof Terraform. You don't need to understand these details to\neffectively use Terraform. The details are documented here for\nmodule authors and provider developers working on advanced\nfunctionality.`)),mdx(\"div\",e({},{className:\"alert alert-warning g-type-body\"}),mdx(\"p\",{parentName:\"div\"},\"\",mdx(\"strong\",{parentName:\"p\"},\"Experimental Feature!\"),` This functionality is still considered\nexperimental, and anyone taking advantage of it should `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/hashicorp/terraform/issues/new\"}),`coordinate\nwith the Terraform team`),`\nto help the team understand how the feature is being used and to make\nsure their use case is taken into account as the feature develops.`)),mdx(\"h2\",e({},{id:\"defining-the-schema\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#defining-the-schema\",\"aria-label\":\"defining the schema permalink\"}),\"\\xBB\"),\"Defining the Schema\"),mdx(\"p\",null,`Before a provider can receive information from a module, the provider\nmust strictly define the data it can accept. You can do this by setting\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},\"ProviderMeta\"),\" property on your \",mdx(\"inlineCode\",{parentName:\"p\"},\"schema.Provider\"),` struct. Its value\nfunctions similarly to the provider config: a map of strings to the\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"schema.Schema\"),\" describing the values those strings accept.\"),mdx(\"h2\",e({},{id:\"using-the-data\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#using-the-data\",\"aria-label\":\"using the data permalink\"}),\"\\xBB\"),\"Using the Data\"),mdx(\"p\",null,\"When Terraform calls your provider, you can use the \",mdx(\"inlineCode\",{parentName:\"p\"},\"schema.ResourceData\"),`\nthat your `,mdx(\"inlineCode\",{parentName:\"p\"},\"Create\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"Read\"),\", and \",mdx(\"inlineCode\",{parentName:\"p\"},\"Update\"),` functions already use to get\naccess to the provider metadata being passed. First define a struct\nthat matches your schema, then call the `,mdx(\"inlineCode\",{parentName:\"p\"},\"GetProviderSchema\"),` method on\nyour `,mdx(\"inlineCode\",{parentName:\"p\"},\"schema.ResourceData\"),`, passing a pointer to a variable of that type.\nThe variable will be populated with the provider metadata, and will return\nan error if there was an issue with parsing the data into the struct.`),mdx(\"h2\",e({},{id:\"specifying-data-in-modules\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#specifying-data-in-modules\",\"aria-label\":\"specifying data in modules permalink\"}),\"\\xBB\"),\"Specifying Data in Modules\"),mdx(\"p\",null,\"To include data in your modules, create a \",mdx(\"inlineCode\",{parentName:\"p\"},\"provider_meta\"),` nested block under\nyour module's `,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform\"),` block, with the name of the provider it's trying\nto pass information to:`),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"terraform\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  provider_meta \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"my-provider\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"hello\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"world\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"provider_meta\"),\" block must match the schema the provider has defined.\"),mdx(\"h2\",e({},{id:\"versioning-your-modules\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#versioning-your-modules\",\"aria-label\":\"versioning your modules permalink\"}),\"\\xBB\"),\"Versioning Your Modules\"),mdx(\"p\",null,`Any module taking advantage of this functionality must make sure that the\nprovider metadata supplied matches the schema defined in the provider, and\nthat the version of Terraform that is being run has support for the provider\nmetadata functionality. It's therefore recommended that any module taking\nadvantage of this functionality should specify a minimum Terraform version of\n0.13.0 or higher, and a minimum version of each of the providers it specifies\nmetadata as the first version the schema being used was supported by the\nprovider.`))}MDXContent.isMDXComponent=!0;\n","scope":{"version":"latest"}},"product":{"slug":"terraform","name":"Terraform","algoliaConfig":{"indexName":"product_TERRAFORM"},"basePaths":["cdktf","cli","cloud-docs","cloud-docs/agents","docs","enterprise","internals","intro","language","plugin","plugin/framework","plugin/log","plugin/mux","plugin/sdkv2","plugin/testing","registry","downloads"],"docsNavItems":["docs","language","cli","cloud-docs","enterprise","cdktf",{"icon":"provider","label":"Provider Use","fullPath":"/terraform/language/providers"},"plugin","registry",{"icon":"handshake","label":"Integration Program","fullPath":"/terraform/docs/partnerships"}],"rootDocsPaths":[{"iconName":"code","name":"CDK for Terraform","path":"cdktf","productSlugForLoader":"terraform-cdk"},{"iconName":"terminal-screen","name":"Terraform CLI","path":"cli"},{"iconName":"cloud","name":"Terraform Cloud","path":"cloud-docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"cloud","name":"Cloud Docs Agents","navDataPrefix":"cloud-docs-agents","path":"cloud-docs/agents","productSlugForLoader":"terraform-docs-agents"},{"iconName":"docs","name":"About the Docs","path":"docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"org","name":"Terraform Enterprise","path":"enterprise","productSlugForLoader":"ptfe-releases"},{"iconName":"docs","name":"Internals","path":"internals"},{"iconName":"docs","name":"Intro","path":"intro"},{"iconName":"file-source","name":"Configuration Language","path":"language"},{"iconName":"wrench","name":"Plugin Development","path":"plugin","productSlugForLoader":"terraform-docs-common"},{"iconName":"plug","name":"Framework","navDataPrefix":"plugin-framework","path":"plugin/framework","productSlugForLoader":"terraform-plugin-framework"},{"iconName":"plug","name":"Logging","navDataPrefix":"plugin-log","path":"plugin/log","productSlugForLoader":"terraform-plugin-log"},{"iconName":"plug","name":"Combining and Translating","navDataPrefix":"plugin-mux","path":"plugin/mux","productSlugForLoader":"terraform-plugin-mux"},{"iconName":"plug","name":"SDKv2","path":"plugin/sdkv2","productSlugForLoader":"terraform-plugin-sdk","navDataPrefix":"plugin-sdkv2"},{"iconName":"plug","name":"Testing","path":"plugin/testing","productSlugForLoader":"terraform-plugin-testing","navDataPrefix":"plugin-testing"},{"iconName":"plus-circle","name":"Registry Publishing","path":"registry","productSlugForLoader":"terraform-docs-common"}],"currentRootDocsPath":{"iconName":"docs","name":"Internals","path":"internals"}},"projectName":null,"versions":null},"__N_SSG":true}