{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Terraform","url":"/terraform"},{"title":"Terraform CLI","url":"/terraform/cli","isCurrentPage":false},{"title":"commands"},{"title":"state"},{"title":"mv"}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Terraform Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Terraform","fullPath":"/terraform","theme":"terraform"},{"title":"Documentation","isOpen":true,"routes":[{"title":"About the Docs","fullPath":"/terraform/docs"},{"title":"Configuration Language","fullPath":"/terraform/language"},{"title":"Terraform CLI","fullPath":"/terraform/cli"},{"title":"Terraform Cloud","fullPath":"/terraform/cloud-docs"},{"title":"Terraform Enterprise","fullPath":"/terraform/enterprise"},{"title":"CDK for Terraform","fullPath":"/terraform/cdktf"},{"title":"Provider Use","fullPath":"/terraform/language/providers"},{"title":"Plugin Development","fullPath":"/terraform/plugin"},{"title":"Registry Publishing","fullPath":"/terraform/registry"},{"title":"Integration Program","fullPath":"/terraform/docs/partnerships"}]},{"title":"Tutorials","fullPath":"/terraform/tutorials"},{"title":"Install","fullPath":"/terraform/downloads"}],"showFilterInput":false,"title":"Terraform","visuallyHideTitle":true},{"backToLinkProps":{"text":"Terraform Home","href":"/terraform"},"levelButtonProps":{"levelUpButtonText":"Terraform Home"},"menuItems":[{"title":"Terraform CLI","fullPath":"/terraform/cli","theme":"terraform"},{"title":"Basic CLI Features","href":null,"fullPath":"/terraform/cli/commands","id":"sidebar-nav-item-2","path":"/cli/commands"},{"title":"Initializing Working Directories","routes":[{"title":"Overview","path":"init","filePath":"../docs/cli/init/index.mdx","fullPath":"/terraform/cli/init","id":"sidebar-nav-item-4"},{"title":"<code>init</code>","href":null,"fullPath":"/terraform/cli/commands/init","id":"sidebar-nav-item-5","path":"/cli/commands/init"},{"title":"<code>get</code>","href":null,"fullPath":"/terraform/cli/commands/get","id":"sidebar-nav-item-6","path":"/cli/commands/get"}],"id":"sidebar-nav-item-3"},{"title":"Provisioning Infrastructure","routes":[{"title":"Overview","path":"run","filePath":"../docs/cli/run/index.mdx","fullPath":"/terraform/cli/run","id":"sidebar-nav-item-8"},{"title":"<code>plan</code>","href":null,"fullPath":"/terraform/cli/commands/plan","id":"sidebar-nav-item-9","path":"/cli/commands/plan"},{"title":"<code>apply</code>","href":null,"fullPath":"/terraform/cli/commands/apply","id":"sidebar-nav-item-10","path":"/cli/commands/apply"},{"title":"<code>destroy</code>","href":null,"fullPath":"/terraform/cli/commands/destroy","id":"sidebar-nav-item-11","path":"/cli/commands/destroy"}],"id":"sidebar-nav-item-7"},{"title":"Authenticating","routes":[{"title":"Overview","path":"auth","filePath":"../docs/cli/auth/index.mdx","fullPath":"/terraform/cli/auth","id":"sidebar-nav-item-13"},{"title":"<code>login</code>","href":null,"fullPath":"/terraform/cli/commands/login","id":"sidebar-nav-item-14","path":"/cli/commands/login"},{"title":"<code>logout</code>","href":null,"fullPath":"/terraform/cli/commands/logout","id":"sidebar-nav-item-15","path":"/cli/commands/logout"}],"id":"sidebar-nav-item-12"},{"title":"Writing and Modifying Code","routes":[{"title":"Overview","path":"code","filePath":"../docs/cli/code/index.mdx","fullPath":"/terraform/cli/code","id":"sidebar-nav-item-17"},{"title":"<code>console</code>","href":null,"fullPath":"/terraform/cli/commands/console","id":"sidebar-nav-item-18","path":"/cli/commands/console"},{"title":"<code>fmt</code>","href":null,"fullPath":"/terraform/cli/commands/fmt","id":"sidebar-nav-item-19","path":"/cli/commands/fmt"},{"title":"<code>validate</code>","href":null,"fullPath":"/terraform/cli/commands/validate","id":"sidebar-nav-item-20","path":"/cli/commands/validate"},{"title":"<code>0.13upgrade</code>","href":null,"fullPath":"/terraform/cli/commands/0.13upgrade","id":"sidebar-nav-item-21","path":"/cli/commands/0.13upgrade"},{"title":"<code>0.12upgrade</code>","href":null,"fullPath":"/terraform/cli/commands/0.12upgrade","id":"sidebar-nav-item-22","path":"/cli/commands/0.12upgrade"}],"id":"sidebar-nav-item-16"},{"title":"Inspecting Infrastructure","routes":[{"title":"Overview","path":"inspect","filePath":"../docs/cli/inspect/index.mdx","fullPath":"/terraform/cli/inspect","id":"sidebar-nav-item-24"},{"title":"<code>graph</code>","href":null,"fullPath":"/terraform/cli/commands/graph","id":"sidebar-nav-item-25","path":"/cli/commands/graph"},{"title":"<code>output</code>","href":null,"fullPath":"/terraform/cli/commands/output","id":"sidebar-nav-item-26","path":"/cli/commands/output"},{"title":"<code>show</code>","href":null,"fullPath":"/terraform/cli/commands/show","id":"sidebar-nav-item-27","path":"/cli/commands/show"},{"title":"<code>state list</code>","href":null,"fullPath":"/terraform/cli/commands/state/list","id":"sidebar-nav-item-28","path":"/cli/commands/state/list"},{"title":"<code>state show</code>","href":null,"fullPath":"/terraform/cli/commands/state/show","id":"sidebar-nav-item-29","path":"/cli/commands/state/show"}],"id":"sidebar-nav-item-23"},{"title":"Importing Infrastructure","routes":[{"title":"Overview","path":"import","filePath":"../docs/cli/import/index.mdx","fullPath":"/terraform/cli/import","id":"sidebar-nav-item-31"},{"title":"<code>import</code>","href":null,"fullPath":"/terraform/cli/commands/import","id":"sidebar-nav-item-32","path":"/cli/commands/import"},{"title":"Usage Tips","path":"import/usage","filePath":"../docs/cli/import/usage.mdx","fullPath":"/terraform/cli/import/usage","id":"sidebar-nav-item-33"},{"title":"Resource Importability","path":"import/importability","filePath":"../docs/cli/import/importability.mdx","fullPath":"/terraform/cli/import/importability","id":"sidebar-nav-item-34"}],"id":"sidebar-nav-item-30"},{"title":"Manipulating State","routes":[{"title":"Overview","path":"state","filePath":"../docs/cli/state/index.mdx","fullPath":"/terraform/cli/state","id":"sidebar-nav-item-36"},{"title":"Resource Addressing","path":"state/resource-addressing","filePath":"../docs/cli/state/resource-addressing.mdx","fullPath":"/terraform/cli/state/resource-addressing","id":"sidebar-nav-item-37"},{"title":"<code>state</code>","href":null,"fullPath":"/terraform/cli/commands/state","id":"sidebar-nav-item-38","path":"/cli/commands/state"},{"title":"Inspecting State","routes":[{"title":"Overview","path":"state/inspect","filePath":"../docs/cli/state/inspect.mdx","fullPath":"/terraform/cli/state/inspect","id":"sidebar-nav-item-40"},{"title":"<code>state list</code>","href":null,"fullPath":"/terraform/cli/commands/state/list","id":"sidebar-nav-item-41","path":"/cli/commands/state/list"},{"title":"<code>state show</code>","href":null,"fullPath":"/terraform/cli/commands/state/show","id":"sidebar-nav-item-42","path":"/cli/commands/state/show"},{"title":"<code>refresh</code>","href":null,"fullPath":"/terraform/cli/commands/refresh","id":"sidebar-nav-item-43","path":"/cli/commands/refresh"}],"id":"sidebar-nav-item-39"},{"title":"Forcing Re-creation (Tainting)","routes":[{"title":"Overview","path":"state/taint","filePath":"../docs/cli/state/taint.mdx","fullPath":"/terraform/cli/state/taint","id":"sidebar-nav-item-45"},{"title":"<code>taint</code>","href":null,"fullPath":"/terraform/cli/commands/taint","id":"sidebar-nav-item-46","path":"/cli/commands/taint"},{"title":"<code>untaint</code>","href":null,"fullPath":"/terraform/cli/commands/untaint","id":"sidebar-nav-item-47","path":"/cli/commands/untaint"}],"id":"sidebar-nav-item-44"},{"title":"Moving Resources","routes":[{"title":"Overview","path":"state/move","filePath":"../docs/cli/state/move.mdx","fullPath":"/terraform/cli/state/move","id":"sidebar-nav-item-49"},{"title":"<code>state mv</code>","href":null,"fullPath":"/terraform/cli/commands/state/mv","id":"sidebar-nav-item-50","path":"/cli/commands/state/mv"},{"title":"<code>state rm</code>","href":null,"fullPath":"/terraform/cli/commands/state/rm","id":"sidebar-nav-item-51","path":"/cli/commands/state/rm"},{"title":"<code>state replace-provider</code>","href":null,"fullPath":"/terraform/cli/commands/state/replace-provider","id":"sidebar-nav-item-52","path":"/cli/commands/state/replace-provider"}],"id":"sidebar-nav-item-48"},{"title":"Disaster Recovery","routes":[{"title":"Overview","path":"state/recover","filePath":"../docs/cli/state/recover.mdx","fullPath":"/terraform/cli/state/recover","id":"sidebar-nav-item-54"},{"title":"<code>state pull</code>","href":null,"fullPath":"/terraform/cli/commands/state/pull","id":"sidebar-nav-item-55","path":"/cli/commands/state/pull"},{"title":"<code>state push</code>","href":null,"fullPath":"/terraform/cli/commands/state/push","id":"sidebar-nav-item-56","path":"/cli/commands/state/push"},{"title":"<code>force-unlock</code>","href":null,"fullPath":"/terraform/cli/commands/force-unlock","id":"sidebar-nav-item-57","path":"/cli/commands/force-unlock"}],"id":"sidebar-nav-item-53"}],"id":"sidebar-nav-item-35"},{"title":"Managing Workspaces","routes":[{"title":"Overview","path":"workspaces","filePath":"../docs/cli/workspaces/index.mdx","fullPath":"/terraform/cli/workspaces","id":"sidebar-nav-item-59"},{"title":"<code>workspace</code>","routes":[{"title":"Overview","href":null,"fullPath":"/terraform/cli/commands/workspace","id":"sidebar-nav-item-61","path":"/cli/commands/workspace"},{"title":"<code>workspace list</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/list","id":"sidebar-nav-item-62","path":"/cli/commands/workspace/list"},{"title":"<code>workspace select</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/select","id":"sidebar-nav-item-63","path":"/cli/commands/workspace/select"},{"title":"<code>workspace new</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/new","id":"sidebar-nav-item-64","path":"/cli/commands/workspace/new"},{"title":"<code>workspace delete</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/delete","id":"sidebar-nav-item-65","path":"/cli/commands/workspace/delete"},{"title":"<code>workspace show</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/show","id":"sidebar-nav-item-66","path":"/cli/commands/workspace/show"}],"id":"sidebar-nav-item-60"}],"id":"sidebar-nav-item-58"},{"title":"Managing Plugins","routes":[{"title":"Overview","path":"plugins","filePath":"../docs/cli/plugins/index.mdx","fullPath":"/terraform/cli/plugins","id":"sidebar-nav-item-68"},{"title":"Plugin Signing","path":"plugins/signing","filePath":"../docs/cli/plugins/signing.mdx","fullPath":"/terraform/cli/plugins/signing","id":"sidebar-nav-item-69"},{"title":"<code>providers</code>","href":null,"fullPath":"/terraform/cli/commands/providers","id":"sidebar-nav-item-70","path":"/cli/commands/providers"},{"title":"<code>version</code>","href":null,"fullPath":"/terraform/cli/commands/version","id":"sidebar-nav-item-71","path":"/cli/commands/version"},{"title":"<code>providers lock</code>","href":null,"fullPath":"/terraform/cli/commands/providers/lock","id":"sidebar-nav-item-72","path":"/cli/commands/providers/lock"},{"title":"<code>providers mirror</code>","href":null,"fullPath":"/terraform/cli/commands/providers/mirror","id":"sidebar-nav-item-73","path":"/cli/commands/providers/mirror"},{"title":"<code>providers schema</code>","href":null,"fullPath":"/terraform/cli/commands/providers/schema","id":"sidebar-nav-item-74","path":"/cli/commands/providers/schema"}],"id":"sidebar-nav-item-67"},{"title":"CLI Configuration","routes":[{"title":"Overview","path":"config","filePath":"../docs/cli/config/index.mdx","fullPath":"/terraform/cli/config","id":"sidebar-nav-item-76"},{"title":"CLI Configuration","path":"config/config-file","filePath":"../docs/cli/config/config-file.mdx","fullPath":"/terraform/cli/config/config-file","id":"sidebar-nav-item-77"},{"title":"Environment Variables","path":"config/environment-variables","filePath":"../docs/cli/config/environment-variables.mdx","fullPath":"/terraform/cli/config/environment-variables","id":"sidebar-nav-item-78"}],"id":"sidebar-nav-item-75"},{"title":"Using Terraform Cloud","routes":[{"title":"Overview","path":"cloud","filePath":"../docs/cli/cloud/index.mdx","fullPath":"/terraform/cli/cloud","id":"sidebar-nav-item-80"},{"title":"Terraform Cloud Settings","path":"cloud/settings","filePath":"../docs/cli/cloud/settings.mdx","fullPath":"/terraform/cli/cloud/settings","id":"sidebar-nav-item-81"},{"title":"Initializing and Migrating","path":"cloud/migrating","filePath":"../docs/cli/cloud/migrating.mdx","fullPath":"/terraform/cli/cloud/migrating","id":"sidebar-nav-item-82"},{"title":"Command Line Arguments","path":"cloud/command-line-arguments","filePath":"../docs/cli/cloud/command-line-arguments.mdx","fullPath":"/terraform/cli/cloud/command-line-arguments","id":"sidebar-nav-item-83"}],"id":"sidebar-nav-item-79"},{"title":"Automating Terraform","routes":[{"title":"Running Terraform in Automation","href":"/terraform/tutorials/automation/automate-terraform?utm_source=WEBSITE&utm_medium=WEB_IO&utm_offer=ARTICLE_PAGE&utm_content=DOCS","id":"sidebar-nav-item-85"},{"title":"GitHub Actions","href":"https://learn.hashicorp.com/tutorials/terraform/github-actions?utm_source=WEBSITE&utm_medium=WEB_IO&utm_offer=ARTICLE_PAGE&utm_content=DOCS","id":"sidebar-nav-item-86"}],"id":"sidebar-nav-item-84"},{"title":"Alphabetical List of Commands","routes":[{"title":"Overview","href":null,"fullPath":"/terraform/cli/commands","id":"sidebar-nav-item-88","path":"/cli/commands"},{"title":"<code>apply</code>","href":null,"fullPath":"/terraform/cli/commands/apply","id":"sidebar-nav-item-89","path":"/cli/commands/apply"},{"title":"<code>console</code>","href":null,"fullPath":"/terraform/cli/commands/console","id":"sidebar-nav-item-90","path":"/cli/commands/console"},{"title":"<code>destroy</code>","href":null,"fullPath":"/terraform/cli/commands/destroy","id":"sidebar-nav-item-91","path":"/cli/commands/destroy"},{"title":"<code>env</code>","href":null,"fullPath":"/terraform/cli/commands/env","id":"sidebar-nav-item-92","path":"/cli/commands/env"},{"title":"<code>fmt</code>","href":null,"fullPath":"/terraform/cli/commands/fmt","id":"sidebar-nav-item-93","path":"/cli/commands/fmt"},{"title":"<code>force-unlock</code>","href":null,"fullPath":"/terraform/cli/commands/force-unlock","id":"sidebar-nav-item-94","path":"/cli/commands/force-unlock"},{"title":"<code>get</code>","href":null,"fullPath":"/terraform/cli/commands/get","id":"sidebar-nav-item-95","path":"/cli/commands/get"},{"title":"<code>graph</code>","href":null,"fullPath":"/terraform/cli/commands/graph","id":"sidebar-nav-item-96","path":"/cli/commands/graph"},{"title":"<code>import</code>","href":null,"fullPath":"/terraform/cli/commands/import","id":"sidebar-nav-item-97","path":"/cli/commands/import"},{"title":"<code>init</code>","href":null,"fullPath":"/terraform/cli/commands/init","id":"sidebar-nav-item-98","path":"/cli/commands/init"},{"title":"<code>login</code>","href":null,"fullPath":"/terraform/cli/commands/login","id":"sidebar-nav-item-99","path":"/cli/commands/login"},{"title":"<code>logout</code>","href":null,"fullPath":"/terraform/cli/commands/logout","id":"sidebar-nav-item-100","path":"/cli/commands/logout"},{"title":"<code>output</code>","href":null,"fullPath":"/terraform/cli/commands/output","id":"sidebar-nav-item-101","path":"/cli/commands/output"},{"title":"<code>plan</code>","href":null,"fullPath":"/terraform/cli/commands/plan","id":"sidebar-nav-item-102","path":"/cli/commands/plan"},{"title":"<code>providers</code>","href":null,"fullPath":"/terraform/cli/commands/providers","id":"sidebar-nav-item-103","path":"/cli/commands/providers"},{"title":"<code>providers lock</code>","href":null,"fullPath":"/terraform/cli/commands/providers/lock","id":"sidebar-nav-item-104","path":"/cli/commands/providers/lock"},{"title":"<code>providers mirror</code>","href":null,"fullPath":"/terraform/cli/commands/providers/mirror","id":"sidebar-nav-item-105","path":"/cli/commands/providers/mirror"},{"title":"<code>providers schema</code>","href":null,"fullPath":"/terraform/cli/commands/providers/schema","id":"sidebar-nav-item-106","path":"/cli/commands/providers/schema"},{"title":"<code>push (deprecated)</code>","href":null,"fullPath":"/terraform/cli/commands/push","id":"sidebar-nav-item-107","path":"/cli/commands/push"},{"title":"<code>refresh</code>","href":null,"fullPath":"/terraform/cli/commands/refresh","id":"sidebar-nav-item-108","path":"/cli/commands/refresh"},{"title":"<code>show</code>","href":null,"fullPath":"/terraform/cli/commands/show","id":"sidebar-nav-item-109","path":"/cli/commands/show"},{"title":"<code>state</code>","href":null,"fullPath":"/terraform/cli/commands/state","id":"sidebar-nav-item-110","path":"/cli/commands/state"},{"title":"<code>state list</code>","href":null,"fullPath":"/terraform/cli/commands/state/list","id":"sidebar-nav-item-111","path":"/cli/commands/state/list"},{"title":"<code>state mv</code>","href":null,"fullPath":"/terraform/cli/commands/state/mv","id":"sidebar-nav-item-112","path":"/cli/commands/state/mv"},{"title":"<code>state pull</code>","href":null,"fullPath":"/terraform/cli/commands/state/pull","id":"sidebar-nav-item-113","path":"/cli/commands/state/pull"},{"title":"<code>state push</code>","href":null,"fullPath":"/terraform/cli/commands/state/push","id":"sidebar-nav-item-114","path":"/cli/commands/state/push"},{"title":"<code>state replace-provider</code>","href":null,"fullPath":"/terraform/cli/commands/state/replace-provider","id":"sidebar-nav-item-115","path":"/cli/commands/state/replace-provider"},{"title":"<code>state rm</code>","href":null,"fullPath":"/terraform/cli/commands/state/rm","id":"sidebar-nav-item-116","path":"/cli/commands/state/rm"},{"title":"<code>state show</code>","href":null,"fullPath":"/terraform/cli/commands/state/show","id":"sidebar-nav-item-117","path":"/cli/commands/state/show"},{"title":"<code>taint</code>","href":null,"fullPath":"/terraform/cli/commands/taint","id":"sidebar-nav-item-118","path":"/cli/commands/taint"},{"title":"<code>test (deprecated)</code>","href":null,"fullPath":"/terraform/cli/commands/test","id":"sidebar-nav-item-119","path":"/cli/commands/test"},{"title":"<code>untaint</code>","href":null,"fullPath":"/terraform/cli/commands/untaint","id":"sidebar-nav-item-120","path":"/cli/commands/untaint"},{"title":"<code>validate</code>","href":null,"fullPath":"/terraform/cli/commands/validate","id":"sidebar-nav-item-121","path":"/cli/commands/validate"},{"title":"<code>version</code>","href":null,"fullPath":"/terraform/cli/commands/version","id":"sidebar-nav-item-122","path":"/cli/commands/version"},{"title":"<code>workspace</code>","href":null,"fullPath":"/terraform/cli/commands/workspace","id":"sidebar-nav-item-123","path":"/cli/commands/workspace"},{"title":"<code>workspace list</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/list","id":"sidebar-nav-item-124","path":"/cli/commands/workspace/list"},{"title":"<code>workspace select</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/select","id":"sidebar-nav-item-125","path":"/cli/commands/workspace/select"},{"title":"<code>workspace new</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/new","id":"sidebar-nav-item-126","path":"/cli/commands/workspace/new"},{"title":"<code>workspace delete</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/delete","id":"sidebar-nav-item-127","path":"/cli/commands/workspace/delete"},{"title":"<code>workspace show</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/show","id":"sidebar-nav-item-128","path":"/cli/commands/workspace/show"},{"title":"<code>0.12upgrade</code>","href":null,"fullPath":"/terraform/cli/commands/0.12upgrade","id":"sidebar-nav-item-129","path":"/cli/commands/0.12upgrade"},{"title":"<code>0.13upgrade</code>","href":null,"fullPath":"/terraform/cli/commands/0.13upgrade","id":"sidebar-nav-item-130","path":"/cli/commands/0.13upgrade"}],"id":"sidebar-nav-item-87"},{"divider":true,"id":"sidebar-nav-item-131"},{"title":"Terraform Internals","href":null,"fullPath":"/terraform/internals","id":"sidebar-nav-item-132","path":"/internals"}],"title":"Terraform CLI","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/terraform/blob/main/website/../docs/cli/commands/state/mv.mdx"},"metadata":{"title":"Command: state mv","description":"The `terraform state mv` command changes bindings in Terraform state, associating existing remote objects with new resource instances.","layout":null},"outlineItems":[{"title":"Command: state mv","url":"#command-state-mv","dataHeapTrack":"toc-list-item-index-0"},{"title":"Usage","url":"#usage","dataHeapTrack":"toc-list-item-index-1"},{"title":"Example: Rename a Resource","url":"#example-rename-a-resource","dataHeapTrack":"toc-list-item-index-2"},{"title":"Example: Move a Resource Into a Module","url":"#example-move-a-resource-into-a-module","dataHeapTrack":"toc-list-item-index-3"},{"title":"Example: Move a Module Into a Module","url":"#example-move-a-module-into-a-module","dataHeapTrack":"toc-list-item-index-4"},{"title":"Example: Move a Particular Instance of a Resource using count","url":"#example-move-a-particular-instance-of-a-resource-using-count","dataHeapTrack":"toc-list-item-index-5"},{"title":"Example: Move a Resource configured with for_each","url":"#example-move-a-resource-configured-with-for_each","dataHeapTrack":"toc-list-item-index-6"}],"pageHeading":{"id":"command-state-mv","title":"Command: state mv"},"mdxSource":{"compiledSource":"var c=Object.defineProperty,d=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var l=(a,n,t)=>n in a?c(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,e=(a,n)=>{for(var t in n||(n={}))s.call(n,t)&&l(a,t,n[t]);if(r)for(var t of r(n))i.call(n,t)&&l(a,t,n[t]);return a},p=(a,n)=>d(a,u(n));var m=(a,n)=>{var t={};for(var o in a)s.call(a,o)&&n.indexOf(o)<0&&(t[o]=a[o]);if(a!=null&&r)for(var o of r(a))n.indexOf(o)<0&&i.call(a,o)&&(t[o]=a[o]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var o=t,{components:a}=o,n=m(o,[\"components\"]);return mdx(MDXLayout,p(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"The main function of \",mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/state\"}),\"Terraform state\"),` is\nto track the bindings between resource instance addresses in your configuration\nand the remote objects they represent. Normally Terraform automatically\nupdates the state in response to actions taken when applying a plan, such as\nremoving a binding for an remote object that has now been deleted.`),mdx(\"p\",null,\"You can use \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform state mv\"),` in the less common situation where you wish\nto retain an existing remote object but track it as a different resource\ninstance address in Terraform, such as if you have renamed a resource block\nor you have moved it into a different module in your configuration.`),mdx(\"h2\",e({},{id:\"usage\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#usage\",\"aria-label\":\"usage permalink\"}),\"\\xBB\"),\"Usage\"),mdx(\"p\",null,\"Usage: \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform state mv [options] SOURCE DESTINATION\")),mdx(\"p\",null,`Terraform will look in the current state for a resource instance, resource,\nor module that matches the given address, and if successful it will move the\nremote objects currently associated with the source to be tracked instead\nby the destination.`),mdx(\"p\",null,`Both the source and destination addresses must use\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/cli/state/resource-addressing\"}),\"resource address syntax\"),`, and\nthey must both refer to the same kind of object: you can only move a resource\ninstance to another resource instance, a whole module instance to another\nwhole module instance, etc. Furthermore, if you are moving a resource or\na resource instance then you can only move it to a new address with the\nsame resource type.`),mdx(\"p\",null,\"The most common uses for \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform state mv\"),` are when you have renamed a\nresource block in your configuration or you've moved a resource block into\na child module, in both cases with the intention of retaining the existing\nobject but tracking it under a new name. By default Terraform will understand\nmoving or renaming a resource configuration as a request to delete the old\nobject and create a new object at the new address, and so `,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform state mv\"),`\nallows you to override that interpretation by pre-emptively attaching the\nexisting object to the new address in Terraform.`),mdx(\"div\",e({},{className:\"alert alert-warning g-type-body\"}),mdx(\"p\",{parentName:\"div\"},\"\",mdx(\"em\",{parentName:\"p\"},\"Warning:\"),` If you are using Terraform in a collaborative environment, you\nmust ensure that when you are using `,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform state mv\"),` for a code refactoring\npurpose you communicate carefully with your coworkers to ensure that nobody\nmakes any other changes between your configuration change and your\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform state mv\"),` command, because otherwise they might inadvertently create\na plan that will destroy the old object and create a new object at the new\naddress.`)),mdx(\"p\",null,\"This command also accepts the following options:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"dry-run\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#dry-run\",\"aria-label\":\"dry run permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-dry-run\")),` - Report all of the resource instances that match the given\naddress without actually \"forgetting\" any of them.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"lock-false\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#lock-false\",\"aria-label\":\"lock false permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-lock=false\")),` - Don't hold a state lock during the operation. This is\ndangerous if others might concurrently run commands against the same\nworkspace.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"lock-timeout-duration\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#lock-timeout-duration\",\"aria-label\":\"lock timeout duration permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-lock-timeout=DURATION\")),\" - Unless locking is disabled with \",mdx(\"inlineCode\",{parentName:\"p\"},\"-lock=false\"),`,\ninstructs Terraform to retry acquiring a lock for a period of time before\nreturning an error. The duration syntax is a number followed by a time\nunit letter, such as \"3s\" for three seconds.`))),mdx(\"p\",null,\"For configurations using the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/cli/cloud\"}),\"Terraform Cloud CLI integration\"),\" or the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/settings/backends/remote\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"remote\"),\" backend\"),`\nonly, `,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform state mv\"),`\nalso accepts the option\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/cli/cloud/command-line-arguments#ignore-remote-version\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-ignore-remote-version\")),\".\"),mdx(\"p\",null,\"The legacy options \",mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/settings/backends/local#command-line-arguments\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-backup\"),\" and \",mdx(\"inlineCode\",{parentName:\"a\"},\"-backup-out\")),`\noperate on a local state file only. Configurations using\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/settings/backends/remote\"}),\"the \",mdx(\"inlineCode\",{parentName:\"a\"},\"remote\"),\" backend\"),`\nmust specify a local state file with the `,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/settings/backends/local#command-line-arguments\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-state\")),`\noption in order to use the `,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/settings/backends/local#command-line-arguments\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-backup\"),\" and \",mdx(\"inlineCode\",{parentName:\"a\"},\"-backup-out\")),`\noptions.`),mdx(\"p\",null,`For configurations using\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/settings/backends/local\"}),\"the \",mdx(\"inlineCode\",{parentName:\"a\"},\"local\"),\" state mv\"),` only,\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform state mv\"),` also accepts the legacy options\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/settings/backends/local#command-line-arguments\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-state\"),\", \",mdx(\"inlineCode\",{parentName:\"a\"},\"-state-out\"),\", \",mdx(\"inlineCode\",{parentName:\"a\"},\"-backup\"),\", and \",mdx(\"inlineCode\",{parentName:\"a\"},\"-backup-out\")),\".\"),mdx(\"h2\",e({},{id:\"example-rename-a-resource\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#example-rename-a-resource\",\"aria-label\":\"example rename a resource permalink\"}),\"\\xBB\"),\"Example: Rename a Resource\"),mdx(\"p\",null,\"Renaming a resource means making a configuration change like the following:\"),mdx(\"pre\",e({},{className:\"language-diff\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-diff\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token deleted-sign deleted\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token prefix deleted\"}),\"-\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token line\"}),'resource \"packet_device\" \"worker\" {')),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token inserted-sign inserted\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token prefix inserted\"}),\"+\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token line\"}),'resource \"packet_device\" \"helper\" {')),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token unchanged\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token prefix unchanged\"}),\" \"),mdx(\"span\",e({parentName:\"span\"},{className:\"token line\"}),\"  # ...\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token unchanged\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token prefix unchanged\"}),\" \"),mdx(\"span\",e({parentName:\"span\"},{className:\"token line\"}),\"}\")),`\n`)),mdx(\"p\",null,`To tell Terraform that it should treat the new \"helper\" resource as a rename\nof the old \"worker\" resource, you can pair the above configuration change\nwith the following command:`),mdx(\"pre\",e({},{className:\"language-shell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell\"}),\"terraform state \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"mv\"),\" packet_device.worker packet_device.helper\",`\n`)),mdx(\"h2\",e({},{id:\"example-move-a-resource-into-a-module\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#example-move-a-resource-into-a-module\",\"aria-label\":\"example move a resource into a module permalink\"}),\"\\xBB\"),\"Example: Move a Resource Into a Module\"),mdx(\"p\",null,`If you originally wrote a resource in your root module but now wish to refactor\nit into a child module, you can move the `,mdx(\"inlineCode\",{parentName:\"p\"},\"resource\"),` block into the child\nmodule configuration, removing the original in the root module, and then\nrun the following command to tell Terraform to treat it as a move:`),mdx(\"pre\",e({},{className:\"language-shell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell\"}),\"terraform state \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"mv\"),\" packet_device.worker module.worker.packet_device.worker\",`\n`)),mdx(\"p\",null,`In the above example the new resource has the same name but a different module\naddress. You could also change the resource name at the same time, if the new\nmodule organization suggests a different naming scheme:`),mdx(\"pre\",e({},{className:\"language-shell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell\"}),\"terraform state \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"mv\"),\" packet_device.worker module.worker.packet_device.main\",`\n`)),mdx(\"h2\",e({},{id:\"example-move-a-module-into-a-module\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#example-move-a-module-into-a-module\",\"aria-label\":\"example move a module into a module permalink\"}),\"\\xBB\"),\"Example: Move a Module Into a Module\"),mdx(\"p\",null,`You can also refactor an entire module into a child module. In the\nconfiguration, move the `,mdx(\"inlineCode\",{parentName:\"p\"},\"module\"),` block representing the module into a different\nmodule and then pair that change with a command like the following:`),mdx(\"pre\",e({},{className:\"language-shell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell\"}),\"terraform state \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"mv\"),\" module.app module.parent.module.app\",`\n`)),mdx(\"h2\",e({},{id:\"example-move-a-particular-instance-of-a-resource-using-count\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#example-move-a-particular-instance-of-a-resource-using-count\",\"aria-label\":\"example move a particular instance of a resource using count permalink\"}),\"\\xBB\"),\"Example: Move a Particular Instance of a Resource using \",mdx(\"inlineCode\",{parentName:\"h2\"},\"count\")),mdx(\"p\",null,\"A resource defined with \",mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/meta-arguments/count\"}),\"the \",mdx(\"inlineCode\",{parentName:\"a\"},\"count\"),\" meta-argument\"),`\nhas multiple instances that are each identified by an integer. You can\nselect a particular instance by including an explicit index in your given\naddress:`),mdx(\"pre\",e({},{className:\"language-shell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell\"}),\"$ terraform state \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"mv\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'packet_device.worker[0]'\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'packet_device.helper[0]'\"),`\n`)),mdx(\"p\",null,\"A resource that doesn't use \",mdx(\"inlineCode\",{parentName:\"p\"},\"count\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"for_each\"),` has only a single resource\ninstance whose address is the same as the resource itself, and so you can\nmove from an address not containing an index to an address containing an index,\nor the opposite, as long as the address type you use matches whether and how\neach resource is configured:`),mdx(\"pre\",e({},{className:\"language-shell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell\"}),\"$ terraform state \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"mv\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'packet_device.main'\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'packet_device.all[0]'\"),`\n`)),mdx(\"p\",null,\"Brackets (\",mdx(\"inlineCode\",{parentName:\"p\"},\"[\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"]\"),`) have a special meaning in some shells, so you may need to\nquote or escape the address in order to pass it literally to Terraform.\nThe above examples show the typical quoting syntax for Unix-style shells.`),mdx(\"h2\",e({},{id:\"example-move-a-resource-configured-with-for_each\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#example-move-a-resource-configured-with-for_each\",\"aria-label\":\"example move a resource configured with for_each permalink\"}),\"\\xBB\"),\"Example: Move a Resource configured with for_each\"),mdx(\"p\",null,\"A resource defined with \",mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/meta-arguments/for_each\"}),\"the \",mdx(\"inlineCode\",{parentName:\"a\"},\"for_each\"),\" meta-argument\"),`\nhas multiple instances that are each identified by an string. You can\nselect a particular instance by including an explicit key in your given\naddress.`),mdx(\"p\",null,`However, the syntax for strings includes quotes and the quote symbol often\nhas special meaning in command shells, so you'll need to use the appropriate\nquoting and/or escaping syntax for the shell you are using. For example:`),mdx(\"p\",null,\"Unix-style shells, such as on Linux or macOS:\"),mdx(\"pre\",e({},{className:\"language-shell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell\"}),\"terraform state \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"mv\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),`'packet_device.worker[\"example123\"]'`),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),`'packet_device.helper[\"example456\"]'`),`\n`)),mdx(\"p\",null,\"Windows Command Prompt (\",mdx(\"inlineCode\",{parentName:\"p\"},\"cmd.exe\"),\"):\"),mdx(\"pre\",e({},{className:\"language-shell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell\"}),\"terraform state \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"mv\"),\" packet_device.worker\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),'\"example123',mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),'\"',mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" packet_device.helper\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),'\"example456',mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),'\"',mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`)),mdx(\"p\",null,\"PowerShell:\"),mdx(\"pre\",e({},{className:\"language-shell\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell\"}),\"terraform state \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"mv\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),`'packet_device.worker[\\\\\"example123\\\\\"]'`),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),`'packet_device.helper[\\\\\"example456\\\\\"]'`),`\n`)),mdx(\"p\",null,`Aside from the use of strings instead of integers for instance keys, the\ntreatment of `,mdx(\"inlineCode\",{parentName:\"p\"},\"for_each\"),\" resources is similar to \",mdx(\"inlineCode\",{parentName:\"p\"},\"count\"),` resources and so\nthe same combinations of addresses with and without index components is\nvalid as described in the previous section.`))}MDXContent.isMDXComponent=!0;\n","scope":{"version":"latest"}},"product":{"slug":"terraform","name":"Terraform","algoliaConfig":{"indexName":"product_TERRAFORM"},"basePaths":["cdktf","cli","cloud-docs","cloud-docs/agents","docs","enterprise","internals","intro","language","plugin","plugin/framework","plugin/log","plugin/mux","plugin/sdkv2","plugin/testing","registry","downloads"],"docsNavItems":["docs","language","cli","cloud-docs","enterprise","cdktf",{"icon":"provider","label":"Provider Use","fullPath":"/terraform/language/providers"},"plugin","registry",{"icon":"handshake","label":"Integration Program","fullPath":"/terraform/docs/partnerships"}],"rootDocsPaths":[{"iconName":"code","name":"CDK for Terraform","path":"cdktf","productSlugForLoader":"terraform-cdk"},{"iconName":"terminal-screen","name":"Terraform CLI","path":"cli"},{"iconName":"cloud","name":"Terraform Cloud","path":"cloud-docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"cloud","name":"Cloud Docs Agents","navDataPrefix":"cloud-docs-agents","path":"cloud-docs/agents","productSlugForLoader":"terraform-docs-agents"},{"iconName":"docs","name":"About the Docs","path":"docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"org","name":"Terraform Enterprise","path":"enterprise","productSlugForLoader":"ptfe-releases"},{"iconName":"docs","name":"Internals","path":"internals"},{"iconName":"docs","name":"Intro","path":"intro"},{"iconName":"file-source","name":"Configuration Language","path":"language"},{"iconName":"wrench","name":"Plugin Development","path":"plugin","productSlugForLoader":"terraform-docs-common"},{"iconName":"plug","name":"Framework","navDataPrefix":"plugin-framework","path":"plugin/framework","productSlugForLoader":"terraform-plugin-framework"},{"iconName":"plug","name":"Logging","navDataPrefix":"plugin-log","path":"plugin/log","productSlugForLoader":"terraform-plugin-log"},{"iconName":"plug","name":"Combining and Translating","navDataPrefix":"plugin-mux","path":"plugin/mux","productSlugForLoader":"terraform-plugin-mux"},{"iconName":"plug","name":"SDKv2","path":"plugin/sdkv2","productSlugForLoader":"terraform-plugin-sdk","navDataPrefix":"plugin-sdkv2"},{"iconName":"plug","name":"Testing","path":"plugin/testing","productSlugForLoader":"terraform-plugin-testing","navDataPrefix":"plugin-testing"},{"iconName":"plus-circle","name":"Registry Publishing","path":"registry","productSlugForLoader":"terraform-docs-common"}],"currentRootDocsPath":{"iconName":"terminal-screen","name":"Terraform CLI","path":"cli"}},"projectName":null,"versions":null},"layoutProps":null,"__N_SSG":true}