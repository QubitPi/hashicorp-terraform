{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Terraform","url":"/terraform"},{"title":"Terraform CLI","url":"/terraform/cli","isCurrentPage":false},{"title":"commands"},{"title":"providers"},{"title":"lock"}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Terraform Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Terraform","fullPath":"/terraform","theme":"terraform"},{"title":"Documentation","isOpen":true,"routes":[{"title":"About the Docs","fullPath":"/terraform/docs"},{"title":"Configuration Language","fullPath":"/terraform/language"},{"title":"Terraform CLI","fullPath":"/terraform/cli"},{"title":"Terraform Cloud","fullPath":"/terraform/cloud-docs"},{"title":"Terraform Enterprise","fullPath":"/terraform/enterprise"},{"title":"CDK for Terraform","fullPath":"/terraform/cdktf"},{"title":"Provider Use","fullPath":"/terraform/language/providers"},{"title":"Plugin Development","fullPath":"/terraform/plugin"},{"title":"Registry Publishing","fullPath":"/terraform/registry"},{"title":"Integration Program","fullPath":"/terraform/docs/partnerships"}]},{"title":"Tutorials","fullPath":"/terraform/tutorials"},{"title":"Install","fullPath":"/terraform/downloads"}],"showFilterInput":false,"title":"Terraform","visuallyHideTitle":true},{"backToLinkProps":{"text":"Terraform Home","href":"/terraform"},"levelButtonProps":{"levelUpButtonText":"Terraform Home"},"menuItems":[{"title":"Terraform CLI","fullPath":"/terraform/cli","theme":"terraform"},{"title":"Basic CLI Features","href":null,"fullPath":"/terraform/cli/commands","id":"sidebar-nav-item-2","path":"/cli/commands"},{"title":"Initializing Working Directories","routes":[{"title":"Overview","path":"init","filePath":"../docs/cli/init/index.mdx","fullPath":"/terraform/cli/init","id":"sidebar-nav-item-4"},{"title":"<code>init</code>","href":null,"fullPath":"/terraform/cli/commands/init","id":"sidebar-nav-item-5","path":"/cli/commands/init"},{"title":"<code>get</code>","href":null,"fullPath":"/terraform/cli/commands/get","id":"sidebar-nav-item-6","path":"/cli/commands/get"}],"id":"sidebar-nav-item-3"},{"title":"Provisioning Infrastructure","routes":[{"title":"Overview","path":"run","filePath":"../docs/cli/run/index.mdx","fullPath":"/terraform/cli/run","id":"sidebar-nav-item-8"},{"title":"<code>plan</code>","href":null,"fullPath":"/terraform/cli/commands/plan","id":"sidebar-nav-item-9","path":"/cli/commands/plan"},{"title":"<code>apply</code>","href":null,"fullPath":"/terraform/cli/commands/apply","id":"sidebar-nav-item-10","path":"/cli/commands/apply"},{"title":"<code>destroy</code>","href":null,"fullPath":"/terraform/cli/commands/destroy","id":"sidebar-nav-item-11","path":"/cli/commands/destroy"}],"id":"sidebar-nav-item-7"},{"title":"Authenticating","routes":[{"title":"Overview","path":"auth","filePath":"../docs/cli/auth/index.mdx","fullPath":"/terraform/cli/auth","id":"sidebar-nav-item-13"},{"title":"<code>login</code>","href":null,"fullPath":"/terraform/cli/commands/login","id":"sidebar-nav-item-14","path":"/cli/commands/login"},{"title":"<code>logout</code>","href":null,"fullPath":"/terraform/cli/commands/logout","id":"sidebar-nav-item-15","path":"/cli/commands/logout"}],"id":"sidebar-nav-item-12"},{"title":"Writing and Modifying Code","routes":[{"title":"Overview","path":"code","filePath":"../docs/cli/code/index.mdx","fullPath":"/terraform/cli/code","id":"sidebar-nav-item-17"},{"title":"<code>console</code>","href":null,"fullPath":"/terraform/cli/commands/console","id":"sidebar-nav-item-18","path":"/cli/commands/console"},{"title":"<code>fmt</code>","href":null,"fullPath":"/terraform/cli/commands/fmt","id":"sidebar-nav-item-19","path":"/cli/commands/fmt"},{"title":"<code>validate</code>","href":null,"fullPath":"/terraform/cli/commands/validate","id":"sidebar-nav-item-20","path":"/cli/commands/validate"},{"title":"<code>0.13upgrade</code>","href":null,"fullPath":"/terraform/cli/commands/0.13upgrade","id":"sidebar-nav-item-21","path":"/cli/commands/0.13upgrade"},{"title":"<code>0.12upgrade</code>","href":null,"fullPath":"/terraform/cli/commands/0.12upgrade","id":"sidebar-nav-item-22","path":"/cli/commands/0.12upgrade"}],"id":"sidebar-nav-item-16"},{"title":"Inspecting Infrastructure","routes":[{"title":"Overview","path":"inspect","filePath":"../docs/cli/inspect/index.mdx","fullPath":"/terraform/cli/inspect","id":"sidebar-nav-item-24"},{"title":"<code>graph</code>","href":null,"fullPath":"/terraform/cli/commands/graph","id":"sidebar-nav-item-25","path":"/cli/commands/graph"},{"title":"<code>output</code>","href":null,"fullPath":"/terraform/cli/commands/output","id":"sidebar-nav-item-26","path":"/cli/commands/output"},{"title":"<code>show</code>","href":null,"fullPath":"/terraform/cli/commands/show","id":"sidebar-nav-item-27","path":"/cli/commands/show"},{"title":"<code>state list</code>","href":null,"fullPath":"/terraform/cli/commands/state/list","id":"sidebar-nav-item-28","path":"/cli/commands/state/list"},{"title":"<code>state show</code>","href":null,"fullPath":"/terraform/cli/commands/state/show","id":"sidebar-nav-item-29","path":"/cli/commands/state/show"}],"id":"sidebar-nav-item-23"},{"title":"Importing Infrastructure","routes":[{"title":"Overview","path":"import","filePath":"../docs/cli/import/index.mdx","fullPath":"/terraform/cli/import","id":"sidebar-nav-item-31"},{"title":"<code>import</code>","href":null,"fullPath":"/terraform/cli/commands/import","id":"sidebar-nav-item-32","path":"/cli/commands/import"},{"title":"Usage Tips","path":"import/usage","filePath":"../docs/cli/import/usage.mdx","fullPath":"/terraform/cli/import/usage","id":"sidebar-nav-item-33"},{"title":"Resource Importability","path":"import/importability","filePath":"../docs/cli/import/importability.mdx","fullPath":"/terraform/cli/import/importability","id":"sidebar-nav-item-34"}],"id":"sidebar-nav-item-30"},{"title":"Manipulating State","routes":[{"title":"Overview","path":"state","filePath":"../docs/cli/state/index.mdx","fullPath":"/terraform/cli/state","id":"sidebar-nav-item-36"},{"title":"Resource Addressing","path":"state/resource-addressing","filePath":"../docs/cli/state/resource-addressing.mdx","fullPath":"/terraform/cli/state/resource-addressing","id":"sidebar-nav-item-37"},{"title":"<code>state</code>","href":null,"fullPath":"/terraform/cli/commands/state","id":"sidebar-nav-item-38","path":"/cli/commands/state"},{"title":"Inspecting State","routes":[{"title":"Overview","path":"state/inspect","filePath":"../docs/cli/state/inspect.mdx","fullPath":"/terraform/cli/state/inspect","id":"sidebar-nav-item-40"},{"title":"<code>state list</code>","href":null,"fullPath":"/terraform/cli/commands/state/list","id":"sidebar-nav-item-41","path":"/cli/commands/state/list"},{"title":"<code>state show</code>","href":null,"fullPath":"/terraform/cli/commands/state/show","id":"sidebar-nav-item-42","path":"/cli/commands/state/show"},{"title":"<code>refresh</code>","href":null,"fullPath":"/terraform/cli/commands/refresh","id":"sidebar-nav-item-43","path":"/cli/commands/refresh"}],"id":"sidebar-nav-item-39"},{"title":"Forcing Re-creation (Tainting)","routes":[{"title":"Overview","path":"state/taint","filePath":"../docs/cli/state/taint.mdx","fullPath":"/terraform/cli/state/taint","id":"sidebar-nav-item-45"},{"title":"<code>taint</code>","href":null,"fullPath":"/terraform/cli/commands/taint","id":"sidebar-nav-item-46","path":"/cli/commands/taint"},{"title":"<code>untaint</code>","href":null,"fullPath":"/terraform/cli/commands/untaint","id":"sidebar-nav-item-47","path":"/cli/commands/untaint"}],"id":"sidebar-nav-item-44"},{"title":"Moving Resources","routes":[{"title":"Overview","path":"state/move","filePath":"../docs/cli/state/move.mdx","fullPath":"/terraform/cli/state/move","id":"sidebar-nav-item-49"},{"title":"<code>state mv</code>","href":null,"fullPath":"/terraform/cli/commands/state/mv","id":"sidebar-nav-item-50","path":"/cli/commands/state/mv"},{"title":"<code>state rm</code>","href":null,"fullPath":"/terraform/cli/commands/state/rm","id":"sidebar-nav-item-51","path":"/cli/commands/state/rm"},{"title":"<code>state replace-provider</code>","href":null,"fullPath":"/terraform/cli/commands/state/replace-provider","id":"sidebar-nav-item-52","path":"/cli/commands/state/replace-provider"}],"id":"sidebar-nav-item-48"},{"title":"Disaster Recovery","routes":[{"title":"Overview","path":"state/recover","filePath":"../docs/cli/state/recover.mdx","fullPath":"/terraform/cli/state/recover","id":"sidebar-nav-item-54"},{"title":"<code>state pull</code>","href":null,"fullPath":"/terraform/cli/commands/state/pull","id":"sidebar-nav-item-55","path":"/cli/commands/state/pull"},{"title":"<code>state push</code>","href":null,"fullPath":"/terraform/cli/commands/state/push","id":"sidebar-nav-item-56","path":"/cli/commands/state/push"},{"title":"<code>force-unlock</code>","href":null,"fullPath":"/terraform/cli/commands/force-unlock","id":"sidebar-nav-item-57","path":"/cli/commands/force-unlock"}],"id":"sidebar-nav-item-53"}],"id":"sidebar-nav-item-35"},{"title":"Managing Workspaces","routes":[{"title":"Overview","path":"workspaces","filePath":"../docs/cli/workspaces/index.mdx","fullPath":"/terraform/cli/workspaces","id":"sidebar-nav-item-59"},{"title":"<code>workspace</code>","routes":[{"title":"Overview","href":null,"fullPath":"/terraform/cli/commands/workspace","id":"sidebar-nav-item-61","path":"/cli/commands/workspace"},{"title":"<code>workspace list</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/list","id":"sidebar-nav-item-62","path":"/cli/commands/workspace/list"},{"title":"<code>workspace select</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/select","id":"sidebar-nav-item-63","path":"/cli/commands/workspace/select"},{"title":"<code>workspace new</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/new","id":"sidebar-nav-item-64","path":"/cli/commands/workspace/new"},{"title":"<code>workspace delete</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/delete","id":"sidebar-nav-item-65","path":"/cli/commands/workspace/delete"},{"title":"<code>workspace show</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/show","id":"sidebar-nav-item-66","path":"/cli/commands/workspace/show"}],"id":"sidebar-nav-item-60"}],"id":"sidebar-nav-item-58"},{"title":"Managing Plugins","routes":[{"title":"Overview","path":"plugins","filePath":"../docs/cli/plugins/index.mdx","fullPath":"/terraform/cli/plugins","id":"sidebar-nav-item-68"},{"title":"Plugin Signing","path":"plugins/signing","filePath":"../docs/cli/plugins/signing.mdx","fullPath":"/terraform/cli/plugins/signing","id":"sidebar-nav-item-69"},{"title":"<code>providers</code>","href":null,"fullPath":"/terraform/cli/commands/providers","id":"sidebar-nav-item-70","path":"/cli/commands/providers"},{"title":"<code>version</code>","href":null,"fullPath":"/terraform/cli/commands/version","id":"sidebar-nav-item-71","path":"/cli/commands/version"},{"title":"<code>providers lock</code>","href":null,"fullPath":"/terraform/cli/commands/providers/lock","id":"sidebar-nav-item-72","path":"/cli/commands/providers/lock"},{"title":"<code>providers mirror</code>","href":null,"fullPath":"/terraform/cli/commands/providers/mirror","id":"sidebar-nav-item-73","path":"/cli/commands/providers/mirror"},{"title":"<code>providers schema</code>","href":null,"fullPath":"/terraform/cli/commands/providers/schema","id":"sidebar-nav-item-74","path":"/cli/commands/providers/schema"}],"id":"sidebar-nav-item-67"},{"title":"CLI Configuration","routes":[{"title":"Overview","path":"config","filePath":"../docs/cli/config/index.mdx","fullPath":"/terraform/cli/config","id":"sidebar-nav-item-76"},{"title":"CLI Configuration","path":"config/config-file","filePath":"../docs/cli/config/config-file.mdx","fullPath":"/terraform/cli/config/config-file","id":"sidebar-nav-item-77"},{"title":"Environment Variables","path":"config/environment-variables","filePath":"../docs/cli/config/environment-variables.mdx","fullPath":"/terraform/cli/config/environment-variables","id":"sidebar-nav-item-78"}],"id":"sidebar-nav-item-75"},{"title":"Using Terraform Cloud","routes":[{"title":"Overview","path":"cloud","filePath":"../docs/cli/cloud/index.mdx","fullPath":"/terraform/cli/cloud","id":"sidebar-nav-item-80"},{"title":"Terraform Cloud Settings","path":"cloud/settings","filePath":"../docs/cli/cloud/settings.mdx","fullPath":"/terraform/cli/cloud/settings","id":"sidebar-nav-item-81"},{"title":"Initializing and Migrating","path":"cloud/migrating","filePath":"../docs/cli/cloud/migrating.mdx","fullPath":"/terraform/cli/cloud/migrating","id":"sidebar-nav-item-82"},{"title":"Command Line Arguments","path":"cloud/command-line-arguments","filePath":"../docs/cli/cloud/command-line-arguments.mdx","fullPath":"/terraform/cli/cloud/command-line-arguments","id":"sidebar-nav-item-83"}],"id":"sidebar-nav-item-79"},{"title":"Automating Terraform","routes":[{"title":"Running Terraform in Automation","href":"/terraform/tutorials/automation/automate-terraform?utm_source=WEBSITE&utm_medium=WEB_IO&utm_offer=ARTICLE_PAGE&utm_content=DOCS","id":"sidebar-nav-item-85"},{"title":"GitHub Actions","href":"https://learn.hashicorp.com/tutorials/terraform/github-actions?utm_source=WEBSITE&utm_medium=WEB_IO&utm_offer=ARTICLE_PAGE&utm_content=DOCS","id":"sidebar-nav-item-86"}],"id":"sidebar-nav-item-84"},{"title":"Alphabetical List of Commands","routes":[{"title":"Overview","href":null,"fullPath":"/terraform/cli/commands","id":"sidebar-nav-item-88","path":"/cli/commands"},{"title":"<code>apply</code>","href":null,"fullPath":"/terraform/cli/commands/apply","id":"sidebar-nav-item-89","path":"/cli/commands/apply"},{"title":"<code>console</code>","href":null,"fullPath":"/terraform/cli/commands/console","id":"sidebar-nav-item-90","path":"/cli/commands/console"},{"title":"<code>destroy</code>","href":null,"fullPath":"/terraform/cli/commands/destroy","id":"sidebar-nav-item-91","path":"/cli/commands/destroy"},{"title":"<code>env</code>","href":null,"fullPath":"/terraform/cli/commands/env","id":"sidebar-nav-item-92","path":"/cli/commands/env"},{"title":"<code>fmt</code>","href":null,"fullPath":"/terraform/cli/commands/fmt","id":"sidebar-nav-item-93","path":"/cli/commands/fmt"},{"title":"<code>force-unlock</code>","href":null,"fullPath":"/terraform/cli/commands/force-unlock","id":"sidebar-nav-item-94","path":"/cli/commands/force-unlock"},{"title":"<code>get</code>","href":null,"fullPath":"/terraform/cli/commands/get","id":"sidebar-nav-item-95","path":"/cli/commands/get"},{"title":"<code>graph</code>","href":null,"fullPath":"/terraform/cli/commands/graph","id":"sidebar-nav-item-96","path":"/cli/commands/graph"},{"title":"<code>import</code>","href":null,"fullPath":"/terraform/cli/commands/import","id":"sidebar-nav-item-97","path":"/cli/commands/import"},{"title":"<code>init</code>","href":null,"fullPath":"/terraform/cli/commands/init","id":"sidebar-nav-item-98","path":"/cli/commands/init"},{"title":"<code>login</code>","href":null,"fullPath":"/terraform/cli/commands/login","id":"sidebar-nav-item-99","path":"/cli/commands/login"},{"title":"<code>logout</code>","href":null,"fullPath":"/terraform/cli/commands/logout","id":"sidebar-nav-item-100","path":"/cli/commands/logout"},{"title":"<code>output</code>","href":null,"fullPath":"/terraform/cli/commands/output","id":"sidebar-nav-item-101","path":"/cli/commands/output"},{"title":"<code>plan</code>","href":null,"fullPath":"/terraform/cli/commands/plan","id":"sidebar-nav-item-102","path":"/cli/commands/plan"},{"title":"<code>providers</code>","href":null,"fullPath":"/terraform/cli/commands/providers","id":"sidebar-nav-item-103","path":"/cli/commands/providers"},{"title":"<code>providers lock</code>","href":null,"fullPath":"/terraform/cli/commands/providers/lock","id":"sidebar-nav-item-104","path":"/cli/commands/providers/lock"},{"title":"<code>providers mirror</code>","href":null,"fullPath":"/terraform/cli/commands/providers/mirror","id":"sidebar-nav-item-105","path":"/cli/commands/providers/mirror"},{"title":"<code>providers schema</code>","href":null,"fullPath":"/terraform/cli/commands/providers/schema","id":"sidebar-nav-item-106","path":"/cli/commands/providers/schema"},{"title":"<code>push (deprecated)</code>","href":null,"fullPath":"/terraform/cli/commands/push","id":"sidebar-nav-item-107","path":"/cli/commands/push"},{"title":"<code>refresh</code>","href":null,"fullPath":"/terraform/cli/commands/refresh","id":"sidebar-nav-item-108","path":"/cli/commands/refresh"},{"title":"<code>show</code>","href":null,"fullPath":"/terraform/cli/commands/show","id":"sidebar-nav-item-109","path":"/cli/commands/show"},{"title":"<code>state</code>","href":null,"fullPath":"/terraform/cli/commands/state","id":"sidebar-nav-item-110","path":"/cli/commands/state"},{"title":"<code>state list</code>","href":null,"fullPath":"/terraform/cli/commands/state/list","id":"sidebar-nav-item-111","path":"/cli/commands/state/list"},{"title":"<code>state mv</code>","href":null,"fullPath":"/terraform/cli/commands/state/mv","id":"sidebar-nav-item-112","path":"/cli/commands/state/mv"},{"title":"<code>state pull</code>","href":null,"fullPath":"/terraform/cli/commands/state/pull","id":"sidebar-nav-item-113","path":"/cli/commands/state/pull"},{"title":"<code>state push</code>","href":null,"fullPath":"/terraform/cli/commands/state/push","id":"sidebar-nav-item-114","path":"/cli/commands/state/push"},{"title":"<code>state replace-provider</code>","href":null,"fullPath":"/terraform/cli/commands/state/replace-provider","id":"sidebar-nav-item-115","path":"/cli/commands/state/replace-provider"},{"title":"<code>state rm</code>","href":null,"fullPath":"/terraform/cli/commands/state/rm","id":"sidebar-nav-item-116","path":"/cli/commands/state/rm"},{"title":"<code>state show</code>","href":null,"fullPath":"/terraform/cli/commands/state/show","id":"sidebar-nav-item-117","path":"/cli/commands/state/show"},{"title":"<code>taint</code>","href":null,"fullPath":"/terraform/cli/commands/taint","id":"sidebar-nav-item-118","path":"/cli/commands/taint"},{"title":"<code>test (deprecated)</code>","href":null,"fullPath":"/terraform/cli/commands/test","id":"sidebar-nav-item-119","path":"/cli/commands/test"},{"title":"<code>untaint</code>","href":null,"fullPath":"/terraform/cli/commands/untaint","id":"sidebar-nav-item-120","path":"/cli/commands/untaint"},{"title":"<code>validate</code>","href":null,"fullPath":"/terraform/cli/commands/validate","id":"sidebar-nav-item-121","path":"/cli/commands/validate"},{"title":"<code>version</code>","href":null,"fullPath":"/terraform/cli/commands/version","id":"sidebar-nav-item-122","path":"/cli/commands/version"},{"title":"<code>workspace</code>","href":null,"fullPath":"/terraform/cli/commands/workspace","id":"sidebar-nav-item-123","path":"/cli/commands/workspace"},{"title":"<code>workspace list</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/list","id":"sidebar-nav-item-124","path":"/cli/commands/workspace/list"},{"title":"<code>workspace select</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/select","id":"sidebar-nav-item-125","path":"/cli/commands/workspace/select"},{"title":"<code>workspace new</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/new","id":"sidebar-nav-item-126","path":"/cli/commands/workspace/new"},{"title":"<code>workspace delete</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/delete","id":"sidebar-nav-item-127","path":"/cli/commands/workspace/delete"},{"title":"<code>workspace show</code>","href":null,"fullPath":"/terraform/cli/commands/workspace/show","id":"sidebar-nav-item-128","path":"/cli/commands/workspace/show"},{"title":"<code>0.12upgrade</code>","href":null,"fullPath":"/terraform/cli/commands/0.12upgrade","id":"sidebar-nav-item-129","path":"/cli/commands/0.12upgrade"},{"title":"<code>0.13upgrade</code>","href":null,"fullPath":"/terraform/cli/commands/0.13upgrade","id":"sidebar-nav-item-130","path":"/cli/commands/0.13upgrade"}],"id":"sidebar-nav-item-87"},{"divider":true,"id":"sidebar-nav-item-131"},{"title":"Terraform Internals","href":null,"fullPath":"/terraform/internals","id":"sidebar-nav-item-132","path":"/internals"}],"title":"Terraform CLI","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/terraform/blob/main/website/../docs/cli/commands/providers/lock.mdx"},"metadata":{"title":"Command: providers lock","description":"The `terraform providers lock` command adds new provider selection information\nto the dependency lock file without initializing the referenced providers.","layout":null},"outlineItems":[{"title":"Command: terraform providers lock","url":"#command-terraform-providers-lock","dataHeapTrack":"toc-list-item-index-0"},{"title":"Usage","url":"#usage","dataHeapTrack":"toc-list-item-index-1"},{"title":"Specifying Target Platforms","url":"#specifying-target-platforms","dataHeapTrack":"toc-list-item-index-2"},{"title":"Lock Entries for In-house Providers","url":"#lock-entries-for-in-house-providers","dataHeapTrack":"toc-list-item-index-3"}],"pageHeading":{"id":"command-terraform-providers-lock","title":"Command: terraform providers lock"},"mdxSource":{"compiledSource":"var d=Object.defineProperty,c=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var t=Object.getOwnPropertySymbols;var n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;var s=(r,a,i)=>a in r?d(r,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[a]=i,e=(r,a)=>{for(var i in a||(a={}))n.call(a,i)&&s(r,i,a[i]);if(t)for(var i of t(a))l.call(a,i)&&s(r,i,a[i]);return r},p=(r,a)=>c(r,h(a));var m=(r,a)=>{var i={};for(var o in r)n.call(r,o)&&a.indexOf(o)<0&&(i[o]=r[o]);if(r!=null&&t)for(var o of t(r))a.indexOf(o)<0&&l.call(r,o)&&(i[o]=r[o]);return i};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(i){var o=i,{components:r}=o,a=m(o,[\"components\"]);return mdx(MDXLayout,p(e(e({},layoutProps),a),{components:r,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform providers lock\"),` consults upstream registries (by default) in\norder to write provider dependency information into\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/files/dependency-lock\"}),\"the dependency lock file\"),\".\"),mdx(\"p\",null,`The common way to update the dependency lock file is as a side-effect of normal\nprovider installation during\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/cli/commands/init\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"terraform init\")),`, but there are several situations where that\nautomatic approach may not be sufficient:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`If you are running Terraform in an environment that uses\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/cli/config/config-file#provider-installation\"}),\"alternative provider installation methods\"),`,\nsuch as filesystem or network mirrors, normal provider installation will not\naccess the origin registry for a provider and therefore Terraform will not\nbe able to populate all of the possible package checksums for the selected\nprovider versions.`),mdx(\"p\",{parentName:\"li\"},\"If you use \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform lock\"),` to write the official release checksums for a\nprovider into the dependency lock file then future `,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform init\"),` runs\nwill verify the packages available in your selected mirror against the\nofficial checksums previously recorded, giving additional certainty that\nthe mirror is serving the provider packages it is claiming to.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`If your team runs Terraform across a number of different platforms (e.g.\non both Windows and Linux) and the upstream registry for a provider is unable\nto provide signed checksums using the latest hashing scheme, subsequent runs\nof Terraform on other platforms may\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/files/dependency-lock#new-provider-package-checksums\"}),\"add additional checksums to the lock file\"),`.\nYou can avoid that by pre-populating hashes for all of the platforms you\nintend to use, using the `,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform providers lock\"),\" command.\"))),mdx(\"div\",e({},{className:\"alert alert-info g-type-body\"}),mdx(\"p\",{parentName:\"div\"},\"\",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform providers lock\"),\" is available only in Terraform v0.14 or later.\")),mdx(\"h2\",e({},{id:\"usage\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#usage\",\"aria-label\":\"usage permalink\"}),\"\\xBB\"),\"Usage\"),mdx(\"p\",null,\"Usage: \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform providers lock [options] [providers...]\")),mdx(\"p\",null,\"With no additional command line arguments, \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform providers lock\"),` will\nanalyze the configuration in the current working directory to find all of\nthe providers it depends on, and it will fetch the necessary data about those\nproviders from their origin registries and then update\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/language/files/dependency-lock\"}),\"the dependency lock file\"),` to\ninclude a selected version for each provider and all of the package checksums\nthat are covered by the provider developer's cryptographic signature.`),mdx(\"div\",e({},{className:\"alert alert-warning g-type-body\"}),mdx(\"p\",{parentName:\"div\"},\"\",mdx(\"strong\",{parentName:\"p\"},\"Warning:\"),\" The \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform providers lock\"),` command prints information\nabout what it has fetched and whether each package was signed using a\ncryptographic signature, but it cannot automatically verify that the\nproviders are trustworthy and that they comply with your local system\npolicies or relevant regulations. Review the signing key information\nin the output to confirm that you trust all of the signers before committing\nthe updated lock file to your version control system.`)),mdx(\"p\",null,`If you list one or more provider source addresses on the command line then\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform providers lock\"),` will restrict its work only to those providers,\nleaving the lock entries for other providers (if any) unchanged.`),mdx(\"p\",null,\"You can customize the default behavior using the following additional option:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"fs-mirror-path\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#fs-mirror-path\",\"aria-label\":\"fs mirror path permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-fs-mirror=PATH\")),` - Direct Terraform to look for provider packages in the\ngiven local filesystem mirror directory, instead of in upstream registries.\nThe given directory must use the usual filesystem mirror directory layout.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"net-mirror-url\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#net-mirror-url\",\"aria-label\":\"net mirror url permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-net-mirror=URL\")),` - Direct Terraform to look for provider packages in the\ngiven network mirror service, instead of in upstream registries. The\ngiven URL must implement\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/internals/provider-network-mirror-protocol\"}),\"the Terraform provider network mirror protocol\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"platform-os_arch\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#platform-os_arch\",\"aria-label\":\"platform os_arch permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-platform=OS_ARCH\")),` - Specify a platform you intend to use to work with this\nTerraform configuration. Terraform will ensure that the providers are all\navailable for the given platform and will save enough package checksums in\nthe lock file to support `,mdx(\"em\",{parentName:\"p\"},\"at least\"),\" the specified platforms.\"),mdx(\"p\",{parentName:\"li\"},`Use this option multiple times to include checksums for multiple target\nsystems.`),mdx(\"p\",{parentName:\"li\"},`Target platform names consist of an operating system and a CPU\narchitecture. For example, `,mdx(\"inlineCode\",{parentName:\"p\"},\"linux_amd64\"),` selects the Linux operating system\nrunning on an AMD64 or x86_64 CPU.`),mdx(\"p\",{parentName:\"li\"},\"There is more detail on this option in the following section.\"))),mdx(\"h2\",e({},{id:\"specifying-target-platforms\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#specifying-target-platforms\",\"aria-label\":\"specifying target platforms permalink\"}),\"\\xBB\"),\"Specifying Target Platforms\"),mdx(\"p\",null,`In your environment you may, for example, have both developers who work with\nyour Terraform configuration on their Windows or macOS workstations `,mdx(\"em\",{parentName:\"p\"},\"and\"),`\nautomated systems that apply the configuration while running on Linux.`),mdx(\"p\",null,`In that situation, you could choose to verify that all of your providers support\nall of those platforms, and to pre-populate the lock file with the necessary\nchecksums, by running `,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform providers lock\"),` and specifying those three\nplatforms:`),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),\"terraform providers lock \\\\\",`\n`,\"  -platform=windows_amd64 \\\\ # 64-bit Windows\",`\n`,\"  -platform=darwin_amd64 \\\\  # 64-bit macOS\",`\n`,\"  -platform=linux_amd64     # 64-bit Linux\",`\n`)),mdx(\"p\",null,`(The above example uses Unix-style shell wrapping syntax for readability. If\nyou are running the command on Windows then you will need to put all of the\narguments on a single line, and remove the backslashes and comments.)`),mdx(\"h2\",e({},{id:\"lock-entries-for-in-house-providers\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#lock-entries-for-in-house-providers\",\"aria-label\":\"lock entries for in house providers permalink\"}),\"\\xBB\"),\"Lock Entries for In-house Providers\"),mdx(\"p\",null,\"An \",mdx(\"em\",{parentName:\"p\"},\"in-house provider\"),` is one that isn't published on a real Terraform provider\nregistry because it's developed and used only within a particular organization and\ndistributed via either a filesystem mirror or network mirror.`),mdx(\"p\",null,\"By default, \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform providers lock\"),` assumes all providers are available\nat a Terraform provider registry and tries to contact the origin registries\nin order to get access to the most detailed information about the provider\npackages.`),mdx(\"p\",null,`To create a lock entry for a particular provider that is available only in a\nlocal mirror, you can use either the `,mdx(\"inlineCode\",{parentName:\"p\"},\"-fs-mirror\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"-net-mirror\"),` command\nline options to override the default behavior of consulting the provider's\norigin registry:`),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),\"terraform providers lock \\\\\",`\n`,\"  -fs-mirror=/usr/local/terraform/providers\",`\n`,\"  -platform=windows_amd64 \\\\\",`\n`,\"  -platform=darwin_amd64 \\\\\",`\n`,\"  -platform=linux_amd64 \\\\\",`\n`,\"  tf.example.com/ourcompany/ourplatform\",`\n`)),mdx(\"p\",null,`(The above example uses Unix-style shell wrapping syntax for readability. If\nyou are running the command on Windows then you will need to put all of the\narguments on a single line, and remove the backslashes.)`),mdx(\"p\",null,`Because the command above includes the provider source address\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"tf.example.com/ourcompany/ourplatform\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"terraform providers lock\"),` will only\nattempt to access that particular provider and will leave the lock entries\nfor any other providers unchanged. If you have a variety of different providers\navailable from different sources, you can run `,mdx(\"inlineCode\",{parentName:\"p\"},\"terraform providers lock\"),`\nmultiple times and specify a different subset of your providers each time.`),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"-fs-mirror\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"-net-mirror\"),` options have the same meaning as\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"filesystem_mirror\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"network_mirror\"),` blocks in\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/cli/config/config-file#provider-installation\"}),\"the provider installation methods configuration\"),`,\nbut specify only a single method in order to be explicit about where you\nintend to derive the package checksum information from.`),mdx(\"p\",null,`Note that only an origin registry can provide official checksums covered by\nthe original developer's cryptographic signature. Lock entries created from\nfilesystem or network mirrors will therefore cover only the exact platforms\nyou requested, and the recorded checksums will be those reported by the\nmirror, rather than the origin registry's official checksums. If you want\nto ensure that the recorded checksums are the ones signed by the original\nprovider publisher, run this command `,mdx(\"em\",{parentName:\"p\"},\"without\"),\" either the \",mdx(\"inlineCode\",{parentName:\"p\"},\"-fs-mirror\"),` or\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"-net-mirror\"),\" options to fetch all information from origin registries.\"),mdx(\"p\",null,`If you wish, you can publish your in-house providers via an in-house provider\nregistry, which will then allow locking and installation of those providers\nwithout any special options or additional CLI configuration. For more\ninformation, see\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/terraform/internals/provider-registry-protocol\"}),\"the provider registry protocol\"),\".\"))}MDXContent.isMDXComponent=!0;\n","scope":{"version":"latest"}},"product":{"slug":"terraform","name":"Terraform","algoliaConfig":{"indexName":"product_TERRAFORM"},"basePaths":["cdktf","cli","cloud-docs","cloud-docs/agents","docs","enterprise","internals","intro","language","plugin","plugin/framework","plugin/log","plugin/mux","plugin/sdkv2","plugin/testing","registry","downloads"],"docsNavItems":["docs","language","cli","cloud-docs","enterprise","cdktf",{"icon":"provider","label":"Provider Use","fullPath":"/terraform/language/providers"},"plugin","registry",{"icon":"handshake","label":"Integration Program","fullPath":"/terraform/docs/partnerships"}],"rootDocsPaths":[{"iconName":"code","name":"CDK for Terraform","path":"cdktf","productSlugForLoader":"terraform-cdk"},{"iconName":"terminal-screen","name":"Terraform CLI","path":"cli"},{"iconName":"cloud","name":"Terraform Cloud","path":"cloud-docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"cloud","name":"Cloud Docs Agents","navDataPrefix":"cloud-docs-agents","path":"cloud-docs/agents","productSlugForLoader":"terraform-docs-agents"},{"iconName":"docs","name":"About the Docs","path":"docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"org","name":"Terraform Enterprise","path":"enterprise","productSlugForLoader":"ptfe-releases"},{"iconName":"docs","name":"Internals","path":"internals"},{"iconName":"docs","name":"Intro","path":"intro"},{"iconName":"file-source","name":"Configuration Language","path":"language"},{"iconName":"wrench","name":"Plugin Development","path":"plugin","productSlugForLoader":"terraform-docs-common"},{"iconName":"plug","name":"Framework","navDataPrefix":"plugin-framework","path":"plugin/framework","productSlugForLoader":"terraform-plugin-framework"},{"iconName":"plug","name":"Logging","navDataPrefix":"plugin-log","path":"plugin/log","productSlugForLoader":"terraform-plugin-log"},{"iconName":"plug","name":"Combining and Translating","navDataPrefix":"plugin-mux","path":"plugin/mux","productSlugForLoader":"terraform-plugin-mux"},{"iconName":"plug","name":"SDKv2","path":"plugin/sdkv2","productSlugForLoader":"terraform-plugin-sdk","navDataPrefix":"plugin-sdkv2"},{"iconName":"plug","name":"Testing","path":"plugin/testing","productSlugForLoader":"terraform-plugin-testing","navDataPrefix":"plugin-testing"},{"iconName":"plus-circle","name":"Registry Publishing","path":"registry","productSlugForLoader":"terraform-docs-common"}],"currentRootDocsPath":{"iconName":"terminal-screen","name":"Terraform CLI","path":"cli"}},"projectName":null,"versions":null},"layoutProps":null,"__N_SSG":true}