{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Terraform","url":"/terraform"},{"title":"Configuration Language","url":"/terraform/language","isCurrentPage":false},{"title":"Files and Directories","url":"/terraform/language/files"},{"title":"Dependency Lock File","url":"/terraform/language/files/dependency-lock","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Terraform Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Terraform","fullPath":"/terraform","theme":"terraform"},{"title":"Install","fullPath":"/terraform/install"},{"title":"Intro to Terraform","fullPath":"/terraform/intro"},{"title":"Tutorials","fullPath":"/terraform/tutorials"},{"title":"Documentation","isOpen":true,"routes":[{"title":"Documentation","fullPath":"/terraform/docs"},{"title":"Configuration Language","fullPath":"/terraform/language"},{"title":"Terraform CLI","fullPath":"/terraform/cli"},{"title":"HCP Terraform","fullPath":"/terraform/cloud-docs"},{"title":"Terraform Enterprise","fullPath":"/terraform/enterprise"},{"title":"CDK for Terraform","fullPath":"/terraform/cdktf"},{"title":"Provider Use","fullPath":"/terraform/language/providers"},{"title":"Plugin Development","fullPath":"/terraform/plugin"},{"title":"Registry Publishing","fullPath":"/terraform/registry"},{"title":"Integration Program","fullPath":"/terraform/docs/partnerships"}]}],"showFilterInput":false,"title":"Terraform","visuallyHideTitle":true},{"backToLinkProps":{"text":"Terraform Home","href":"/terraform"},"levelButtonProps":{"levelUpButtonText":"Terraform Home"},"menuItems":[{"title":"Configuration Language","fullPath":"/terraform/language","theme":"terraform"},{"title":"Style Guide","path":"style","filePath":"../docs/language/style.mdx","fullPath":"/terraform/language/style","id":"sidebar-nav-item-2"},{"title":"Stacks","badge":{"text":"BETA","type":"outlined","color":"neutral"},"routes":[{"title":"Overview","path":"stacks","filePath":"../docs/language/stacks/index.mdx","fullPath":"/terraform/language/stacks","id":"sidebar-nav-item-4"},{"title":"Use cases","path":"stacks/use-cases","filePath":"../docs/language/stacks/use-cases.mdx","fullPath":"/terraform/language/stacks/use-cases","id":"sidebar-nav-item-5"},{"title":"Design a Stack","path":"stacks/design","filePath":"../docs/language/stacks/design.mdx","fullPath":"/terraform/language/stacks/design","id":"sidebar-nav-item-6"},{"title":"Create a Stack","routes":[{"title":"Define configuration","path":"stacks/create/config","filePath":"../docs/language/stacks/create/config.mdx","fullPath":"/terraform/language/stacks/create/config","id":"sidebar-nav-item-8"},{"title":"Declare providers","path":"stacks/create/declare-providers","filePath":"../docs/language/stacks/create/declare-providers.mdx","fullPath":"/terraform/language/stacks/create/declare-providers","id":"sidebar-nav-item-9"}],"id":"sidebar-nav-item-7"},{"title":"Define deployments","routes":[{"title":"Define configuration","path":"stacks/deploy/config","filePath":"../docs/language/stacks/deploy/config.mdx","fullPath":"/terraform/language/stacks/deploy/config","id":"sidebar-nav-item-11"},{"title":"Set conditions for deployment plans","path":"stacks/deploy/conditions","filePath":"../docs/language/stacks/deploy/conditions.mdx","fullPath":"/terraform/language/stacks/deploy/conditions","id":"sidebar-nav-item-12"},{"title":"Authenticate a Stack","path":"stacks/deploy/authenticate","filePath":"../docs/language/stacks/deploy/authenticate.mdx","fullPath":"/terraform/language/stacks/deploy/authenticate","id":"sidebar-nav-item-13"},{"title":"Pass data from one Stack to another","path":"stacks/deploy/pass-data","filePath":"../docs/language/stacks/deploy/pass-data.mdx","fullPath":"/terraform/language/stacks/deploy/pass-data","id":"sidebar-nav-item-14"}],"id":"sidebar-nav-item-10"},{"title":"Reference","routes":[{"title":"Stack configuration file","path":"stacks/reference/tfstack","filePath":"../docs/language/stacks/reference/tfstack.mdx","fullPath":"/terraform/language/stacks/reference/tfstack","id":"sidebar-nav-item-16"},{"title":"Deployment configuration file","path":"stacks/reference/tfdeploy","filePath":"../docs/language/stacks/reference/tfdeploy.mdx","fullPath":"/terraform/language/stacks/reference/tfdeploy","id":"sidebar-nav-item-17"},{"title":"Tfstacks CLI","path":"stacks/reference/tfstacks-cli","filePath":"../docs/language/stacks/reference/tfstacks-cli.mdx","fullPath":"/terraform/language/stacks/reference/tfstacks-cli","id":"sidebar-nav-item-18"}],"id":"sidebar-nav-item-15"}],"id":"sidebar-nav-item-3"},{"title":"Files and Directories","routes":[{"title":"Overview","path":"files","filePath":"../docs/language/files/index.mdx","fullPath":"/terraform/language/files","id":"sidebar-nav-item-20"},{"title":"Override Files","path":"files/override","filePath":"../docs/language/files/override.mdx","fullPath":"/terraform/language/files/override","id":"sidebar-nav-item-21"},{"title":"Dependency Lock File","path":"files/dependency-lock","filePath":"../docs/language/files/dependency-lock.mdx","fullPath":"/terraform/language/files/dependency-lock","id":"sidebar-nav-item-22"},{"title":"Test Files","path":"files/tests","filePath":"../docs/language/files/tests.mdx","fullPath":"/terraform/language/files/tests","id":"sidebar-nav-item-23"}],"id":"sidebar-nav-item-19"},{"title":"Syntax","routes":[{"title":"Overview","path":"syntax","filePath":"../docs/language/syntax/index.mdx","fullPath":"/terraform/language/syntax","id":"sidebar-nav-item-25"},{"title":"Configuration Syntax","path":"syntax/configuration","filePath":"../docs/language/syntax/configuration.mdx","fullPath":"/terraform/language/syntax/configuration","id":"sidebar-nav-item-26"},{"title":"JSON Configuration Syntax","path":"syntax/json","filePath":"../docs/language/syntax/json.mdx","fullPath":"/terraform/language/syntax/json","id":"sidebar-nav-item-27"}],"id":"sidebar-nav-item-24"},{"title":"Resources","routes":[{"title":"Overview","path":"resources","filePath":"../docs/language/resources/index.mdx","fullPath":"/terraform/language/resources","id":"sidebar-nav-item-29"},{"title":"Resource Blocks","path":"resources/syntax","filePath":"../docs/language/resources/syntax.mdx","fullPath":"/terraform/language/resources/syntax","id":"sidebar-nav-item-30"},{"title":"Resource Behavior","path":"resources/behavior","filePath":"../docs/language/resources/behavior.mdx","fullPath":"/terraform/language/resources/behavior","id":"sidebar-nav-item-31"},{"title":"Meta-Arguments","routes":[{"title":"<code>depends_on</code>","href":null,"fullPath":"/terraform/language/meta-arguments/depends_on","id":"sidebar-nav-item-33","path":"/language/meta-arguments/depends_on"},{"title":"<code>count</code>","href":null,"fullPath":"/terraform/language/meta-arguments/count","id":"sidebar-nav-item-34","path":"/language/meta-arguments/count"},{"title":"<code>for_each</code>","href":null,"fullPath":"/terraform/language/meta-arguments/for_each","id":"sidebar-nav-item-35","path":"/language/meta-arguments/for_each"},{"title":"<code>provider</code>","href":null,"fullPath":"/terraform/language/meta-arguments/resource-provider","id":"sidebar-nav-item-36","path":"/language/meta-arguments/resource-provider"},{"title":"<code>lifecycle</code>","href":null,"fullPath":"/terraform/language/meta-arguments/lifecycle","id":"sidebar-nav-item-37","path":"/language/meta-arguments/lifecycle"}],"id":"sidebar-nav-item-32"},{"title":"Provisioners","routes":[{"title":"Declaring Provisioners","path":"resources/provisioners/syntax","filePath":"../docs/language/resources/provisioners/syntax.mdx","fullPath":"/terraform/language/resources/provisioners/syntax","id":"sidebar-nav-item-39"},{"title":"Provisioner Connections","path":"resources/provisioners/connection","filePath":"../docs/language/resources/provisioners/connection.mdx","fullPath":"/terraform/language/resources/provisioners/connection","id":"sidebar-nav-item-40"},{"title":"Provisioners Without a Resource","path":"resources/provisioners/null_resource","filePath":"../docs/language/resources/provisioners/null_resource.mdx","fullPath":"/terraform/language/resources/provisioners/null_resource","id":"sidebar-nav-item-41"},{"title":"file","path":"resources/provisioners/file","filePath":"../docs/language/resources/provisioners/file.mdx","fullPath":"/terraform/language/resources/provisioners/file","id":"sidebar-nav-item-42"},{"title":"local-exec","path":"resources/provisioners/local-exec","filePath":"../docs/language/resources/provisioners/local-exec.mdx","fullPath":"/terraform/language/resources/provisioners/local-exec","id":"sidebar-nav-item-43"},{"title":"remote-exec","path":"resources/provisioners/remote-exec","filePath":"../docs/language/resources/provisioners/remote-exec.mdx","fullPath":"/terraform/language/resources/provisioners/remote-exec","id":"sidebar-nav-item-44"}],"id":"sidebar-nav-item-38"},{"title":"The <code>terraform_data</code> Resource Type","path":"resources/terraform-data","filePath":"../docs/language/resources/terraform-data.mdx","fullPath":"/terraform/language/resources/terraform-data","id":"sidebar-nav-item-45"},{"title":"Ephemerality in Resources","routes":[{"title":"Overview","path":"resources/ephemeral","filePath":"../docs/language/resources/ephemeral/index.mdx","fullPath":"/terraform/language/resources/ephemeral","id":"sidebar-nav-item-47"},{"title":"Ephemeral block","path":"resources/ephemeral/reference","filePath":"../docs/language/resources/ephemeral/reference.mdx","fullPath":"/terraform/language/resources/ephemeral/reference","id":"sidebar-nav-item-48"},{"title":"Use write-only arguments","path":"resources/ephemeral/write-only","filePath":"../docs/language/resources/ephemeral/write-only.mdx","fullPath":"/terraform/language/resources/ephemeral/write-only","id":"sidebar-nav-item-49"}],"id":"sidebar-nav-item-46"}],"id":"sidebar-nav-item-28"},{"title":"Data Sources","path":"data-sources","filePath":"../docs/language/data-sources/index.mdx","fullPath":"/terraform/language/data-sources","id":"sidebar-nav-item-50"},{"title":"Providers","routes":[{"title":"Overview","path":"providers","filePath":"../docs/language/providers/index.mdx","fullPath":"/terraform/language/providers","id":"sidebar-nav-item-52"},{"title":"Provider Configuration","path":"providers/configuration","filePath":"../docs/language/providers/configuration.mdx","fullPath":"/terraform/language/providers/configuration","id":"sidebar-nav-item-53"},{"title":"Provider Requirements","path":"providers/requirements","filePath":"../docs/language/providers/requirements.mdx","fullPath":"/terraform/language/providers/requirements","id":"sidebar-nav-item-54"},{"title":"Dependency Lock File","href":null,"fullPath":"/terraform/language/files/dependency-lock","id":"sidebar-nav-item-55","path":"/language/files/dependency-lock"}],"id":"sidebar-nav-item-51"},{"title":"Variables and Outputs","routes":[{"title":"Overview","path":"values","filePath":"../docs/language/values/index.mdx","fullPath":"/terraform/language/values","id":"sidebar-nav-item-57"},{"title":"Input Variables","path":"values/variables","filePath":"../docs/language/values/variables.mdx","fullPath":"/terraform/language/values/variables","id":"sidebar-nav-item-58"},{"title":"Output Values","path":"values/outputs","filePath":"../docs/language/values/outputs.mdx","fullPath":"/terraform/language/values/outputs","id":"sidebar-nav-item-59"},{"title":"Local Values","path":"values/locals","filePath":"../docs/language/values/locals.mdx","fullPath":"/terraform/language/values/locals","id":"sidebar-nav-item-60"}],"id":"sidebar-nav-item-56"},{"title":"Modules","routes":[{"title":"Overview","path":"modules","filePath":"../docs/language/modules/index.mdx","fullPath":"/terraform/language/modules","id":"sidebar-nav-item-62"},{"title":"Module Blocks","path":"modules/syntax","filePath":"../docs/language/modules/syntax.mdx","fullPath":"/terraform/language/modules/syntax","id":"sidebar-nav-item-63"},{"title":"Module Sources","path":"modules/sources","filePath":"../docs/language/modules/sources.mdx","fullPath":"/terraform/language/modules/sources","id":"sidebar-nav-item-64"},{"title":"Meta-Arguments","routes":[{"title":"<code>providers</code>","href":null,"fullPath":"/terraform/language/meta-arguments/module-providers","id":"sidebar-nav-item-66","path":"/language/meta-arguments/module-providers"},{"title":"<code>depends_on</code>","href":null,"fullPath":"/terraform/language/meta-arguments/depends_on","id":"sidebar-nav-item-67","path":"/language/meta-arguments/depends_on"},{"title":"<code>count</code>","href":null,"fullPath":"/terraform/language/meta-arguments/count","id":"sidebar-nav-item-68","path":"/language/meta-arguments/count"},{"title":"<code>for_each</code>","href":null,"fullPath":"/terraform/language/meta-arguments/for_each","id":"sidebar-nav-item-69","path":"/language/meta-arguments/for_each"}],"id":"sidebar-nav-item-65"},{"title":"Module Development","routes":[{"title":"Overview","path":"modules/develop","filePath":"../docs/language/modules/develop/index.mdx","fullPath":"/terraform/language/modules/develop","id":"sidebar-nav-item-71"},{"title":"Standard Module Structure","path":"modules/develop/structure","filePath":"../docs/language/modules/develop/structure.mdx","fullPath":"/terraform/language/modules/develop/structure","id":"sidebar-nav-item-72"},{"title":"Providers Within Modules","path":"modules/develop/providers","filePath":"../docs/language/modules/develop/providers.mdx","fullPath":"/terraform/language/modules/develop/providers","id":"sidebar-nav-item-73"},{"title":"Best Practices: Module Composition","path":"modules/develop/composition","filePath":"../docs/language/modules/develop/composition.mdx","fullPath":"/terraform/language/modules/develop/composition","id":"sidebar-nav-item-74"},{"title":"Publishing Modules","path":"modules/develop/publish","filePath":"../docs/language/modules/develop/publish.mdx","fullPath":"/terraform/language/modules/develop/publish","id":"sidebar-nav-item-75"},{"title":"Refactoring Modules","path":"modules/develop/refactoring","filePath":"../docs/language/modules/develop/refactoring.mdx","fullPath":"/terraform/language/modules/develop/refactoring","id":"sidebar-nav-item-76"}],"id":"sidebar-nav-item-70"}],"id":"sidebar-nav-item-61"},{"title":"Moved block","path":"moved","filePath":"../docs/language/moved.mdx","fullPath":"/terraform/language/moved","id":"sidebar-nav-item-77"},{"title":"Terraform block","path":"terraform","filePath":"../docs/language/terraform.mdx","fullPath":"/terraform/language/terraform","id":"sidebar-nav-item-78"},{"title":"Backend block","routes":[{"title":"Overview","path":"backend","filePath":"../docs/language/backend/index.mdx","fullPath":"/terraform/language/backend","id":"sidebar-nav-item-80"},{"title":"local","path":"backend/local","filePath":"../docs/language/backend/local.mdx","fullPath":"/terraform/language/backend/local","id":"sidebar-nav-item-81"},{"title":"remote","path":"backend/remote","filePath":"../docs/language/backend/remote.mdx","fullPath":"/terraform/language/backend/remote","id":"sidebar-nav-item-82"},{"title":"azurerm","path":"backend/azurerm","filePath":"../docs/language/backend/azurerm.mdx","fullPath":"/terraform/language/backend/azurerm","id":"sidebar-nav-item-83"},{"title":"consul","path":"backend/consul","filePath":"../docs/language/backend/consul.mdx","fullPath":"/terraform/language/backend/consul","id":"sidebar-nav-item-84"},{"title":"cos","path":"backend/cos","filePath":"../docs/language/backend/cos.mdx","fullPath":"/terraform/language/backend/cos","id":"sidebar-nav-item-85"},{"title":"gcs","path":"backend/gcs","filePath":"../docs/language/backend/gcs.mdx","fullPath":"/terraform/language/backend/gcs","id":"sidebar-nav-item-86"},{"title":"http","path":"backend/http","filePath":"../docs/language/backend/http.mdx","fullPath":"/terraform/language/backend/http","id":"sidebar-nav-item-87"},{"title":"Kubernetes","path":"backend/kubernetes","filePath":"../docs/language/backend/kubernetes.mdx","fullPath":"/terraform/language/backend/kubernetes","id":"sidebar-nav-item-88"},{"title":"oci","path":"backend/oci","filePath":"../docs/language/backend/oci.mdx","fullPath":"/terraform/language/backend/oci","id":"sidebar-nav-item-89"},{"title":"oss","path":"backend/oss","filePath":"../docs/language/backend/oss.mdx","fullPath":"/terraform/language/backend/oss","id":"sidebar-nav-item-90"},{"title":"pg","path":"backend/pg","filePath":"../docs/language/backend/pg.mdx","fullPath":"/terraform/language/backend/pg","id":"sidebar-nav-item-91"},{"title":"s3","path":"backend/s3","filePath":"../docs/language/backend/s3.mdx","fullPath":"/terraform/language/backend/s3","id":"sidebar-nav-item-92"}],"id":"sidebar-nav-item-79"},{"title":"Checks","path":"checks","filePath":"../docs/language/checks/index.mdx","fullPath":"/terraform/language/checks","id":"sidebar-nav-item-93"},{"title":"Import","routes":[{"title":"Overview","path":"import","filePath":"../docs/language/import/index.mdx","fullPath":"/terraform/language/import","id":"sidebar-nav-item-95"},{"title":"Generating Configuration","path":"import/generating-configuration","filePath":"../docs/language/import/generating-configuration.mdx","fullPath":"/terraform/language/import/generating-configuration","id":"sidebar-nav-item-96"}],"id":"sidebar-nav-item-94"},{"title":"Expressions","routes":[{"title":"Overview","path":"expressions","filePath":"../docs/language/expressions/index.mdx","fullPath":"/terraform/language/expressions","id":"sidebar-nav-item-98"},{"title":"Types and Values","path":"expressions/types","filePath":"../docs/language/expressions/types.mdx","fullPath":"/terraform/language/expressions/types","id":"sidebar-nav-item-99"},{"title":"Strings and Templates","path":"expressions/strings","filePath":"../docs/language/expressions/strings.mdx","fullPath":"/terraform/language/expressions/strings","id":"sidebar-nav-item-100"},{"title":"References to Values","path":"expressions/references","filePath":"../docs/language/expressions/references.mdx","fullPath":"/terraform/language/expressions/references","id":"sidebar-nav-item-101"},{"title":"Operators","path":"expressions/operators","filePath":"../docs/language/expressions/operators.mdx","fullPath":"/terraform/language/expressions/operators","id":"sidebar-nav-item-102"},{"title":"Function Calls","path":"expressions/function-calls","filePath":"../docs/language/expressions/function-calls.mdx","fullPath":"/terraform/language/expressions/function-calls","id":"sidebar-nav-item-103"},{"title":"Conditional Expressions","path":"expressions/conditionals","filePath":"../docs/language/expressions/conditionals.mdx","fullPath":"/terraform/language/expressions/conditionals","id":"sidebar-nav-item-104"},{"title":"For Expressions","path":"expressions/for","filePath":"../docs/language/expressions/for.mdx","fullPath":"/terraform/language/expressions/for","id":"sidebar-nav-item-105"},{"title":"Splat Expressions","path":"expressions/splat","filePath":"../docs/language/expressions/splat.mdx","fullPath":"/terraform/language/expressions/splat","id":"sidebar-nav-item-106"},{"title":"Dynamic Blocks","path":"expressions/dynamic-blocks","filePath":"../docs/language/expressions/dynamic-blocks.mdx","fullPath":"/terraform/language/expressions/dynamic-blocks","id":"sidebar-nav-item-107"},{"title":"Custom Conditions","path":"expressions/custom-conditions","filePath":"../docs/language/expressions/custom-conditions.mdx","fullPath":"/terraform/language/expressions/custom-conditions","id":"sidebar-nav-item-108"},{"title":"Type Constraints","path":"expressions/type-constraints","filePath":"../docs/language/expressions/type-constraints.mdx","fullPath":"/terraform/language/expressions/type-constraints","id":"sidebar-nav-item-109"},{"title":"Version Constraints","path":"expressions/version-constraints","filePath":"../docs/language/expressions/version-constraints.mdx","fullPath":"/terraform/language/expressions/version-constraints","id":"sidebar-nav-item-110"}],"id":"sidebar-nav-item-97"},{"title":"Functions","routes":[{"title":"Overview","path":"functions","filePath":"../docs/language/functions/index.mdx","fullPath":"/terraform/language/functions","id":"sidebar-nav-item-112"},{"title":"Numeric Functions","routes":[{"title":"<code>abs</code>","href":null,"fullPath":"/terraform/language/functions/abs","id":"sidebar-nav-item-114","path":"/language/functions/abs"},{"title":"<code>ceil</code>","href":null,"fullPath":"/terraform/language/functions/ceil","id":"sidebar-nav-item-115","path":"/language/functions/ceil"},{"title":"<code>floor</code>","href":null,"fullPath":"/terraform/language/functions/floor","id":"sidebar-nav-item-116","path":"/language/functions/floor"},{"title":"<code>log</code>","href":null,"fullPath":"/terraform/language/functions/log","id":"sidebar-nav-item-117","path":"/language/functions/log"},{"title":"<code>max</code>","href":null,"fullPath":"/terraform/language/functions/max","id":"sidebar-nav-item-118","path":"/language/functions/max"},{"title":"<code>min</code>","href":null,"fullPath":"/terraform/language/functions/min","id":"sidebar-nav-item-119","path":"/language/functions/min"},{"title":"<code>parseint</code>","href":null,"fullPath":"/terraform/language/functions/parseint","id":"sidebar-nav-item-120","path":"/language/functions/parseint"},{"title":"<code>pow</code>","href":null,"fullPath":"/terraform/language/functions/pow","id":"sidebar-nav-item-121","path":"/language/functions/pow"},{"title":"<code>signum</code>","href":null,"fullPath":"/terraform/language/functions/signum","id":"sidebar-nav-item-122","path":"/language/functions/signum"}],"id":"sidebar-nav-item-113"},{"title":"String Functions","routes":[{"title":"<code>chomp</code>","href":null,"fullPath":"/terraform/language/functions/chomp","id":"sidebar-nav-item-124","path":"/language/functions/chomp"},{"title":"<code>endswith</code>","href":null,"fullPath":"/terraform/language/functions/endswith","id":"sidebar-nav-item-125","path":"/language/functions/endswith"},{"title":"<code>format</code>","href":null,"fullPath":"/terraform/language/functions/format","id":"sidebar-nav-item-126","path":"/language/functions/format"},{"title":"<code>formatlist</code>","href":null,"fullPath":"/terraform/language/functions/formatlist","id":"sidebar-nav-item-127","path":"/language/functions/formatlist"},{"title":"<code>indent</code>","href":null,"fullPath":"/terraform/language/functions/indent","id":"sidebar-nav-item-128","path":"/language/functions/indent"},{"title":"<code>join</code>","href":null,"fullPath":"/terraform/language/functions/join","id":"sidebar-nav-item-129","path":"/language/functions/join"},{"title":"<code>lower</code>","href":null,"fullPath":"/terraform/language/functions/lower","id":"sidebar-nav-item-130","path":"/language/functions/lower"},{"title":"<code>regex</code>","href":null,"fullPath":"/terraform/language/functions/regex","id":"sidebar-nav-item-131","path":"/language/functions/regex"},{"title":"<code>regexall</code>","href":null,"fullPath":"/terraform/language/functions/regexall","id":"sidebar-nav-item-132","path":"/language/functions/regexall"},{"title":"<code>replace</code>","href":null,"fullPath":"/terraform/language/functions/replace","id":"sidebar-nav-item-133","path":"/language/functions/replace"},{"title":"<code>split</code>","href":null,"fullPath":"/terraform/language/functions/split","id":"sidebar-nav-item-134","path":"/language/functions/split"},{"title":"<code>startswith</code>","href":null,"fullPath":"/terraform/language/functions/startswith","id":"sidebar-nav-item-135","path":"/language/functions/startswith"},{"title":"<code>strcontains</code>","href":null,"fullPath":"/terraform/language/functions/strcontains","id":"sidebar-nav-item-136","path":"/language/functions/strcontains"},{"title":"<code>strrev</code>","href":null,"fullPath":"/terraform/language/functions/strrev","id":"sidebar-nav-item-137","path":"/language/functions/strrev"},{"title":"<code>substr</code>","href":null,"fullPath":"/terraform/language/functions/substr","id":"sidebar-nav-item-138","path":"/language/functions/substr"},{"title":"<code>templatestring</code>","href":null,"fullPath":"/terraform/language/functions/templatestring","id":"sidebar-nav-item-139","path":"/language/functions/templatestring"},{"title":"<code>title</code>","href":null,"fullPath":"/terraform/language/functions/title","id":"sidebar-nav-item-140","path":"/language/functions/title"},{"title":"<code>trim</code>","href":null,"fullPath":"/terraform/language/functions/trim","id":"sidebar-nav-item-141","path":"/language/functions/trim"},{"title":"<code>trimprefix</code>","href":null,"fullPath":"/terraform/language/functions/trimprefix","id":"sidebar-nav-item-142","path":"/language/functions/trimprefix"},{"title":"<code>trimsuffix</code>","href":null,"fullPath":"/terraform/language/functions/trimsuffix","id":"sidebar-nav-item-143","path":"/language/functions/trimsuffix"},{"title":"<code>trimspace</code>","href":null,"fullPath":"/terraform/language/functions/trimspace","id":"sidebar-nav-item-144","path":"/language/functions/trimspace"},{"title":"<code>upper</code>","href":null,"fullPath":"/terraform/language/functions/upper","id":"sidebar-nav-item-145","path":"/language/functions/upper"}],"id":"sidebar-nav-item-123"},{"title":"Collection Functions","routes":[{"title":"<code>alltrue</code>","href":null,"fullPath":"/terraform/language/functions/alltrue","id":"sidebar-nav-item-147","path":"/language/functions/alltrue"},{"title":"<code>anytrue</code>","href":null,"fullPath":"/terraform/language/functions/anytrue","id":"sidebar-nav-item-148","path":"/language/functions/anytrue"},{"title":"<code>chunklist</code>","href":null,"fullPath":"/terraform/language/functions/chunklist","id":"sidebar-nav-item-149","path":"/language/functions/chunklist"},{"title":"<code>coalesce</code>","href":null,"fullPath":"/terraform/language/functions/coalesce","id":"sidebar-nav-item-150","path":"/language/functions/coalesce"},{"title":"<code>coalescelist</code>","href":null,"fullPath":"/terraform/language/functions/coalescelist","id":"sidebar-nav-item-151","path":"/language/functions/coalescelist"},{"title":"<code>compact</code>","href":null,"fullPath":"/terraform/language/functions/compact","id":"sidebar-nav-item-152","path":"/language/functions/compact"},{"title":"<code>concat</code>","href":null,"fullPath":"/terraform/language/functions/concat","id":"sidebar-nav-item-153","path":"/language/functions/concat"},{"title":"<code>contains</code>","href":null,"fullPath":"/terraform/language/functions/contains","id":"sidebar-nav-item-154","path":"/language/functions/contains"},{"title":"<code>distinct</code>","href":null,"fullPath":"/terraform/language/functions/distinct","id":"sidebar-nav-item-155","path":"/language/functions/distinct"},{"title":"<code>element</code>","href":null,"fullPath":"/terraform/language/functions/element","id":"sidebar-nav-item-156","path":"/language/functions/element"},{"title":"<code>flatten</code>","href":null,"fullPath":"/terraform/language/functions/flatten","id":"sidebar-nav-item-157","path":"/language/functions/flatten"},{"title":"<code>index</code>","href":null,"fullPath":"/terraform/language/functions/index_function","id":"sidebar-nav-item-158","path":"/language/functions/index_function"},{"title":"<code>keys</code>","href":null,"fullPath":"/terraform/language/functions/keys","id":"sidebar-nav-item-159","path":"/language/functions/keys"},{"title":"<code>length</code>","href":null,"fullPath":"/terraform/language/functions/length","id":"sidebar-nav-item-160","path":"/language/functions/length"},{"title":"<code>list</code>","href":null,"fullPath":"/terraform/language/functions/list","id":"sidebar-nav-item-161","path":"/language/functions/list"},{"title":"<code>lookup</code>","href":null,"fullPath":"/terraform/language/functions/lookup","id":"sidebar-nav-item-162","path":"/language/functions/lookup"},{"title":"<code>map</code>","href":null,"fullPath":"/terraform/language/functions/map","id":"sidebar-nav-item-163","path":"/language/functions/map"},{"title":"<code>matchkeys</code>","href":null,"fullPath":"/terraform/language/functions/matchkeys","id":"sidebar-nav-item-164","path":"/language/functions/matchkeys"},{"title":"<code>merge</code>","href":null,"fullPath":"/terraform/language/functions/merge","id":"sidebar-nav-item-165","path":"/language/functions/merge"},{"title":"<code>one</code>","href":null,"fullPath":"/terraform/language/functions/one","id":"sidebar-nav-item-166","path":"/language/functions/one"},{"title":"<code>range</code>","href":null,"fullPath":"/terraform/language/functions/range","id":"sidebar-nav-item-167","path":"/language/functions/range"},{"title":"<code>reverse</code>","href":null,"fullPath":"/terraform/language/functions/reverse","id":"sidebar-nav-item-168","path":"/language/functions/reverse"},{"title":"<code>setintersection</code>","href":null,"fullPath":"/terraform/language/functions/setintersection","id":"sidebar-nav-item-169","path":"/language/functions/setintersection"},{"title":"<code>setproduct</code>","href":null,"fullPath":"/terraform/language/functions/setproduct","id":"sidebar-nav-item-170","path":"/language/functions/setproduct"},{"title":"<code>setsubtract</code>","href":null,"fullPath":"/terraform/language/functions/setsubtract","id":"sidebar-nav-item-171","path":"/language/functions/setsubtract"},{"title":"<code>setunion</code>","href":null,"fullPath":"/terraform/language/functions/setunion","id":"sidebar-nav-item-172","path":"/language/functions/setunion"},{"title":"<code>slice</code>","href":null,"fullPath":"/terraform/language/functions/slice","id":"sidebar-nav-item-173","path":"/language/functions/slice"},{"title":"<code>sort</code>","href":null,"fullPath":"/terraform/language/functions/sort","id":"sidebar-nav-item-174","path":"/language/functions/sort"},{"title":"<code>sum</code>","href":null,"fullPath":"/terraform/language/functions/sum","id":"sidebar-nav-item-175","path":"/language/functions/sum"},{"title":"<code>transpose</code>","href":null,"fullPath":"/terraform/language/functions/transpose","id":"sidebar-nav-item-176","path":"/language/functions/transpose"},{"title":"<code>values</code>","href":null,"fullPath":"/terraform/language/functions/values","id":"sidebar-nav-item-177","path":"/language/functions/values"},{"title":"<code>zipmap</code>","href":null,"fullPath":"/terraform/language/functions/zipmap","id":"sidebar-nav-item-178","path":"/language/functions/zipmap"}],"id":"sidebar-nav-item-146"},{"title":"Encoding Functions","routes":[{"title":"<code>base64decode</code>","href":null,"fullPath":"/terraform/language/functions/base64decode","id":"sidebar-nav-item-180","path":"/language/functions/base64decode"},{"title":"<code>base64encode</code>","href":null,"fullPath":"/terraform/language/functions/base64encode","id":"sidebar-nav-item-181","path":"/language/functions/base64encode"},{"title":"<code>base64gzip</code>","href":null,"fullPath":"/terraform/language/functions/base64gzip","id":"sidebar-nav-item-182","path":"/language/functions/base64gzip"},{"title":"<code>csvdecode</code>","href":null,"fullPath":"/terraform/language/functions/csvdecode","id":"sidebar-nav-item-183","path":"/language/functions/csvdecode"},{"title":"<code>jsondecode</code>","href":null,"fullPath":"/terraform/language/functions/jsondecode","id":"sidebar-nav-item-184","path":"/language/functions/jsondecode"},{"title":"<code>jsonencode</code>","href":null,"fullPath":"/terraform/language/functions/jsonencode","id":"sidebar-nav-item-185","path":"/language/functions/jsonencode"},{"title":"<code>textdecodebase64</code>","href":null,"fullPath":"/terraform/language/functions/textdecodebase64","id":"sidebar-nav-item-186","path":"/language/functions/textdecodebase64"},{"title":"<code>textencodebase64</code>","href":null,"fullPath":"/terraform/language/functions/textencodebase64","id":"sidebar-nav-item-187","path":"/language/functions/textencodebase64"},{"title":"<code>urlencode</code>","href":null,"fullPath":"/terraform/language/functions/urlencode","id":"sidebar-nav-item-188","path":"/language/functions/urlencode"},{"title":"<code>yamldecode</code>","href":null,"fullPath":"/terraform/language/functions/yamldecode","id":"sidebar-nav-item-189","path":"/language/functions/yamldecode"},{"title":"<code>yamlencode</code>","href":null,"fullPath":"/terraform/language/functions/yamlencode","id":"sidebar-nav-item-190","path":"/language/functions/yamlencode"}],"id":"sidebar-nav-item-179"},{"title":"Filesystem Functions","routes":[{"title":"<code>abspath</code>","href":null,"fullPath":"/terraform/language/functions/abspath","id":"sidebar-nav-item-192","path":"/language/functions/abspath"},{"title":"<code>dirname</code>","href":null,"fullPath":"/terraform/language/functions/dirname","id":"sidebar-nav-item-193","path":"/language/functions/dirname"},{"title":"<code>pathexpand</code>","href":null,"fullPath":"/terraform/language/functions/pathexpand","id":"sidebar-nav-item-194","path":"/language/functions/pathexpand"},{"title":"<code>basename</code>","href":null,"fullPath":"/terraform/language/functions/basename","id":"sidebar-nav-item-195","path":"/language/functions/basename"},{"title":"<code>file</code>","href":null,"fullPath":"/terraform/language/functions/file","id":"sidebar-nav-item-196","path":"/language/functions/file"},{"title":"<code>fileexists</code>","href":null,"fullPath":"/terraform/language/functions/fileexists","id":"sidebar-nav-item-197","path":"/language/functions/fileexists"},{"title":"<code>fileset</code>","href":null,"fullPath":"/terraform/language/functions/fileset","id":"sidebar-nav-item-198","path":"/language/functions/fileset"},{"title":"<code>filebase64</code>","href":null,"fullPath":"/terraform/language/functions/filebase64","id":"sidebar-nav-item-199","path":"/language/functions/filebase64"},{"title":"<code>templatefile</code>","href":null,"fullPath":"/terraform/language/functions/templatefile","id":"sidebar-nav-item-200","path":"/language/functions/templatefile"}],"id":"sidebar-nav-item-191"},{"title":"Date and Time Functions","routes":[{"title":"<code>formatdate</code>","href":null,"fullPath":"/terraform/language/functions/formatdate","id":"sidebar-nav-item-202","path":"/language/functions/formatdate"},{"title":"<code>plantimestamp</code>","href":null,"fullPath":"/terraform/language/functions/plantimestamp","id":"sidebar-nav-item-203","path":"/language/functions/plantimestamp"},{"title":"<code>timeadd</code>","href":null,"fullPath":"/terraform/language/functions/timeadd","id":"sidebar-nav-item-204","path":"/language/functions/timeadd"},{"title":"<code>timecmp</code>","href":null,"fullPath":"/terraform/language/functions/timecmp","id":"sidebar-nav-item-205","path":"/language/functions/timecmp"},{"title":"<code>timestamp</code>","href":null,"fullPath":"/terraform/language/functions/timestamp","id":"sidebar-nav-item-206","path":"/language/functions/timestamp"}],"id":"sidebar-nav-item-201"},{"title":"Hash and Crypto Functions","routes":[{"title":"<code>base64sha256</code>","href":null,"fullPath":"/terraform/language/functions/base64sha256","id":"sidebar-nav-item-208","path":"/language/functions/base64sha256"},{"title":"<code>base64sha512</code>","href":null,"fullPath":"/terraform/language/functions/base64sha512","id":"sidebar-nav-item-209","path":"/language/functions/base64sha512"},{"title":"<code>bcrypt</code>","href":null,"fullPath":"/terraform/language/functions/bcrypt","id":"sidebar-nav-item-210","path":"/language/functions/bcrypt"},{"title":"<code>filebase64sha256</code>","href":null,"fullPath":"/terraform/language/functions/filebase64sha256","id":"sidebar-nav-item-211","path":"/language/functions/filebase64sha256"},{"title":"<code>filebase64sha512</code>","href":null,"fullPath":"/terraform/language/functions/filebase64sha512","id":"sidebar-nav-item-212","path":"/language/functions/filebase64sha512"},{"title":"<code>filemd5</code>","href":null,"fullPath":"/terraform/language/functions/filemd5","id":"sidebar-nav-item-213","path":"/language/functions/filemd5"},{"title":"<code>filesha1</code>","href":null,"fullPath":"/terraform/language/functions/filesha1","id":"sidebar-nav-item-214","path":"/language/functions/filesha1"},{"title":"<code>filesha256</code>","href":null,"fullPath":"/terraform/language/functions/filesha256","id":"sidebar-nav-item-215","path":"/language/functions/filesha256"},{"title":"<code>filesha512</code>","href":null,"fullPath":"/terraform/language/functions/filesha512","id":"sidebar-nav-item-216","path":"/language/functions/filesha512"},{"title":"<code>md5</code>","href":null,"fullPath":"/terraform/language/functions/md5","id":"sidebar-nav-item-217","path":"/language/functions/md5"},{"title":"<code>rsadecrypt</code>","href":null,"fullPath":"/terraform/language/functions/rsadecrypt","id":"sidebar-nav-item-218","path":"/language/functions/rsadecrypt"},{"title":"<code>sha1</code>","href":null,"fullPath":"/terraform/language/functions/sha1","id":"sidebar-nav-item-219","path":"/language/functions/sha1"},{"title":"<code>sha256</code>","href":null,"fullPath":"/terraform/language/functions/sha256","id":"sidebar-nav-item-220","path":"/language/functions/sha256"},{"title":"<code>sha512</code>","href":null,"fullPath":"/terraform/language/functions/sha512","id":"sidebar-nav-item-221","path":"/language/functions/sha512"},{"title":"<code>uuid</code>","href":null,"fullPath":"/terraform/language/functions/uuid","id":"sidebar-nav-item-222","path":"/language/functions/uuid"},{"title":"<code>uuidv5</code>","href":null,"fullPath":"/terraform/language/functions/uuidv5","id":"sidebar-nav-item-223","path":"/language/functions/uuidv5"}],"id":"sidebar-nav-item-207"},{"title":"IP Network Functions","routes":[{"title":"<code>cidrhost</code>","href":null,"fullPath":"/terraform/language/functions/cidrhost","id":"sidebar-nav-item-225","path":"/language/functions/cidrhost"},{"title":"<code>cidrnetmask</code>","href":null,"fullPath":"/terraform/language/functions/cidrnetmask","id":"sidebar-nav-item-226","path":"/language/functions/cidrnetmask"},{"title":"<code>cidrsubnet</code>","href":null,"fullPath":"/terraform/language/functions/cidrsubnet","id":"sidebar-nav-item-227","path":"/language/functions/cidrsubnet"},{"title":"<code>cidrsubnets</code>","href":null,"fullPath":"/terraform/language/functions/cidrsubnets","id":"sidebar-nav-item-228","path":"/language/functions/cidrsubnets"}],"id":"sidebar-nav-item-224"},{"title":"Type Conversion Functions","routes":[{"title":"<code>can</code>","href":null,"fullPath":"/terraform/language/functions/can","id":"sidebar-nav-item-230","path":"/language/functions/can"},{"title":"<code>ephemeralasnull</code>","href":null,"fullPath":"/terraform/language/functions/ephemeralasnull","id":"sidebar-nav-item-231","path":"/language/functions/ephemeralasnull"},{"title":"<code>issensitive</code>","href":null,"fullPath":"/terraform/language/functions/issensitive","id":"sidebar-nav-item-232","path":"/language/functions/issensitive"},{"title":"<code>nonsensitive</code>","href":null,"fullPath":"/terraform/language/functions/nonsensitive","id":"sidebar-nav-item-233","path":"/language/functions/nonsensitive"},{"title":"<code>sensitive</code>","href":null,"fullPath":"/terraform/language/functions/sensitive","id":"sidebar-nav-item-234","path":"/language/functions/sensitive"},{"title":"<code>tobool</code>","href":null,"fullPath":"/terraform/language/functions/tobool","id":"sidebar-nav-item-235","path":"/language/functions/tobool"},{"title":"<code>tolist</code>","href":null,"fullPath":"/terraform/language/functions/tolist","id":"sidebar-nav-item-236","path":"/language/functions/tolist"},{"title":"<code>tomap</code>","href":null,"fullPath":"/terraform/language/functions/tomap","id":"sidebar-nav-item-237","path":"/language/functions/tomap"},{"title":"<code>tonumber</code>","href":null,"fullPath":"/terraform/language/functions/tonumber","id":"sidebar-nav-item-238","path":"/language/functions/tonumber"},{"title":"<code>toset</code>","href":null,"fullPath":"/terraform/language/functions/toset","id":"sidebar-nav-item-239","path":"/language/functions/toset"},{"title":"<code>tostring</code>","href":null,"fullPath":"/terraform/language/functions/tostring","id":"sidebar-nav-item-240","path":"/language/functions/tostring"},{"title":"<code>try</code>","href":null,"fullPath":"/terraform/language/functions/try","id":"sidebar-nav-item-241","path":"/language/functions/try"},{"title":"<code>type</code>","href":null,"fullPath":"/terraform/language/functions/type","id":"sidebar-nav-item-242","path":"/language/functions/type"}],"id":"sidebar-nav-item-229"},{"title":"Terraform-specific Functions","routes":[{"title":"<code>provider::terraform::encode_tfvars</code>","href":null,"fullPath":"/terraform/language/functions/terraform-encode_tfvars","id":"sidebar-nav-item-244","path":"/language/functions/terraform-encode_tfvars"},{"title":"<code>provider::terraform::decode_tfvars</code>","href":null,"fullPath":"/terraform/language/functions/terraform-decode_tfvars","id":"sidebar-nav-item-245","path":"/language/functions/terraform-decode_tfvars"},{"title":"<code>provider::terraform::encode_expr</code>","href":null,"fullPath":"/terraform/language/functions/terraform-encode_expr","id":"sidebar-nav-item-246","path":"/language/functions/terraform-encode_expr"},{"title":"<code>terraform.applying</code>","href":null,"fullPath":"/terraform/language/functions/terraform-applying","id":"sidebar-nav-item-247","path":"/language/functions/terraform-applying"}],"id":"sidebar-nav-item-243"}],"id":"sidebar-nav-item-111"},{"title":"State","routes":[{"title":"Overview","path":"state","filePath":"../docs/language/state/index.mdx","fullPath":"/terraform/language/state","id":"sidebar-nav-item-249"},{"title":"Purpose","path":"state/purpose","filePath":"../docs/language/state/purpose.mdx","fullPath":"/terraform/language/state/purpose","id":"sidebar-nav-item-250"},{"title":"The <code>terraform_remote_state</code> Data Source","path":"state/remote-state-data","filePath":"../docs/language/state/remote-state-data.mdx","fullPath":"/terraform/language/state/remote-state-data","id":"sidebar-nav-item-251"},{"title":"Backends: State Storage and Locking","path":"state/backends","filePath":"../docs/language/state/backends.mdx","fullPath":"/terraform/language/state/backends","id":"sidebar-nav-item-252"},{"title":"Import Existing Resources","path":"state/import","filePath":"../docs/language/state/import.mdx","fullPath":"/terraform/language/state/import","id":"sidebar-nav-item-253"},{"title":"Refactor state","path":"state/refactor","filePath":"../docs/language/state/refactor.mdx","fullPath":"/terraform/language/state/refactor","id":"sidebar-nav-item-254"},{"title":"Locking","path":"state/locking","filePath":"../docs/language/state/locking.mdx","fullPath":"/terraform/language/state/locking","id":"sidebar-nav-item-255"},{"title":"Workspaces","path":"state/workspaces","filePath":"../docs/language/state/workspaces.mdx","fullPath":"/terraform/language/state/workspaces","id":"sidebar-nav-item-256"},{"title":"Remote State","path":"state/remote","filePath":"../docs/language/state/remote.mdx","fullPath":"/terraform/language/state/remote","id":"sidebar-nav-item-257"},{"title":"Sensitive Data","path":"state/sensitive-data","filePath":"../docs/language/state/sensitive-data.mdx","fullPath":"/terraform/language/state/sensitive-data","id":"sidebar-nav-item-258"}],"id":"sidebar-nav-item-248"},{"title":"Tests","routes":[{"title":"Overview","path":"tests","filePath":"../docs/language/tests/index.mdx","fullPath":"/terraform/language/tests","id":"sidebar-nav-item-260"},{"title":"Mocks","path":"tests/mocking","filePath":"../docs/language/tests/mocking.mdx","fullPath":"/terraform/language/tests/mocking","id":"sidebar-nav-item-261"}],"id":"sidebar-nav-item-259"},{"title":"Upgrading to Terraform v1.10","path":"upgrade-guides","filePath":"../docs/language/upgrade-guides/index.mdx","fullPath":"/terraform/language/upgrade-guides","id":"sidebar-nav-item-262"},{"title":"v1.x Compatibility Promises","path":"v1-compatibility-promises","filePath":"../docs/language/v1-compatibility-promises.mdx","fullPath":"/terraform/language/v1-compatibility-promises","id":"sidebar-nav-item-263"},{"divider":true,"id":"sidebar-nav-item-264"},{"title":"Terraform Internals","href":null,"fullPath":"/terraform/internals","id":"sidebar-nav-item-265","path":"/internals"}],"title":"Configuration Language","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/terraform/blob/main/website/../docs/language/files/dependency-lock.mdx"},"metadata":{"title":"Dependency Lock File (.terraform.lock.hcl) - Configuration Language","description":"Terraform uses the dependency lock file .teraform.lock.hcl to track and select provider versions. Learn about dependency installation and lock file changes.","layout":null},"outlineItems":[{"title":"Dependency Lock File","url":"#dependency-lock-file"},{"title":"Lock File Location","url":"#lock-file-location"},{"title":"Dependency Installation Behavior","url":"#dependency-installation-behavior"},{"title":"Understanding Lock File Changes","url":"#understanding-lock-file-changes"}],"pageHeading":{"id":"dependency-lock-file","title":"Dependency Lock File"},"mdxSource":{"compiledSource":"const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"div\",{\"className\":\"alert alert-info g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Note:`),` This page is about a feature of Terraform 0.14 and later. Prior\nversions of Terraform did not track dependency selections at all, so the\ninformation here is not relevant to those versions.`)),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},mdx(\"strong\",{parentName:\"p\"},`Hands-on:`),` Try the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/tutorials/configuration-language/provider-versioning?utm_source=WEBSITE&utm_medium=WEB_IO&utm_offer=ARTICLE_PAGE&utm_content=DOCS\"},`Lock and Upgrade Provider Versions`),` tutorial.`)),mdx(\"p\",null,`A Terraform configuration may refer to two different kinds of external\ndependency that come from outside of its own codebase:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"/terraform/language/providers/requirements\"},`Providers`),`, which are plugins for Terraform\nthat extend it with support for interacting with various external systems.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"/terraform/language/modules\"},`Modules`),`, which allow\nsplitting out groups of Terraform configuration constructs (written in the\nTerraform language) into reusable abstractions.`)),mdx(\"p\",null,`Both of these dependency types can be published and updated independently from\nTerraform itself and from the configurations that depend on them. For that\nreason, Terraform must determine which versions of those dependencies are\npotentially compatible with the current configuration and which versions are\ncurrently selected for use.`),mdx(\"p\",null,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/language/expressions/version-constraints\"},`Version constraints`),` within the configuration\nitself determine which versions of dependencies are `,mdx(\"em\",{parentName:\"p\"},`potentially`),` compatible,\nbut after selecting a specific version of each dependency Terraform remembers\nthe decisions it made in a `,mdx(\"em\",{parentName:\"p\"},`dependency lock file`),` so that it can (by default)\nmake the same decisions again in future.`),mdx(\"p\",null,`At present, the dependency lock file tracks only `,mdx(\"em\",{parentName:\"p\"},`provider`),` dependencies.\nTerraform does not remember version selections for remote modules, and so\nTerraform will always select the newest available module version that meets\nthe specified version constraints. You can use an `,mdx(\"em\",{parentName:\"p\"},`exact`),` version constraint\nto ensure that Terraform will always select the same module version.`),mdx(\"h2\",{\"id\":\"lock-file-location\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#lock-file-location\",\"aria-label\":\"lock file location permalink\"},`\\xbb`),`Lock File Location`),mdx(\"p\",null,`The dependency lock file is a file that belongs to the configuration as a\nwhole, rather than to each separate module in the configuration. For that reason\nTerraform creates it and expects to find it in your current working directory\nwhen you run Terraform, which is also the directory containing the `,mdx(\"inlineCode\",{parentName:\"p\"},`.tf`),` files\nfor the root module of your configuration.`),mdx(\"p\",null,`The lock file is always named `,mdx(\"inlineCode\",{parentName:\"p\"},`.terraform.lock.hcl`),`, and this name is intended\nto signify that it is a lock file for various items that Terraform caches in\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},`.terraform`),` subdirectory of your working directory.`),mdx(\"p\",null,`Terraform automatically creates or updates the dependency lock file each time\nyou run `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/cli/commands/init\"},`the `,mdx(\"inlineCode\",{parentName:\"a\"},`terraform init`),` command`),`. You should\ninclude this file in your version control repository so that you can discuss\npotential changes to your external dependencies via code review, just as you\nwould discuss potential changes to your configuration itself.`),mdx(\"p\",null,`The dependency lock file uses the same low-level syntax as the main Terraform\nlanguage, but the dependency lock file is not itself a Terraform language\nconfiguration file. It is named with the suffix `,mdx(\"inlineCode\",{parentName:\"p\"},`.hcl`),` instead of `,mdx(\"inlineCode\",{parentName:\"p\"},`.tf`),` in\norder to signify that difference.`),mdx(\"h2\",{\"id\":\"dependency-installation-behavior\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#dependency-installation-behavior\",\"aria-label\":\"dependency installation behavior permalink\"},`\\xbb`),`Dependency Installation Behavior`),mdx(\"p\",null,`When `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform init`),` is working on installing all of the providers needed for\na configuration, Terraform considers both the version constraints in the\nconfiguration `,mdx(\"em\",{parentName:\"p\"},`and`),` the version selections recorded in the lock file.`),mdx(\"p\",null,`If a particular provider has no existing recorded selection, Terraform will\nselect the newest available version that matches the given version constraint,\nand then update the lock file to include that selection.`),mdx(\"p\",null,`If a particular provider already has a selection recorded in the lock file,\nTerraform will always re-select that version for installation, even if a\nnewer version has become available. You can override that behavior by adding\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},`-upgrade`),` option when you run `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform init`),`, in which case Terraform\nwill disregard the existing selections and once again select the newest\navailable version matching the version constraint.`),mdx(\"p\",null,`If a particular `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform init`),` call makes changes to the lock file, Terraform\nwill mention that as part of its output:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`Terraform has made some changes to the provider dependency selections recorded\nin the .terraform.lock.hcl file. Review those changes and commit them to your\nversion control system if they represent changes you intended to make.\n`)),mdx(\"p\",null,`When you see this message, you can use your version control system to\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#understanding-lock-file-changes\"},`review the changes Terraform has proposed in the file`),`,\nand if they represent changes you made intentionally you can send the change\nthrough your team's usual code review process.`),mdx(\"h3\",{\"id\":\"checksum-verification\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#checksum-verification\",\"aria-label\":\"checksum verification permalink\"},`\\xbb`),`Checksum verification`),mdx(\"p\",null,`Terraform will also verify that each package it installs matches at least one\nof the checksums it previously recorded in the lock file, if any, returning an\nerror if none of the checksums match:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`Error: Failed to install provider\n\nError while installing hashicorp/azurerm v2.1.0: the current package for\nregistry.terraform.io/hashicorp/azurerm 2.1.0 doesn't match any of the\nchecksums previously recorded in the dependency lock file.\n`)),mdx(\"p\",null,`This checksum verification is intended to represent a\n`,mdx(\"em\",{parentName:\"p\"},mdx(\"a\",{parentName:\"em\",\"href\":\"https://en.wikipedia.org/wiki/Trust_on_first_use\"},`trust on first use`)),`\napproach. When you add a new provider for the first time you can verify it\nin whatever way you choose or any way you are required to by relevant\nregulations, and then trust that Terraform will raise an error if a future\nrun of `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform init`),` encounters a non-matching package for the same\nprovider version.`),mdx(\"p\",null,`There are two special considerations with the \"trust on first use\" model:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`If you install a provider from an origin registry which provides checksums\nthat are signed with a cryptographic signature, Terraform will treat all\nof the signed checksums as valid as long as one checksum matches. The lock\nfile will therefore include checksums for both the package you installed for\nyour current platform `,mdx(\"em\",{parentName:\"p\"},`and`),` any other packages that might be available for\nother platforms.`),mdx(\"p\",{parentName:\"li\"},`In this case, the `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform init`),` output will include the fingerprint of\nthe key that signed the checksums, with a message like\n`,mdx(\"inlineCode\",{parentName:\"p\"},`(signed by a HashiCorp partner, key ID DC9FC6B1FCE47986)`),`. You may wish to\nconfirm that you trust the holder of the given key before committing the\nlock file containing the signed checksums, or to retrieve and verify the\nfull set of available packages for the given provider version.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`If you install a provider for the first time using an alternative\ninstallation method, such as a filesystem or network mirror, Terraform will\nnot be able to verify the checksums for any platform other than the one\nwhere you ran `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform init`),`, and so it will not record the checksums\nfor other platforms and so the configuration will not be usable on any other\nplatform.`),mdx(\"p\",{parentName:\"li\"},`To avoid this problem you can pre-populate checksums for a variety of\ndifferent platforms in your lock file using\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/cli/commands/providers/lock\"},`the `,mdx(\"inlineCode\",{parentName:\"a\"},`terraform providers lock`),` command`),`,\nwhich will then allow future calls to `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform init`),` to verify that the\npackages available in your chosen mirror match the official packages from\nthe provider's origin registry.`))),mdx(\"h2\",{\"id\":\"understanding-lock-file-changes\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#understanding-lock-file-changes\",\"aria-label\":\"understanding lock file changes permalink\"},`\\xbb`),`Understanding Lock File Changes`),mdx(\"p\",null,`Because the dependency lock file is primarily maintained automatically by\nTerraform itself, rather than being updated manually by you or your team,\nyour version control system may show you that the file has changed.`),mdx(\"p\",null,`There are a few different types of changes that Terraform can potentially make\nto your lock file, which you may need to understand in order to review the\nproposed changes. The following sections will describe these common situations.`),mdx(\"h3\",{\"id\":\"dependency-on-a-new-provider\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#dependency-on-a-new-provider\",\"aria-label\":\"dependency on a new provider permalink\"},`\\xbb`),`Dependency on a new provider`),mdx(\"p\",null,`If you add a new entry to the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/language/providers/requirements\"},`provider requirements`),` for any module in your\nconfiguration, or if you add an external module that includes a new provider\ndependency itself, `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform init`),` will respond to that by selecting the\nnewest version of that provider which meets all of the version constraints\nin the configuration, and it will record its decision as a new `,mdx(\"inlineCode\",{parentName:\"p\"},`provider`),`\nblock in the dependency lock file.`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"diff\",\"className\":\"language-diff\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-diff\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`--- .terraform.lock.hcl 2020-10-07 16:12:07.539570634 -0700`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`+++ .terraform.lock.hcl 2020-10-07 16:12:15.267487237 -0700`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`@@ -6,6 +6,26 @@`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`   ]`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` }`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`provider \"registry.terraform.io/hashicorp/azurerm\" {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`  version     = \"2.30.0\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`  constraints = \"~> 2.12\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`  hashes = [`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"h1:FJwsuowaG5CIdZ0WQyFZH9r6kIJeRKts9+GcRsTz1+Y=\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"h1:c/ntSXrDYM1mUir2KufijYebPcwKqS9CRGd3duDSGfY=\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"h1:yre4Ph76g9H84MbuhZ2z5MuldjSA4FsrX6538O7PCcY=\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:04f0a50bb2ba92f3bea6f0a9e549ace5a4c13ef0cbb6975494cac0ef7d4acb43\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:2082e12548ebcdd6fd73580e83f626ed4ed13f8cdfd51205d8696ffe54f30734\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:246bcc449e9a92679fb30f3c0a77f05513886565e2dcc66b16c4486f51533064\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:24de3930625ac9014594d79bfa42d600eca65e9022b9668b54bfd0d924e21d14\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:2a22893a576ff6f268d9bf81cf4a56406f7ba79f77826f6df51ee787f6d2840a\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:2b27485e19c2aaa9f15f29c4cff46154a9720647610171e30fc6c18ddc42ec28\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:435f24ce1fb2b63f7f02aa3c84ac29c5757cd29ec4d297ed0618423387fe7bd4\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:7d99725923de5240ff8b34b5510569aa4ebdc0bdb27b7bac2aa911a8037a3893\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:7e3b5d0af3b7411dd9dc65ec9ab6caee8c191aee0fa7f20fc4f51716e67f50c0\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:da0af4552bef5a29b88f6a0718253f3bf71ce471c959816eb7602b0dadb469ca\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`  ]`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`}`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` provider \"registry.terraform.io/newrelic/newrelic\" {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`   version     = \"2.1.2\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`   constraints = \"~> 2.1.1\"`)),`\n`)),mdx(\"p\",null,`The new lock file entry records several pieces of information:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"version\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#version\",\"aria-label\":\"version permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`version`)),`: the exact version that Terraform selected based on the version\nconstraints in the configuration.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"constraints\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#constraints\",\"aria-label\":\"constraints permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`constraints`)),`: all of the version constraints that Terraform considered when\nmaking this selection. (Terraform doesn't actually use this information to\nmake installation decisions, but includes it to help explain to human readers\nhow the previous decision was made.)`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"hashes\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#hashes\",\"aria-label\":\"hashes permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`hashes`)),`: a number of checksums that are all considered to be valid for\npackages implementing the selected version of this provider on different\nplatforms. The meaning of these hashes is explained more under\n`,mdx(\"em\",{parentName:\"li\"},mdx(\"a\",{parentName:\"em\",\"href\":\"#new-provider-package-checksums\"},`New provider package checksums`)),` below.`)),mdx(\"h3\",{\"id\":\"new-version-of-an-existing-provider\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#new-version-of-an-existing-provider\",\"aria-label\":\"new version of an existing provider permalink\"},`\\xbb`),`New version of an existing provider`),mdx(\"p\",null,`If you run `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform init -upgrade`),` to ask Terraform to consider newer provider\nversions that still match the configured version constraints, Terraform may\nthen select a newer version for a provider and update its existing `,mdx(\"inlineCode\",{parentName:\"p\"},`provider`),`\nblock to reflect that change.`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"diff\",\"className\":\"language-diff\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-diff\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`--- .terraform.lock.hcl 2020-10-07 16:44:25.819579509 -0700`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`+++ .terraform.lock.hcl 2020-10-07 16:43:42.785665945 -0700`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`@@ -7,22 +7,22 @@`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` }`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` provider \"registry.terraform.io/hashicorp/azurerm\" {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`  version     = \"2.1.0\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`  constraints = \"~> 2.1.0\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`  version     = \"2.0.0\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`  constraints = \"2.0.0\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`   hashes      = [`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"h1:EOJImaEaVThWasdqnJjfYc6/P8N/MRAq1J7avx5ZbV4=\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:0015b491cf9151235e57e35ea6b89381098e61bd923f56dffc86026d58748880\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:4c5682ba1e0fc7e2e602d3f103af1638f868c31fe80cc1a884a97f6dad6e1c11\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:57bac885b108c91ade4a41590062309c832c9ab6bf6a68046161636fcaef1499\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:5810d48f574c0e363c969b3f45276369c8f0a35b34d6202fdfceb7b85b3ac597\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:5c6e37a44462b8662cf9bdd29ce30523712a45c27c5d4711738705be0785db41\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:64548940a3387aa3a752e709ee9eb9982fa820fe60eb60e5f212cc1d2c58549e\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:7f46749163da17330bbb5293dc825333c86304baa0a7c6256650ac536b4567c8\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:8f8970f2df75ac43ffdd112055ee069d8bd1030f7eb4367cc4cf494a1fa802c3\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:9ad693d00dc5d7d455d06faba70e716bce727c6706f7293288e87fd7956b8fe0\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:b6e3cb55e6aec62b47edd0d2bd5e14bd6a2bcfdac65930a6e9e819934734c57b\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:d6a3f3b9b05c28ecf3919e9e7afa185805a6d7442fc4b3eedba749c2731d1f0e\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:d81fb624a357c57c7ea457ce543d865b39b12f26c2edd58a2f7cd43326c91010\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"h1:bigGXBoRbp7dv79bEEn+aaju8575qEXHQ57XHVPJeB8=\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:09c603c8904ca4a5bc19e82335afbc2837dcc4bee81e395f9daccef2f2cba1c8\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:194a919d4836d6c6d4ce598d0c66cce00ddc0d0b5c40d01bb32789964d818b42\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:1f269627df4e266c4e0ef9ee2486534caa3c8bea91a201feda4bca525005aa0a\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:2bae3071bd5f8e553355c4b3a547d6efe1774a828142b762e9a4e85f79be7f63\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:6c98dfa5c3468e8d02e2b3af7c4a8a14a5d469ce5a642909643b413a17ca338b\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:7af78f61666fd45fbf428161c061ea2623162d601b79dc71d6a5158756853ffa\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:883c2df86ae9ba2a5c167cf5c2c7deca0239171a224d6d335f0fd6dd9c283830\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:a2028379078577d8ff5ecfca6e8a8b25a25ffb1686de0ee52a7fe8011783488b\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:abe6ef399552fd3861a454a839cd978c1d15735658fdc00f9054435aff0f4620\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:c30b1bf14077913c3cdf34979b1434dbb1353cb5995eb3956b191c50538b64a9\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:ca64ae2ad9793e5631e3b0b9327f7cb22cb5d8e9de57be7d85821791b1d5a375\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"zh:fffe56904a38109bb8d613b02808a177c3ddfac19f03b3aac799281fea38f475\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`   ]`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` }`)),`\n`)),mdx(\"p\",null,`The primary effect of selecting a new provider version is to change the\nvalue of `,mdx(\"inlineCode\",{parentName:\"p\"},`version`),` in the `,mdx(\"inlineCode\",{parentName:\"p\"},`provider`),` block. If the upgrade came along with\na change to the configured version constraints, Terraform will also record\nthat change in the `,mdx(\"inlineCode\",{parentName:\"p\"},`constraints`),` value.`),mdx(\"p\",null,`Because each version has its own set of distribution packages, switching to\na new version will also tend to replace all of the values in `,mdx(\"inlineCode\",{parentName:\"p\"},`hashes`),`, to\nreflect the checksums of the packages for the new version.`),mdx(\"h3\",{\"id\":\"new-provider-package-checksums\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#new-provider-package-checksums\",\"aria-label\":\"new provider package checksums permalink\"},`\\xbb`),`New provider package checksums`),mdx(\"p\",null,`A more subtle change you may see in a `,mdx(\"inlineCode\",{parentName:\"p\"},`provider`),` block is the addition of\nnew checksums that were not previously recorded, even though nothing else\nin the `,mdx(\"inlineCode\",{parentName:\"p\"},`provider`),` block has changed:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"diff\",\"className\":\"language-diff\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-diff\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`--- .terraform.lock.hcl 2020-10-07 17:24:23.397892140 -0700`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`+++ .terraform.lock.hcl 2020-10-07 17:24:57.423130253 -0700`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`@@ -10,6 +10,7 @@`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`   version     = \"2.1.0\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`   constraints = \"~> 2.1.0\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`   hashes = [`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`+`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-green)\"}},`    \"h1:1xvaS5D8B8t6J6XmXxX8spo97tAzjhacjedFX1B47Fk=\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`     \"h1:EOJImaEaVThWasdqnJjfYc6/P8N/MRAq1J7avx5ZbV4=\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`     \"zh:0015b491cf9151235e57e35ea6b89381098e61bd923f56dffc86026d58748880\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`     \"zh:4c5682ba1e0fc7e2e602d3f103af1638f868c31fe80cc1a884a97f6dad6e1c11\",`)),`\n`)),mdx(\"p\",null,`The addition of a new checksum into the `,mdx(\"inlineCode\",{parentName:\"p\"},`hashes`),` value represents Terraform\ngradually transitioning between different `,mdx(\"em\",{parentName:\"p\"},`hashing schemes`),`. The `,mdx(\"inlineCode\",{parentName:\"p\"},`h1:`),` and\n`,mdx(\"inlineCode\",{parentName:\"p\"},`zh:`),` prefixes on these values represent different hashing schemes, each\nof which represents calculating a checksum using a different algorithm.\nWe may occasionally introduce new hashing schemes if we learn of limitations\nin the existing schemes or if a new scheme offers some considerable\nadditional benefit.`),mdx(\"p\",null,`The two hashing schemes currently supported are:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"zh\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#zh\",\"aria-label\":\"zh permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`zh:`)),`: a mnemonic for \"zip hash\", this is a legacy hash format which is\npart of the Terraform provider registry protocol and is therefore used for\nproviders that you install directly from an origin registry.`),mdx(\"p\",{parentName:\"li\"},`This hashing scheme captures a SHA256 hash of each of the official `,mdx(\"inlineCode\",{parentName:\"p\"},`.zip`),`\npackages indexed in the origin registry. This is an effective scheme for\nverifying the official release packages when installed from a registry, but\nit's not suitable for verifying packages that come from other\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/cli/config/config-file#provider-installation\"},`provider installation methods`),`,\nsuch as filesystem mirrors using the unpacked directory layout.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"h1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#h1\",\"aria-label\":\"h1 permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`h1:`)),`: a mnemonic for \"hash scheme 1\", which is the current preferred hashing\nscheme.`),mdx(\"p\",{parentName:\"li\"},`Hash scheme 1 is also a SHA256 hash, but is one computed from the `,mdx(\"em\",{parentName:\"p\"},`contents`),`\nof the provider distribution package, rather than of the `,mdx(\"inlineCode\",{parentName:\"p\"},`.zip`),` archive\nit's contained within. This scheme therefore has the advantage that it can\nbe calculated for an official `,mdx(\"inlineCode\",{parentName:\"p\"},`.zip`),` file, an unpacked directory with the\nsame contents, or a recompressed `,mdx(\"inlineCode\",{parentName:\"p\"},`.zip`),` file which contains the same files\nbut potentially different metadata or compression schemes.`),mdx(\"p\",{parentName:\"li\"},`Due to the limited scope of the `,mdx(\"inlineCode\",{parentName:\"p\"},`zh:`),` scheme, Terraform will\nopportunistically add in the corresponding `,mdx(\"inlineCode\",{parentName:\"p\"},`h1:`),` checksums as it learns\nof them, which is what caused the addition of a second `,mdx(\"inlineCode\",{parentName:\"p\"},`h1:`),` checksum\nin the example change shown above.`))),mdx(\"p\",null,`Terraform will add a new hash to an existing provider only if the hash is\ncalculated from a package that `,mdx(\"em\",{parentName:\"p\"},`also`),` matches one of the existing hashes. In\nthe above example, Terraform installed a `,mdx(\"inlineCode\",{parentName:\"p\"},`hashicorp/azurerm`),` package for a\ndifferent platform than that which produced the original `,mdx(\"inlineCode\",{parentName:\"p\"},`h1:`),` checksum, but was\nable to match it against one of the `,mdx(\"inlineCode\",{parentName:\"p\"},`zh:`),` checksums recorded previously.\nAfter confirming the `,mdx(\"inlineCode\",{parentName:\"p\"},`zh:`),` checksum match, Terraform then recorded the\ncorresponding `,mdx(\"inlineCode\",{parentName:\"p\"},`h1:`),` checksum in order to gradually migrate from the old scheme\nto the new scheme.`),mdx(\"p\",null,`When installing a particular provider for the first time (where there is no\nexisting `,mdx(\"inlineCode\",{parentName:\"p\"},`provider`),` block for it), Terraform will pre-populate the `,mdx(\"inlineCode\",{parentName:\"p\"},`hashes`),`\nvalue with any checksums that are covered by the provider developer's\ncryptographic signature, which usually covers all of the available packages\nfor that provider version across all supported platforms. However, because\nthe provider registry protocol still uses the `,mdx(\"inlineCode\",{parentName:\"p\"},`zh:`),` scheme, the initial set\nwill consist primarily of hashes using that scheme, which Terraform will then\nupgrade opportunistically as you install the packages on different platforms.`),mdx(\"p\",null,`If you wish to avoid ongoing additions of new `,mdx(\"inlineCode\",{parentName:\"p\"},`h1:`),` hashes as you work with\nyour configuration on new target platforms, or if you are installing providers\nfrom a mirror that therefore can't provide official signed checksums, you\ncan ask Terraform to pre-populate hashes for a chosen set of platforms\nusing\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/cli/commands/providers/lock\"},`the `,mdx(\"inlineCode\",{parentName:\"a\"},`terraform providers lock`),` command`),`:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`terraform providers lock \\\\\n  -platform=linux_arm64 \\\\\n  -platform=linux_amd64 \\\\\n  -platform=darwin_amd64 \\\\\n  -platform=windows_amd64\n`)),mdx(\"p\",null,`The above command will download and verify the official packages for all of\nthe required providers across all four of the given platforms, and then record\nboth `,mdx(\"inlineCode\",{parentName:\"p\"},`zh:`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`h1:`),` checksums for each of them in the lock file, thus avoiding\nthe case where Terraform will learn about a `,mdx(\"inlineCode\",{parentName:\"p\"},`h1:`),` equivalent only at a later\ntime. See the `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform providers lock`),` documentation for more information on\nthis command.`),mdx(\"h3\",{\"id\":\"providers-that-are-no-longer-required\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#providers-that-are-no-longer-required\",\"aria-label\":\"providers that are no longer required permalink\"},`\\xbb`),`Providers that are no longer required`),mdx(\"p\",null,`To determine whether there still exists a dependency on a given provider,\nTerraform uses two sources of truth: the configuration itself, and the state.\nIf you remove the last dependency on a particular provider from both your\nconfiguration and state, then `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform init`),` will remove any existing lock\nfile entry for that provider.`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"diff\",\"className\":\"language-diff\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-diff\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`--- .terraform.lock.hcl 2020-10-07 16:12:07.539570634 -0700`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`+++ .terraform.lock.hcl 2020-10-07 16:12:15.267487237 -0700`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`@@ -6,26 +6,6 @@`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`   ]`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` }`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`provider \"registry.terraform.io/hashicorp/azurerm\" {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`  version     = \"2.30.0\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`  constraints = \"~> 2.12\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`  hashes = [`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"h1:FJwsuowaG5CIdZ0WQyFZH9r6kIJeRKts9+GcRsTz1+Y=\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"h1:c/ntSXrDYM1mUir2KufijYebPcwKqS9CRGd3duDSGfY=\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"h1:yre4Ph76g9H84MbuhZ2z5MuldjSA4FsrX6538O7PCcY=\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:04f0a50bb2ba92f3bea6f0a9e549ace5a4c13ef0cbb6975494cac0ef7d4acb43\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:2082e12548ebcdd6fd73580e83f626ed4ed13f8cdfd51205d8696ffe54f30734\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:246bcc449e9a92679fb30f3c0a77f05513886565e2dcc66b16c4486f51533064\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:24de3930625ac9014594d79bfa42d600eca65e9022b9668b54bfd0d924e21d14\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:2a22893a576ff6f268d9bf81cf4a56406f7ba79f77826f6df51ee787f6d2840a\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:2b27485e19c2aaa9f15f29c4cff46154a9720647610171e30fc6c18ddc42ec28\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:435f24ce1fb2b63f7f02aa3c84ac29c5757cd29ec4d297ed0618423387fe7bd4\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:7d99725923de5240ff8b34b5510569aa4ebdc0bdb27b7bac2aa911a8037a3893\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:7e3b5d0af3b7411dd9dc65ec9ab6caee8c191aee0fa7f20fc4f51716e67f50c0\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`    \"zh:da0af4552bef5a29b88f6a0718253f3bf71ce471c959816eb7602b0dadb469ca\",`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`  ]`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-deleted)\"}},`}`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\",\"userSelect\":\"none\"}},`-`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` provider \"registry.terraform.io/newrelic/newrelic\" {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`   version     = \"2.1.2\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`   constraints = \"~> 2.1.1\"`)),`\n`)),mdx(\"p\",null,`If you add a new requirement for the same provider at a later date and run\n`,mdx(\"inlineCode\",{parentName:\"p\"},`terraform init`),` again, Terraform will treat it as if it were\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#dependency-on-a-new-provider\"},`an entirely new provider`),`\nand so will not necessarily select the same version that was previously\nselected and will not be able to verify that the checksums remained unchanged.`),mdx(\"div\",{\"className\":\"alert alert-info g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Note:`),` In Terraform v1.0 and earlier, `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform init`),` does not\nautomatically remove now-unneeded providers from the lock file, and instead\njust ignores them. If you removed a provider dependency while using an\nearlier version of Terraform and then upgraded to Terraform v1.1 or later\nthen you may see the error \"missing or corrupted provider plugins\", referring to\nthe stale lock file entries. If so, run `,mdx(\"inlineCode\",{parentName:\"p\"},`terraform init`),` with the new Terraform\nversion to tidy those unneeded entries and then retry the previous operation.`)))};MDXContent.isMDXComponent=true;","scope":{"product":"terraform","version":"latest"}},"product":{"slug":"terraform","name":"Terraform","algoliaConfig":{"indexName":"product_TERRAFORM"},"alertBannerActive":true,"alertBanner":{"tag":"New","url":"https://www.hashicorp.com/blog/introducing-the-infrastructure-cloud","text":"Terraform Cloud is now HCP Terraform","linkText":"Read more ","expirationDate":"2024-04-29T00:00:00-08:00"},"basePaths":["cdktf","cli","cloud-docs","cloud-docs/agents","docs","enterprise","internals","intro","language","plugin","plugin/framework","plugin/log","plugin/mux","plugin/sdkv2","plugin/testing","registry","downloads"],"docsNavItems":["docs","intro","language","cli","cloud-docs","enterprise","cdktf",{"icon":"provider","label":"Provider Use","fullPath":"/terraform/language/providers"},"plugin","registry",{"icon":"handshake","label":"Integration Program","fullPath":"/terraform/docs/partnerships"}],"rootDocsPaths":[{"iconName":"code","name":"CDK for Terraform","path":"cdktf","productSlugForLoader":"terraform-cdk"},{"iconName":"terminal-screen","name":"Terraform CLI","path":"cli"},{"iconName":"cloud","name":"HCP Terraform","path":"cloud-docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"cloud","name":"HCP Terraform Agents","navDataPrefix":"cloud-docs-agents","path":"cloud-docs/agents","productSlugForLoader":"terraform-docs-agents"},{"iconName":"docs","name":"Documentation","path":"docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"org","name":"Terraform Enterprise","path":"enterprise","productSlugForLoader":"ptfe-releases"},{"iconName":"docs","name":"Internals","path":"internals"},{"iconName":"docs","name":"Intro to Terraform","path":"intro"},{"iconName":"file-source","name":"Configuration Language","path":"language"},{"iconName":"wrench","name":"Plugin Development","path":"plugin","productSlugForLoader":"terraform-docs-common"},{"iconName":"plug","name":"Framework","navDataPrefix":"plugin-framework","path":"plugin/framework","productSlugForLoader":"terraform-plugin-framework"},{"iconName":"plug","name":"Logging","navDataPrefix":"plugin-log","path":"plugin/log","productSlugForLoader":"terraform-plugin-log"},{"iconName":"plug","name":"Combining and Translating","navDataPrefix":"plugin-mux","path":"plugin/mux","productSlugForLoader":"terraform-plugin-mux"},{"iconName":"plug","name":"SDKv2","path":"plugin/sdkv2","productSlugForLoader":"terraform-plugin-sdk","navDataPrefix":"plugin-sdkv2"},{"iconName":"plug","name":"Testing","path":"plugin/testing","productSlugForLoader":"terraform-plugin-testing","navDataPrefix":"plugin-testing"},{"iconName":"plus-circle","name":"Registry Publishing","path":"registry","productSlugForLoader":"terraform-docs-common"}],"currentRootDocsPath":{"iconName":"file-source","name":"Configuration Language","path":"language"}},"projectName":null,"versions":null},"__N_SSG":true}